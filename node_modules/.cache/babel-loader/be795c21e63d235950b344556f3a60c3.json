{"remainingRequest":"/Users/momo/vue/live-data-analysis-static/node_modules/babel-loader/lib/index.js!/Users/momo/vue/live-data-analysis-static/src/components/TagSelect/index.jsx","dependencies":[{"path":"/Users/momo/vue/live-data-analysis-static/src/components/TagSelect/index.jsx","mtime":1626864386260},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1626939577620},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/babel-loader/lib/index.js","mtime":1626939577610}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvbW9tby92dWUvbGl2ZS1kYXRhLWFuYWx5c2lzLXN0YXRpYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX21lcmdlSlNYUHJvcHMgZnJvbSAiQHZ1ZS9iYWJlbC1oZWxwZXItdnVlLWpzeC1tZXJnZS1wcm9wcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgUHJvcFR5cGVzIGZyb20gJ2FudC1kZXNpZ24tdnVlL2VzL191dGlsL3Z1ZS10eXBlcyc7CmltcG9ydCBPcHRpb24gZnJvbSAnLi9UYWdTZWxlY3RPcHRpb24uanN4JzsKaW1wb3J0IHsgZmlsdGVyRW1wdHkgfSBmcm9tICdAL2NvbXBvbmVudHMvX3V0aWwvdXRpbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBPcHRpb246IE9wdGlvbiwKICBuYW1lOiAnVGFnU2VsZWN0JywKICBtb2RlbDogewogICAgcHJvcDogJ2NoZWNrZWQnLAogICAgZXZlbnQ6ICdjaGFuZ2UnCiAgfSwKICBwcm9wczogewogICAgcHJlZml4Q2xzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2FudC1wcm8tdGFnLXNlbGVjdCcKICAgIH0sCiAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgdHlwZTogUHJvcFR5cGVzLmFycmF5LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogUHJvcFR5cGVzLmFycmF5LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZXhwYW5kYWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGhpZGVDaGVja0FsbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGV4cGFuZDogZmFsc2UsCiAgICAgIGxvY2FsQ2hlY2tBbGw6IGZhbHNlLAogICAgICBpdGVtczogdGhpcy5nZXRJdGVtc0tleShmaWx0ZXJFbXB0eSh0aGlzLiRzbG90cy5kZWZhdWx0KSksCiAgICAgIHZhbDogdGhpcy52YWx1ZSB8fCB0aGlzLmRlZmF1bHRWYWx1ZSB8fCBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShjaGVja2VkKSB7CiAgICAgIHZhciBrZXkgPSBPYmplY3Qua2V5cyh0aGlzLml0ZW1zKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJldHVybiBrZXkgPT09IGNoZWNrZWQudmFsdWU7CiAgICAgIH0pOwogICAgICB0aGlzLml0ZW1zW2tleV0gPSBjaGVja2VkLmNoZWNrZWQ7CiAgICAgIHZhciBib29sID0gT2JqZWN0LnZhbHVlcyh0aGlzLml0ZW1zKS5sYXN0SW5kZXhPZihmYWxzZSk7CgogICAgICBpZiAoYm9vbCA9PT0gLTEpIHsKICAgICAgICB0aGlzLmxvY2FsQ2hlY2tBbGwgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9jYWxDaGVja0FsbCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgb25DaGVja0FsbDogZnVuY3Rpb24gb25DaGVja0FsbChjaGVja2VkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBPYmplY3Qua2V5cyh0aGlzLml0ZW1zKS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgX3RoaXMuaXRlbXNbdl0gPSBjaGVja2VkLmNoZWNrZWQ7CiAgICAgIH0pOwogICAgICB0aGlzLmxvY2FsQ2hlY2tBbGwgPSBjaGVja2VkLmNoZWNrZWQ7CiAgICB9LAogICAgZ2V0SXRlbXNLZXk6IGZ1bmN0aW9uIGdldEl0ZW1zS2V5KGl0ZW1zKSB7CiAgICAgIHZhciB0b3RhbEl0ZW0gPSB7fTsKICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHRvdGFsSXRlbVtpdGVtLmNvbXBvbmVudE9wdGlvbnMucHJvcHNEYXRhICYmIGl0ZW0uY29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGEudmFsdWVdID0gZmFsc2U7CiAgICAgIH0pOwogICAgICByZXR1cm4gdG90YWxJdGVtOwogICAgfSwKICAgIC8vIENoZWNrQWxsIEJ1dHRvbgogICAgcmVuZGVyQ2hlY2tBbGw6IGZ1bmN0aW9uIHJlbmRlckNoZWNrQWxsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgdmFyIHByb3BzID0gewogICAgICAgIG9uOiB7CiAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShjaGVja2VkKSB7CiAgICAgICAgICAgIF90aGlzMi5vbkNoZWNrQWxsKGNoZWNrZWQpOwoKICAgICAgICAgICAgY2hlY2tlZC52YWx1ZSA9ICd0b3RhbCc7CgogICAgICAgICAgICBfdGhpczIuJGVtaXQoJ2NoYW5nZScsIGNoZWNrZWQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIGNoZWNrQWxsRWxlbWVudCA9IGgoT3B0aW9uLCBfbWVyZ2VKU1hQcm9wcyhbewogICAgICAgICJrZXkiOiAndG90YWwnLAogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJjaGVja2VkIjogdGhpcy5sb2NhbENoZWNrQWxsCiAgICAgICAgfQogICAgICB9LCBwcm9wc10pLCBbIkFsbCJdKTsKICAgICAgcmV0dXJuICF0aGlzLmhpZGVDaGVja0FsbCAmJiBjaGVja0FsbEVsZW1lbnQgfHwgbnVsbDsKICAgIH0sCiAgICAvLyBleHBhbmRhYmxlCiAgICByZW5kZXJFeHBhbmRhYmxlOiBmdW5jdGlvbiByZW5kZXJFeHBhbmRhYmxlKCkge30sCiAgICAvLyByZW5kZXIgb3B0aW9uCiAgICByZW5kZXJUYWdzOiBmdW5jdGlvbiByZW5kZXJUYWdzKGl0ZW1zKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGxpc3RlbmVycyA9IHsKICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShjaGVja2VkKSB7CiAgICAgICAgICBfdGhpczMub25DaGFuZ2UoY2hlY2tlZCk7CgogICAgICAgICAgX3RoaXMzLiRlbWl0KCdjaGFuZ2UnLCBjaGVja2VkKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKHZub2RlKSB7CiAgICAgICAgdmFyIG9wdGlvbnMgPSB2bm9kZS5jb21wb25lbnRPcHRpb25zOwogICAgICAgIG9wdGlvbnMubGlzdGVuZXJzID0gbGlzdGVuZXJzOwogICAgICAgIHJldHVybiB2bm9kZTsKICAgICAgfSk7CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgIHZhciBoID0gYXJndW1lbnRzWzBdOwogICAgdmFyIHByZWZpeENscyA9IHRoaXMuJHByb3BzLnByZWZpeENsczsKCiAgICB2YXIgY2xhc3NTdHJpbmcgPSBfZGVmaW5lUHJvcGVydHkoe30sICIiLmNvbmNhdChwcmVmaXhDbHMpLCB0cnVlKTsKCiAgICB2YXIgdGFnSXRlbXMgPSBmaWx0ZXJFbXB0eSh0aGlzLiRzbG90cy5kZWZhdWx0KTsKICAgIHJldHVybiBoKCJkaXYiLCB7CiAgICAgICJjbGFzcyI6IGNsYXNzU3RyaW5nCiAgICB9LCBbdGhpcy5yZW5kZXJDaGVja0FsbCgpLCB0aGlzLnJlbmRlclRhZ3ModGFnSXRlbXMpXSk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/momo/vue/live-data-analysis-static/src/components/TagSelect/index.jsx"],"names":["PropTypes","Option","filterEmpty","name","model","prop","event","props","prefixCls","type","String","default","defaultValue","array","value","expandable","Boolean","hideCheckAll","data","expand","localCheckAll","items","getItemsKey","$slots","val","methods","onChange","checked","key","Object","keys","filter","bool","values","lastIndexOf","onCheckAll","forEach","v","totalItem","item","componentOptions","propsData","renderCheckAll","on","change","$emit","checkAllElement","renderExpandable","renderTags","listeners","map","vnode","options","render","$props","classString","tagItems"],"mappings":"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","sourcesContent":["import PropTypes from 'ant-design-vue/es/_util/vue-types'\nimport Option from './TagSelectOption.jsx'\nimport { filterEmpty } from '@/components/_util/util'\n\nexport default {\n  Option,\n  name: 'TagSelect',\n  model: {\n    prop: 'checked',\n    event: 'change'\n  },\n  props: {\n    prefixCls: {\n      type: String,\n      default: 'ant-pro-tag-select'\n    },\n    defaultValue: {\n      type: PropTypes.array,\n      default: null\n    },\n    value: {\n      type: PropTypes.array,\n      default: null\n    },\n    expandable: {\n      type: Boolean,\n      default: false\n    },\n    hideCheckAll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      expand: false,\n      localCheckAll: false,\n      items: this.getItemsKey(filterEmpty(this.$slots.default)),\n      val: this.value || this.defaultValue || []\n    }\n  },\n  methods: {\n    onChange (checked) {\n      const key = Object.keys(this.items).filter(key => key === checked.value)\n      this.items[key] = checked.checked\n      const bool = Object.values(this.items).lastIndexOf(false)\n      if (bool === -1) {\n        this.localCheckAll = true\n      } else {\n        this.localCheckAll = false\n      }\n    },\n    onCheckAll (checked) {\n      Object.keys(this.items).forEach(v => {\n        this.items[v] = checked.checked\n      })\n      this.localCheckAll = checked.checked\n    },\n    getItemsKey (items) {\n      const totalItem = {}\n      items.forEach(item => {\n        totalItem[item.componentOptions.propsData && item.componentOptions.propsData.value] = false\n      })\n      return totalItem\n    },\n    // CheckAll Button\n    renderCheckAll () {\n      const props = {\n        on: {\n          change: (checked) => {\n            this.onCheckAll(checked)\n            checked.value = 'total'\n            this.$emit('change', checked)\n          }\n        }\n      }\n      const checkAllElement = <Option key={'total'} checked={this.localCheckAll} {...props}>All</Option>\n      return !this.hideCheckAll && checkAllElement || null\n    },\n    // expandable\n    renderExpandable () {\n\n    },\n    // render option\n    renderTags (items) {\n      const listeners = {\n        change: (checked) => {\n          this.onChange(checked)\n          this.$emit('change', checked)\n        }\n      }\n\n      return items.map(vnode => {\n        const options = vnode.componentOptions\n        options.listeners = listeners\n        return vnode\n      })\n    }\n  },\n  render () {\n    const { $props: { prefixCls } } = this\n    const classString = {\n      [`${prefixCls}`]: true\n    }\n    const tagItems = filterEmpty(this.$slots.default)\n    return (\n      <div class={classString}>\n        {this.renderCheckAll()}\n        {this.renderTags(tagItems)}\n      </div>\n    )\n  }\n}\n"]}]}
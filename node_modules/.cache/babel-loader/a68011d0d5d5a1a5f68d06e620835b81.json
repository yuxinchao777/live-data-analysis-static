{"remainingRequest":"/Users/momo/vue/live-data-analysis-static/node_modules/babel-loader/lib/index.js!/Users/momo/vue/live-data-analysis-static/src/locales/index.js","dependencies":[{"path":"/Users/momo/vue/live-data-analysis-static/src/locales/index.js","mtime":1626864386268},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1626939577620},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/babel-loader/lib/index.js","mtime":1640003217818}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21vbW8vdnVlL2xpdmUtZGF0YS1hbmFseXNpcy1zdGF0aWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVJMThuIGZyb20gJ3Z1ZS1pMThuJzsKaW1wb3J0IHN0b3JhZ2UgZnJvbSAnc3RvcmUnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7IC8vIGRlZmF1bHQgbGFuZwovLyBpbXBvcnQgZW5VUyBmcm9tICcuL2xhbmcvZW4tVVMnCgppbXBvcnQgemhDTiBmcm9tICcuL2xhbmcvemgtQ04nOwpWdWUudXNlKFZ1ZUkxOG4pOwpleHBvcnQgdmFyIGRlZmF1bHRMYW5nID0gJ3poLUNOJzsKdmFyIG1lc3NhZ2VzID0gewogICd6aC1DTic6IF9vYmplY3RTcHJlYWQoe30sIHpoQ04pCn07CnZhciBpMThuID0gbmV3IFZ1ZUkxOG4oewogIHNpbGVudFRyYW5zbGF0aW9uV2FybjogdHJ1ZSwKICBsb2NhbGU6IGRlZmF1bHRMYW5nLAogIGZhbGxiYWNrTG9jYWxlOiBkZWZhdWx0TGFuZywKICBtZXNzYWdlczogbWVzc2FnZXMKfSk7CnZhciBsb2FkZWRMYW5ndWFnZXMgPSBbZGVmYXVsdExhbmddOwoKZnVuY3Rpb24gc2V0STE4bkxhbmd1YWdlKGxhbmcpIHsKICBpMThuLmxvY2FsZSA9IGxhbmc7IC8vIHJlcXVlc3QuaGVhZGVyc1snQWNjZXB0LUxhbmd1YWdlJ10gPSBsYW5nCgogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5zZXRBdHRyaWJ1dGUoJ2xhbmcnLCBsYW5nKTsKICByZXR1cm4gbGFuZzsKfQoKZXhwb3J0IGZ1bmN0aW9uIGxvYWRMYW5ndWFnZUFzeW5jKCkgewogIHZhciBsYW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBkZWZhdWx0TGFuZzsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIC8vIOe8k+WtmOivreiogOiuvue9rgogICAgc3RvcmFnZS5zZXQoJ2xhbmcnLCBsYW5nKTsKCiAgICBpZiAoaTE4bi5sb2NhbGUgIT09IGxhbmcpIHsKICAgICAgaWYgKCFsb2FkZWRMYW5ndWFnZXMuaW5jbHVkZXMobGFuZykpIHsKICAgICAgICByZXR1cm4gaW1wb3J0KAogICAgICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJsYW5nLVtyZXF1ZXN0XSIgKi8KICAgICAgICAiLi9sYW5nLyIuY29uY2F0KGxhbmcpKS50aGVuKGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgIHZhciBsb2NhbGUgPSBtc2cuZGVmYXVsdDsKICAgICAgICAgIGkxOG4uc2V0TG9jYWxlTWVzc2FnZShsYW5nLCBsb2NhbGUpOwogICAgICAgICAgbG9hZGVkTGFuZ3VhZ2VzLnB1c2gobGFuZyk7CiAgICAgICAgICBtb21lbnQudXBkYXRlTG9jYWxlKGxvY2FsZS5tb21lbnROYW1lLCBsb2NhbGUubW9tZW50TG9jYWxlKTsKICAgICAgICAgIHJldHVybiBzZXRJMThuTGFuZ3VhZ2UobGFuZyk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXNvbHZlKHNldEkxOG5MYW5ndWFnZShsYW5nKSk7CiAgICB9CgogICAgcmV0dXJuIHJlc29sdmUobGFuZyk7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGkxOG5SZW5kZXIoa2V5KSB7CiAgcmV0dXJuIGkxOG4udCgiIi5jb25jYXQoa2V5KSk7Cn0KZXhwb3J0IGRlZmF1bHQgaTE4bjs="},{"version":3,"sources":["/Users/momo/vue/live-data-analysis-static/src/locales/index.js"],"names":["Vue","VueI18n","storage","moment","zhCN","use","defaultLang","messages","i18n","silentTranslationWarn","locale","fallbackLocale","loadedLanguages","setI18nLanguage","lang","document","querySelector","setAttribute","loadLanguageAsync","Promise","resolve","set","includes","then","msg","default","setLocaleMessage","push","updateLocale","momentName","momentLocale","i18nRender","key","t"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,OAAP,MAAoB,UAApB;AACA,OAAOC,OAAP,MAAoB,OAApB;AACA,OAAOC,MAAP,MAAmB,QAAnB,C,CAEA;AACA;;AACA,OAAOC,IAAP,MAAiB,cAAjB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,OAAR;AAEA,OAAO,IAAMK,WAAW,GAAG,OAApB;AAEP,IAAMC,QAAQ,GAAG;AACf,6BACKH,IADL;AADe,CAAjB;AAMA,IAAMI,IAAI,GAAG,IAAIP,OAAJ,CAAY;AACvBQ,EAAAA,qBAAqB,EAAE,IADA;AAEvBC,EAAAA,MAAM,EAAEJ,WAFe;AAGvBK,EAAAA,cAAc,EAAEL,WAHO;AAIvBC,EAAAA,QAAQ,EAARA;AAJuB,CAAZ,CAAb;AAOA,IAAMK,eAAe,GAAG,CAACN,WAAD,CAAxB;;AAEA,SAASO,eAAT,CAA0BC,IAA1B,EAAgC;AAC9BN,EAAAA,IAAI,CAACE,MAAL,GAAcI,IAAd,CAD8B,CAE9B;;AACAC,EAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,YAA/B,CAA4C,MAA5C,EAAoDH,IAApD;AACA,SAAOA,IAAP;AACD;;AAED,OAAO,SAASI,iBAAT,GAAgD;AAAA,MAApBJ,IAAoB,uEAAbR,WAAa;AACrD,SAAO,IAAIa,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B;AACAlB,IAAAA,OAAO,CAACmB,GAAR,CAAY,MAAZ,EAAoBP,IAApB;;AACA,QAAIN,IAAI,CAACE,MAAL,KAAgBI,IAApB,EAA0B;AACxB,UAAI,CAACF,eAAe,CAACU,QAAhB,CAAyBR,IAAzB,CAAL,EAAqC;AACnC,eAAO;AAAO;AAAP,yBAA0DA,IAA1D,GAAkES,IAAlE,CAAuE,UAAAC,GAAG,EAAI;AACnF,cAAMd,MAAM,GAAGc,GAAG,CAACC,OAAnB;AACAjB,UAAAA,IAAI,CAACkB,gBAAL,CAAsBZ,IAAtB,EAA4BJ,MAA5B;AACAE,UAAAA,eAAe,CAACe,IAAhB,CAAqBb,IAArB;AACAX,UAAAA,MAAM,CAACyB,YAAP,CAAoBlB,MAAM,CAACmB,UAA3B,EAAuCnB,MAAM,CAACoB,YAA9C;AACA,iBAAOjB,eAAe,CAACC,IAAD,CAAtB;AACD,SANM,CAAP;AAOD;;AACD,aAAOM,OAAO,CAACP,eAAe,CAACC,IAAD,CAAhB,CAAd;AACD;;AACD,WAAOM,OAAO,CAACN,IAAD,CAAd;AACD,GAhBM,CAAP;AAiBD;AAED,OAAO,SAASiB,UAAT,CAAqBC,GAArB,EAA0B;AAC/B,SAAOxB,IAAI,CAACyB,CAAL,WAAUD,GAAV,EAAP;AACD;AAED,eAAexB,IAAf","sourcesContent":["import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\nimport storage from 'store'\nimport moment from 'moment'\n\n// default lang\n// import enUS from './lang/en-US'\nimport zhCN from './lang/zh-CN'\n\nVue.use(VueI18n)\n\nexport const defaultLang = 'zh-CN'\n\nconst messages = {\n  'zh-CN': {\n    ...zhCN\n  }\n}\n\nconst i18n = new VueI18n({\n  silentTranslationWarn: true,\n  locale: defaultLang,\n  fallbackLocale: defaultLang,\n  messages\n})\n\nconst loadedLanguages = [defaultLang]\n\nfunction setI18nLanguage (lang) {\n  i18n.locale = lang\n  // request.headers['Accept-Language'] = lang\n  document.querySelector('html').setAttribute('lang', lang)\n  return lang\n}\n\nexport function loadLanguageAsync (lang = defaultLang) {\n  return new Promise(resolve => {\n    // 缓存语言设置\n    storage.set('lang', lang)\n    if (i18n.locale !== lang) {\n      if (!loadedLanguages.includes(lang)) {\n        return import(/* webpackChunkName: \"lang-[request]\" */ `./lang/${lang}`).then(msg => {\n          const locale = msg.default\n          i18n.setLocaleMessage(lang, locale)\n          loadedLanguages.push(lang)\n          moment.updateLocale(locale.momentName, locale.momentLocale)\n          return setI18nLanguage(lang)\n        })\n      }\n      return resolve(setI18nLanguage(lang))\n    }\n    return resolve(lang)\n  })\n}\n\nexport function i18nRender (key) {\n  return i18n.t(`${key}`)\n}\n\nexport default i18n\n"]}]}
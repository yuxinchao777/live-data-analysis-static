{"remainingRequest":"/Users/momo/vue/live-data-analysis-static/node_modules/babel-loader/lib/index.js!/Users/momo/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/momo/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/momo/vue/live-data-analysis-static/src/views/qadata/qadate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/momo/vue/live-data-analysis-static/src/views/qadata/qadate.vue","mtime":1629956054048},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1626939577620},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/babel-loader/lib/index.js","mtime":1626939577610},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1626939577620},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js","mtime":1626939590555}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYXhpb3MgfSBmcm9tICdAL3V0aWxzL3JlcXVlc3QnOwp2YXIgY29sdW1ucyA9IFt7CiAgdGl0bGU6ICflp5PlkI0nLAogIHdpZHRoOiA1MCwKICBkYXRhSW5kZXg6ICduYW1lJywKICBrZXk6ICduYW1lJwp9LCB7CiAgdGl0bGU6ICflt6Xml7bvvIhI77yJJywKICB3aWR0aDogNTAsCiAgZGF0YUluZGV4OiAnam9iSG91cnMnLAogIGtleTogJ3VzZV90aW1lJwp9LCB7CiAgdGl0bGU6ICdjYXNl5pWwJywKICBkYXRhSW5kZXg6ICdjYXNlTnVtJywKICBrZXk6ICdjYXNlTnVtJywKICB3aWR0aDogNTAKfSwgewogIHRpdGxlOiAnYnVn5pWwJywKICBkYXRhSW5kZXg6ICdidWdOdW0nLAogIGtleTogJ2J1Z051bScsCiAgd2lkdGg6IDUwCn0sIHsKICB0aXRsZTogJ+ivpuaDhScsCiAga2V5OiAndGFza0RldGFpbCcsCiAgd2lkdGg6IDEwMCwKICBzY29wZWRTbG90czogewogICAgY3VzdG9tUmVuZGVyOiAnYWN0aW9uJwogIH0KfV07CnZhciBxYWRhdGFzID0gewogIHN0YXR1c2NvZGU6IDIwMCwKICBkYXRhOiB7CiAgICBhcGFydG1lbnRzOiBbewogICAgICBpZDogMSwKICAgICAgbmFtZTogIuWVhuS4mlFBIgogICAgfV0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sdW1uczogY29sdW1ucywKICAgICAgcWFkYXRhczogcWFkYXRhcywKICAgICAgcWFkYXRhOiBbXSwKICAgICAgZGF0ZVJhbmdlOiBbXSwKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIGFwYXJ0bWVudGlkOiAwLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBwYWdpbmF0aW9uOiB7CiAgICAgICAgZGVmYXVsdFBhZ2VTaXplOiA1MAogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdGhpcy5kYXRlUmFuZ2UgPSBbdGhpcy5kYXlqcygpLnN0YXJ0T2YoJ3dlZWsnKS5hZGQoMSwgImRheSIpLmZvcm1hdCgnZGRkZCBNTU0gREQgWVlZWSBISDptbTpzcyBaWicpLCB0aGlzLmRheWpzKCkuZW5kT2YoJ3dlZWsnKS5hZGQoMSwgImRheSIpLmZvcm1hdCgnZGRkZCBNTU0gREQgWVlZWSBISDptbTpzcyBaWicpXTsKICAgICAgdmFyIHRlbXB0aW1lID0gW3RoaXMuZGF5anMoKS5zdGFydE9mKCd3ZWVrJykuYWRkKDEsICJkYXkiKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSwgdGhpcy5kYXlqcygpLmVuZE9mKCd3ZWVrJykuYWRkKDEsICJkYXkiKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKV07CiAgICAgIHRoaXMuZ2V0cWFkYXRlKHRlbXB0aW1lWzBdLCB0ZW1wdGltZVsxXSk7CiAgICB9LAogICAgZ2V0cWFkYXRlOiBmdW5jdGlvbiBnZXRxYWRhdGUoc3RhcnR0aW1lLCBlbmR0aW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoJy9xYVN0YXRpc3RpY3MnLCB7CiAgICAgICAgc3RhcnRUaW1lOiBzdGFydHRpbWUsCiAgICAgICAgZW5kVGltZTogZW5kdGltZSwKICAgICAgICBhcGFydG1lbnRpZDogdGhpcy5hcGFydG1lbnRpZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgX3RoaXMucWFkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCflhoXnvZHmlbDmja7ojrflj5blpLHotKUnKTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0YXBhcnRtZW50aWQ6IGZ1bmN0aW9uIHNldGFwYXJ0bWVudGlkKGFwYXJ0bWVudGlkKSB7CiAgICAgIHRoaXMuYXBhcnRtZW50aWQgPSBhcGFydG1lbnRpZDsKICAgIH0sCiAgICBnZXRuZWVkdGltZWxpc3Q6IGZ1bmN0aW9uIGdldG5lZWR0aW1lbGlzdChkYXRlUmFuZ2UpIHsKICAgICAgdmFyIGN1cnJlbnRTdGFydFRpbWUgPSB0aGlzLmRheWpzKGRhdGVSYW5nZVswXS52YWx1ZU9mKCkpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpOwogICAgICB2YXIgY3VycmVudEVuZFRpbWUgPSB0aGlzLmRheWpzKGRhdGVSYW5nZVsxXS52YWx1ZU9mKCkpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpOwogICAgICB0aGlzLmdldHFhZGF0ZShjdXJyZW50U3RhcnRUaW1lLCBjdXJyZW50RW5kVGltZSk7CiAgICB9LAogICAganVtcHRvOiBmdW5jdGlvbiBqdW1wdG8oaHJlZmhvc3QpIHsKICAgICAgd2luZG93Lm9wZW4oaHJlZmhvc3QpOwogICAgfSwKICAgIGdldGN1cnJlbnR0aW1lOiBmdW5jdGlvbiBnZXRjdXJyZW50dGltZShyYW5nZXRpbWUpIHsKICAgICAgdmFyIHN0YXJ0dGltZSA9IHRoaXMuZGF5anMocmFuZ2V0aW1lWzBdKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTsKICAgICAgdmFyIGVuZHRpbWUgPSB0aGlzLmRheWpzKHJhbmdldGltZVsxXSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyk7CiAgICAgIHJldHVybiBbc3RhcnR0aW1lLCBlbmR0aW1lXTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["qadate.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div>\n      <!--部门下拉框-->\n      部门<a-select default-value=\"商业QA\" style=\"width: 100px;margin-left: 5px\">\n      <a-select-option v-for='apartment in qadatas.data.apartments' :key='apartment.id' :value=\"apartment.name\" @click='setapartmentid(apartment.id)' >\n        {{apartment.name}}\n      </a-select-option>\n    </a-select>\n      <!--时间选择框-->\n      <a-range-picker class='a-range-picker' style='width:400px' show-time v-model:value = \"dateRange\">\n        <template slot='renderExtraFooter' >\n          日期选择\n        </template>\n      </a-range-picker>\n      <a-button type='primary' icon='search' @click='getneedtimelist(dateRange)'>\n        查询\n      </a-button>\n    </div>\n    <a-table :columns='columns' :data-source='qadata' style='margin-top: 20px' :loading='isLoading'\n             :pagination='pagination'>\n      <a slot='action' slot-scope='text,record'>\n        <!--        {{record.details}}-->\n        <a-dropdown>\n          <a class='ant-dropdown-link'>\n            查看详情\n            <a-icon type='down' />\n          </a>\n          <a-menu slot='overlay' v-if='record.taskDetail && record.taskDetail.length'\n                  style='overflow: scroll;width:auto;height: 175px'>\n            <a-menu-item v-for='(detail,index) in record.taskDetail' :key='index'\n                         @click='jumpto(detail && detail.taskUrl)'>\n              <h4 style='size: A4; color: #096dd9'> {{ detail.taskName }}</h4>\n            </a-menu-item>\n          </a-menu>\n          <a-menu slot=\"overlay\" v-else>\n            <a-menu-item>\n              <h4 style='size: A4;'>无</h4>\n            </a-menu-item>\n\n          </a-menu>\n        </a-dropdown>\n      </a>\n    </a-table>\n  </div>\n</template>\n\n<script>\nimport { axios } from '@/utils/request'\n\nconst columns = [\n  { title: '姓名', width: 50, dataIndex: 'name', key: 'name'},\n  { title: '工时（H）', width: 50, dataIndex: 'jobHours', key: 'use_time'},\n  { title: 'case数', dataIndex: 'caseNum', key: 'caseNum', width: 50 },\n  { title: 'bug数', dataIndex: 'bugNum', key: 'bugNum', width: 50 },\n  {\n    title: '详情',\n    key: 'taskDetail',\n    width: 100,\n    scopedSlots: { customRender: 'action' }\n  }\n]\n\n\nconst qadatas = {\n  statuscode : 200,\n  data : {\n    apartments :[\n      {id:1,name:\"商业QA\"},\n    ],\n  }\n}\n\nexport default {\n  data() {\n    return {\n      columns,\n      qadatas,\n      qadata:[],\n      dateRange: [],\n      visible: false,\n      apartmentid:0,\n      isLoading: false,\n      pagination:{defaultPageSize:50}\n    }\n  },\n\n  methods:{\n    init(){\n      this.dateRange =[this.dayjs().startOf('week').add(1,\"day\").format('dddd MMM DD YYYY HH:mm:ss ZZ'),\n        this.dayjs().endOf('week').add(1,\"day\").format('dddd MMM DD YYYY HH:mm:ss ZZ')]\n      let temptime = [this.dayjs().startOf('week').add(1,\"day\").format('YYYY-MM-DD HH:mm:ss'),\n        this.dayjs().endOf('week').add(1,\"day\").format('YYYY-MM-DD HH:mm:ss')]\n      this.getqadate(temptime[0],temptime[1])\n    },\n    getqadate(starttime,endtime){\n      this.isLoading = true\n      axios\n        .post('/qaStatistics', {\n          startTime: starttime,\n          endTime: endtime,\n          apartmentid: this.apartmentid\n        })\n        .then((response) => {\n          if (response.code === 200) {\n            this.isLoading = false\n            this.qadata = response.data\n          }\n        }\n      ).catch((error) => {\n          this.$message.error('内网数据获取失败')\n        }\n      )\n    },\n    setapartmentid(apartmentid){\n      this.apartmentid=apartmentid\n    },\n    getneedtimelist(dateRange){\n      let currentStartTime = this.dayjs(dateRange[0].valueOf()).format('YYYY-MM-DD HH:mm:ss')\n      let currentEndTime = this.dayjs(dateRange[1].valueOf()).format('YYYY-MM-DD HH:mm:ss')\n      this.getqadate(currentStartTime,currentEndTime)\n    },\n    jumpto(hrefhost){\n      window.open(hrefhost)\n    },\n    getcurrenttime(rangetime){\n      const starttime = this.dayjs(rangetime[0]).format('YYYY-MM-DD HH:mm:ss')\n      const endtime = this.dayjs(rangetime[1]).format('YYYY-MM-DD HH:mm:ss')\n      return [starttime,endtime]\n    }\n  },\n  computed:{\n  },\n  created() {\n    this.init()\n  }\n}\n\n</script>\n\n<style scoped>\n.a-range-picker{\n  margin-left: 20px;\n  margin-right: 20px;\n}\n\n\n</style>"],"sourceRoot":"src/views/qadata"}]}
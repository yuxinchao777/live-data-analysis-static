{"remainingRequest":"/Users/momo/code/vue/live-data-analysis-static/node_modules/babel-loader/lib/index.js!/Users/momo/code/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/momo/code/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/momo/code/vue/live-data-analysis-static/src/views/qadata/qadata.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/momo/code/vue/live-data-analysis-static/src/views/qadata/qadata.vue","mtime":1647413973000},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1647586199048},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/babel-loader/lib/index.js","mtime":1647586198975},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1647586199048},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js","mtime":1647586368323}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgJ21vbWVudC9sb2NhbGUvemgtY24nOwppbXBvcnQgeyBheGlvcyB9IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCc7CnZhciBjb2x1bW5zID0gW3sKICB0aXRsZTogJ+Wnk+WQjScsCiAgd2lkdGg6IDMwLAogIGRhdGFJbmRleDogJ25hbWUnLAogIGtleTogJ25hbWUnCn0sIHsKICB0aXRsZTogJ+W3peaXtu+8iEjvvIknLAogIHdpZHRoOiAzMCwKICBkYXRhSW5kZXg6ICdqb2JIb3VyJywKICBrZXk6ICdqb2JIb3VyJwp9LCB7CiAgdGl0bGU6ICflt6Xml7bvvIjlpKnvvIknLAogIHdpZHRoOiAzMCwKICBkYXRhSW5kZXg6ICdqb2JEYXknLAogIGtleTogJ2pvYkRheScKfSwgewogIHRpdGxlOiAnY2FzZeaVsCcsCiAgd2lkdGg6IDMwLAogIGRhdGFJbmRleDogJ2Nhc2VOdW0nLAogIGtleTogJ2Nhc2VOdW0nCn0sIHsKICB0aXRsZTogJ2J1Z+aVsCcsCiAgd2lkdGg6IDMwLAogIGRhdGFJbmRleDogJ2J1Z051bScsCiAga2V5OiAnYnVnTnVtJwp9LCB7CiAgdGl0bGU6ICfor6bmg4UnLAogIGtleTogJ3Rhc2tEZXRhaWwnLAogIHdpZHRoOiAyNTAsCiAgc2NvcGVkU2xvdHM6IHsKICAgIGN1c3RvbVJlbmRlcjogJ2FjdGlvbicKICB9Cn1dOwp2YXIgcWFkYXRhcyA9IHsKICBzdGF0dXNjb2RlOiAyMDAsCiAgZGF0YTogewogICAgYXBhcnRtZW50czogW3sKICAgICAgaWQ6IDEsCiAgICAgIG5hbWU6ICfllYbkuJpRQScKICAgIH1dCiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3FhZGF0YScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbHVtbnM6IGNvbHVtbnMsCiAgICAgIHFhZGF0YXM6IHFhZGF0YXMsCiAgICAgIHFhZGF0YTogW10sCiAgICAgIGRhdGVSYW5nZTogW10sCiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICBhcGFydG1lbnRpZDogMCwKICAgICAgaXNMb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIC8v5ZGo5LiAIOWRqOaXpQogICAgICB2YXIgbW9uZGF5ID0gdGhpcy5kYXlqcygpLnN0YXJ0T2YoJ3dlZWsnKS5hZGQoMSwgJ2RheScpOwogICAgICB2YXIgc3VuZGF5ID0gdGhpcy5kYXlqcygpLmVuZE9mKCd3ZWVrJykuYWRkKDEsICdkYXknKTsgLy/ml7bpl7Tovaxtb21lbnTlr7nosaEKCiAgICAgIHRoaXMuZGF0ZVJhbmdlID0gW21vbWVudChtb25kYXkuZm9ybWF0KCdkZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFpaJykpLCBtb21lbnQoc3VuZGF5LmZvcm1hdCgnZGRkZCBNTU0gREQgWVlZWSBISDptbTpzcyBaWicpKV07CiAgICAgIHZhciB0ZW1wdGltZSA9IFttb25kYXkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyksIHN1bmRheS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKV07CiAgICAgIHRoaXMuZ2V0cWFkYXRlKHRlbXB0aW1lWzBdLCB0ZW1wdGltZVsxXSk7CiAgICB9LAogICAgZ2V0cWFkYXRlOiBmdW5jdGlvbiBnZXRxYWRhdGUoc3RhcnR0aW1lLCBlbmR0aW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoJy9xYVN0YXRpc3RpY3MnLCB7CiAgICAgICAgc3RhcnRUaW1lOiBzdGFydHRpbWUsCiAgICAgICAgZW5kVGltZTogZW5kdGltZSwKICAgICAgICBhcGFydG1lbnRpZDogdGhpcy5hcGFydG1lbnRpZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGl0ZW0uam9iSG91ciA9IGl0ZW0uam9iSG91ci50b0ZpeGVkKDIpOwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpcy5xYWRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCflhoXnvZHmlbDmja7ojrflj5blpLHotKUnKTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0YXBhcnRtZW50aWQ6IGZ1bmN0aW9uIHNldGFwYXJ0bWVudGlkKGFwYXJ0bWVudGlkKSB7CiAgICAgIHRoaXMuYXBhcnRtZW50aWQgPSBhcGFydG1lbnRpZDsKICAgIH0sCiAgICBnZXRuZWVkdGltZWxpc3Q6IGZ1bmN0aW9uIGdldG5lZWR0aW1lbGlzdChkYXRlUmFuZ2UpIHsKICAgICAgaWYgKGRhdGVSYW5nZS5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+aXtumXtOS4jeiDveS4uuepuicpOwogICAgICB9CgogICAgICB2YXIgY3VycmVudFN0YXJ0VGltZSA9IHRoaXMuZGF5anMoZGF0ZVJhbmdlWzBdLnZhbHVlT2YoKSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyk7CiAgICAgIHZhciBjdXJyZW50RW5kVGltZSA9IHRoaXMuZGF5anMoZGF0ZVJhbmdlWzFdLnZhbHVlT2YoKSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyk7CiAgICAgIHRoaXMuZ2V0cWFkYXRlKGN1cnJlbnRTdGFydFRpbWUsIGN1cnJlbnRFbmRUaW1lKTsKICAgIH0sCiAgICBqdW1wdG86IGZ1bmN0aW9uIGp1bXB0byhocmVmaG9zdCkgewogICAgICB3aW5kb3cub3BlbihocmVmaG9zdCk7CiAgICB9LAogICAgZ2V0Y3VycmVudHRpbWU6IGZ1bmN0aW9uIGdldGN1cnJlbnR0aW1lKHJhbmdldGltZSkgewogICAgICB2YXIgc3RhcnR0aW1lID0gdGhpcy5kYXlqcyhyYW5nZXRpbWVbMF0pLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpOwogICAgICB2YXIgZW5kdGltZSA9IHRoaXMuZGF5anMocmFuZ2V0aW1lWzFdKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTsKICAgICAgcmV0dXJuIFtzdGFydHRpbWUsIGVuZHRpbWVdOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9Cn07"},{"version":3,"sources":["qadata.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div>\n      <!--部门下拉框-->\n      部门<a-select default-value=\"商业QA\" style=\"width: 100px; margin-left: 5px\">\n        <a-select-option\n          v-for=\"apartment in qadatas.data.apartments\"\n          :key=\"apartment.id\"\n          :value=\"apartment.name\"\n          @click=\"setapartmentid(apartment.id)\"\n        >\n          {{ apartment.name }}\n        </a-select-option>\n      </a-select>\n      <!--时间选择框-->\n      <a-range-picker class=\"a-range-picker\" style=\"width: 400px\" show-time v-model=\"dateRange\">\n        <template slot=\"renderExtraFooter\"> 日期选择</template>\n      </a-range-picker>\n      <!--查询按钮-->\n      <a-button type=\"primary\" icon=\"search\" @click=\"getneedtimelist(dateRange)\"> 查询 </a-button>\n    </div>\n\n    <!--表格-->\n    <a-table\n      :columns=\"columns\"\n      :data-source=\"qadata\"\n      style=\"margin-top: 20px\"\n      :loading=\"isLoading\"\n      :pagination=\"{ defaultPageSize: 100 }\"\n    >\n      <div slot=\"action\" slot-scope=\"text, record\">\n        <!--        {{record.details}}-->\n        <div v-if=\"record.taskDetail && record.taskDetail.length\">\n          <a v-for=\"(detail, index) in record.taskDetail\" :key=\"index\" @click=\"jumpto(detail && detail.taskUrl)\">\n            <span class=\"record-text\" style=\"margin-top: 20px; margin-bottom: 20px\">\n              <span style=\"color: rgb(0, 209, 178)\">[{{ detail.jobHour }}H]</span>\n              <span>{{ detail.taskName }}</span>\n            </span>\n          </a>\n        </div>\n        <div v-else>\n          <a>无</a>\n        </div>\n      </div>\n    </a-table>\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport 'moment/locale/zh-cn'\nimport { axios } from '@/utils/request'\n\nconst columns = [\n  { title: '姓名', width: 30, dataIndex: 'name', key: 'name' },\n  { title: '工时（H）', width: 30, dataIndex: 'jobHour', key: 'jobHour' },\n  { title: '工时（天）', width: 30, dataIndex: 'jobDay', key: 'jobDay' },\n  { title: 'case数', width: 30, dataIndex: 'caseNum', key: 'caseNum' },\n  { title: 'bug数', width: 30, dataIndex: 'bugNum', key: 'bugNum' },\n  {\n    title: '详情',\n    key: 'taskDetail',\n    width: 250,\n    scopedSlots: { customRender: 'action' },\n  },\n]\n\nconst qadatas = {\n  statuscode: 200,\n  data: {\n    apartments: [{ id: 1, name: '商业QA' }],\n  },\n}\n\nexport default {\n  name: 'qadata',\n  data() {\n    return {\n      columns,\n      qadatas,\n      qadata: [],\n      dateRange: [],\n      visible: false,\n      apartmentid: 0,\n      isLoading: false,\n    }\n  },\n\n  methods: {\n    init() {\n      //周一 周日\n      const monday = this.dayjs().startOf('week').add(1, 'day')\n      const sunday = this.dayjs().endOf('week').add(1, 'day')\n\n      //时间转moment对象\n      this.dateRange = [\n        moment(monday.format('dddd MMM DD YYYY HH:mm:ss ZZ')),\n        moment(sunday.format('dddd MMM DD YYYY HH:mm:ss ZZ')),\n      ]\n\n      let temptime = [monday.format('YYYY-MM-DD HH:mm:ss'), sunday.format('YYYY-MM-DD HH:mm:ss')]\n      this.getqadate(temptime[0], temptime[1])\n    },\n    getqadate(starttime, endtime) {\n      this.isLoading = true\n      axios\n        .post('/qaStatistics', {\n          startTime: starttime,\n          endTime: endtime,\n          apartmentid: this.apartmentid,\n        })\n        .then((response) => {\n          if (response.code === 200) {\n            this.isLoading = false\n            response.data.forEach((item) => {\n              item.jobHour = item.jobHour.toFixed(2)\n            })\n            this.qadata = response.data\n          }\n        })\n        .catch((error) => {\n          this.isLoading = false\n          this.$message.error('内网数据获取失败')\n        })\n    },\n    setapartmentid(apartmentid) {\n      this.apartmentid = apartmentid\n    },\n    getneedtimelist(dateRange) {\n      if (dateRange.length === 0) {\n        this.$message.info('时间不能为空')\n      }\n\n      let currentStartTime = this.dayjs(dateRange[0].valueOf()).format('YYYY-MM-DD HH:mm:ss')\n      let currentEndTime = this.dayjs(dateRange[1].valueOf()).format('YYYY-MM-DD HH:mm:ss')\n      this.getqadate(currentStartTime, currentEndTime)\n    },\n    jumpto(hrefhost) {\n      window.open(hrefhost)\n    },\n    getcurrenttime(rangetime) {\n      const starttime = this.dayjs(rangetime[0]).format('YYYY-MM-DD HH:mm:ss')\n      const endtime = this.dayjs(rangetime[1]).format('YYYY-MM-DD HH:mm:ss')\n      return [starttime, endtime]\n    },\n  },\n  computed: {},\n  created() {\n    this.init()\n  },\n}\n</script>\n\n<style scoped>\n.a-range-picker {\n  margin-left: 20px;\n  margin-right: 20px;\n}\n\na {\n  display: inline-block;\n  height: 22px;\n  line-height: 22px;\n}\n\na:hover {\n  /* text-decoration: underline; */\n  border-bottom: 1px solid #409eff;\n}\n</style>"],"sourceRoot":"src/views/qadata"}]}
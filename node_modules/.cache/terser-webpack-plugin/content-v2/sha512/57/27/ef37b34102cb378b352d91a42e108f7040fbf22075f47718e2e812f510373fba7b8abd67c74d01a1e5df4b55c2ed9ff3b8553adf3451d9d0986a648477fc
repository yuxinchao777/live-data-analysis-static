{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-607374f4\"],{\"36f1\":function(t,a,e){\"use strict\";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"div\",[t._v(\" 部门\"),e(\"a-select\",{staticStyle:{width:\"100px\",\"margin-left\":\"5px\"},attrs:{\"default-value\":\"商业QA\"}},t._l(t.qadatas.data.apartments,(function(a){return e(\"a-select-option\",{key:a.id,attrs:{value:a.name},on:{click:function(e){return t.setapartmentid(a.id)}}},[t._v(\" \"+t._s(a.name)+\" \")])})),1),e(\"a-range-picker\",{staticClass:\"a-range-picker\",staticStyle:{width:\"400px\"},attrs:{\"show-time\":\"\"},model:{value:t.dateRange,callback:function(a){t.dateRange=a},expression:\"dateRange\"}},[e(\"template\",{slot:\"renderExtraFooter\"},[t._v(\" 日期选择\")])],2),e(\"a-button\",{attrs:{type:\"primary\",icon:\"search\"},on:{click:function(a){return t.getneedtimelist(t.dateRange)}}},[t._v(\" 查询 \")])],1),e(\"a-table\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{columns:t.columns,\"data-source\":t.qadata,loading:t.isLoading,pagination:{defaultPageSize:100}},scopedSlots:t._u([{key:\"action\",fn:function(a,n){return e(\"div\",{},[n.taskDetail&&n.taskDetail.length?e(\"div\",t._l(n.taskDetail,(function(a,n){return e(\"a\",{key:n,on:{click:function(e){return t.jumpto(a&&a.taskUrl)}}},[e(\"span\",{staticClass:\"record-text\",staticStyle:{\"margin-top\":\"20px\",\"margin-bottom\":\"20px\"}},[e(\"span\",{staticStyle:{color:\"rgb(0, 209, 178)\"}},[t._v(\"[\"+t._s(a.jobHours)+\"H]\")]),e(\"span\",[t._v(t._s(a.taskName))])])])})),0):e(\"div\",[e(\"a\",[t._v(\"无\")])])])}}])})],1)},i=[],s=(e(\"159b\"),e(\"b680\"),e(\"c1df\")),d=e.n(s),o=(e(\"5c3a\"),e(\"b775\")),r=[{title:\"姓名\",width:30,dataIndex:\"name\",key:\"name\"},{title:\"工时（H）\",width:30,dataIndex:\"jobHour\",key:\"jobHour\"},{title:\"工时（天）\",width:30,dataIndex:\"jobDay\",key:\"jobDay\"},{title:\"case数\",width:30,dataIndex:\"caseNum\",key:\"caseNum\"},{title:\"bug数\",width:30,dataIndex:\"bugNum\",key:\"bugNum\"},{title:\"详情\",key:\"taskDetail\",width:250,scopedSlots:{customRender:\"action\"}}],c={statuscode:200,data:{apartments:[{id:1,name:\"商业QA\"}]}},u={data:function(){return{columns:r,qadatas:c,qadata:[],dateRange:[],visible:!1,apartmentid:0,isLoading:!1}},methods:{init:function(){var t=this.dayjs().startOf(\"week\").add(1,\"day\"),a=this.dayjs().endOf(\"week\").add(1,\"day\");this.dateRange=[d()(t.format(\"dddd MMM DD YYYY HH:mm:ss ZZ\")),d()(a.format(\"dddd MMM DD YYYY HH:mm:ss ZZ\"))];var e=[t.format(\"YYYY-MM-DD HH:mm:ss\"),a.format(\"YYYY-MM-DD HH:mm:ss\")];this.getqadate(e[0],e[1])},getqadate:function(t,a){var e=this;this.isLoading=!0,o[\"b\"].post(\"/qaStatistics\",{startTime:t,endTime:a,apartmentid:this.apartmentid}).then((function(t){200===t.code&&(e.isLoading=!1,t.data.forEach((function(t){t.jobHour=t.jobHour.toFixed(2)})),e.qadata=t.data)})).catch((function(t){e.isLoading=!1,e.$message.error(\"内网数据获取失败\")}))},setapartmentid:function(t){this.apartmentid=t},getneedtimelist:function(t){0===t.length&&this.$message.info(\"时间不能为空\");var a=this.dayjs(t[0].valueOf()).format(\"YYYY-MM-DD HH:mm:ss\"),e=this.dayjs(t[1].valueOf()).format(\"YYYY-MM-DD HH:mm:ss\");this.getqadate(a,e)},jumpto:function(t){window.open(t)},getcurrenttime:function(t){var a=this.dayjs(t[0]).format(\"YYYY-MM-DD HH:mm:ss\"),e=this.dayjs(t[1]).format(\"YYYY-MM-DD HH:mm:ss\");return[a,e]}},computed:{},created:function(){this.init()}},m=u,l=(e(\"a148\"),e(\"2877\")),f=Object(l[\"a\"])(m,n,i,!1,null,\"35056d28\",null);a[\"default\"]=f.exports},a148:function(t,a,e){\"use strict\";e(\"de7c\")},de7c:function(t,a,e){}}]);","extractedComments":[]}
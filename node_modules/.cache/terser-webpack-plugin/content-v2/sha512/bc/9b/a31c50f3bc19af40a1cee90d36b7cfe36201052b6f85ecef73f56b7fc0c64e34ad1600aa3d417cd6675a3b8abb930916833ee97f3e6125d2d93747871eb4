{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-34fe5d1a\"],{\"1dc0\":function(t,e,a){},b6ea:function(t,e,a){\"use strict\";var r=a(\"1dc0\"),i=a.n(r);i.a},fe77:function(t,e,a){\"use strict\";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"a-row\",[a(\"a-col\",{style:{background:\"#ffffff\",\"margin-bottom\":\"24px\"},attrs:{span:24}},[a(\"a-row\",{attrs:{type:\"flex\",justify:\"end\"}},[a(\"a-col\",[a(\"a-affix\",{attrs:{\"offset-top\":10},on:{change:t.affixChanged}},[a(\"div\",{class:t.affixed?\"affixed\":\"affix\"},[a(\"a\",{staticStyle:{paddingright:\"48px\"}},[a(\"a-select\",{staticStyle:{width:\"120px\"},attrs:{\"default-value\":\"all\"},on:{change:t.handleTypeChange}},t._l(t.typeOptions,(function(e,r){return a(\"a-select-option\",{key:r,attrs:{value:e.value}},[t._v(\" \"+t._s(e.name)+\" \")])})),1)],1),a(\"a-radio-group\",{staticClass:\"timeRadioGroup\",attrs:{value:t.currentPeriod},on:{change:t.handleTimeChange}},t._l(t.timeOptions,(function(e,r){return a(\"a-radio-button\",{key:r,staticClass:\"timeRadioButtons\",attrs:{value:e.value}},[t._v(\" \"+t._s(e.name)+\" \")])})),1),a(\"a-range-picker\",{style:{width:\"256px\",\"margin-left\":\"24px\",\"margin-right\":\"48px\"},attrs:{\"disabled-date\":t.disabledDate,value:t.dateRange},on:{change:t.handleDateRangeChange}})],1)])],1)],1)],1)],1),a(\"a-row\",{attrs:{gutter:24}},[a(\"a-col\",{style:{marginBottom:\"24px\"},attrs:{span:8}},[a(\"chart-card\",{attrs:{loading:t.loading,title:\"代码行数\",total:t.formatNumberString(t.codeAnalysis.codeNum)}},[a(\"a-tooltip\",{attrs:{slot:\"action\",title:\"RD增加和删减累计代码行数\"},slot:\"action\"},[a(\"a-icon\",{attrs:{type:\"info-circle-o\"}})],1),a(\"div\",{staticStyle:{postion:\"relative\"}},[a(\"span\",{staticClass:\"ant-font-2\",attrs:{slot:\"term\"},slot:\"term\"},[t._v(\"新增\")]),t._v(\" \"+t._s(t.formatNumberString(t.codeAnalysis.addCodeNum))+\" \"),a(\"br\"),a(\"span\",{staticClass:\"ant-font-2\",attrs:{slot:\"term\"},slot:\"term\"},[t._v(\"删除\")]),t._v(\" \"+t._s(t.formatNumberString(t.codeAnalysis.delCodeNum))+\" \"),a(\"a-progress\",{staticStyle:{position:\"absolute\",right:\"0\",bottom:\"0px\"},attrs:{type:\"circle\",percent:t.formatPercentString(100*t.codeAnalysis.addProportion),width:90,format:function(t){return\"新增占比  \"+t+\"% \"},strokeWidth:10}})],1),a(\"template\",{slot:\"footer\"},[a(\"trend\",{style:{visibility:\"hide\"==t.codeAnalysis.comparisonDirection?\"hidden\":\"visible\",\"margin-right\":\"16px\"},attrs:{flag:\"down\"===t.codeAnalysis.comparisonDirection?\"down\":\"up\"}},[a(\"span\",{attrs:{slot:\"term\"},slot:\"term\"},[t._v(t._s(t.reletiveText))]),t._v(\" \"+t._s(t.formatPercentString(100*t.codeAnalysis.comparison))+\"% \")])],1)],2)],1),a(\"a-col\",{style:{marginBottom:\"24px\"},attrs:{span:8}},[a(\"chart-card\",{attrs:{loading:t.loading,title:\"新需求测试case数\",total:t.formatNumberString(t.newCaseCount.sum)}},[a(\"a-tooltip\",{attrs:{slot:\"action\",title:\"新需求累计执行case数\"},slot:\"action\"},[a(\"a-icon\",{attrs:{type:\"info-circle-o\"}})],1),a(\"template\",{slot:\"footer\"},[a(\"trend\",{style:{visibility:\"hide\"==t.newCaseCount.trend?\"hidden\":\"visible\",\"margin-right\":\"16px\"},attrs:{flag:\"down\"==t.newCaseCount.trend?\"down\":\"up\"}},[a(\"span\",{attrs:{slot:\"term\"},slot:\"term\"},[t._v(t._s(t.reletiveText))]),t._v(\" \"+t._s(t.formatPercentString(100*t.newCaseCount.ratio))+\"% \")])],1)],2)],1),a(\"a-col\",{style:{marginBottom:\"24px\"},attrs:{span:8}},[a(\"chart-card\",{attrs:{loading:t.loading,title:\"公测包回归case数\",total:t.formatNumberString(t.publicBetaTestCase.caseNum)}},[a(\"a-tooltip\",{attrs:{slot:\"action\",title:\"公测包累计回归case数\"},slot:\"action\"},[a(\"a-icon\",{attrs:{type:\"info-circle-o\"}})],1),a(\"div\",{staticStyle:{postion:\"relative\"}},[a(\"span\",{staticClass:\"ant-font-2\",attrs:{slot:\"term\"},slot:\"term\"},[t._v(\"人工\")]),t._v(\" \"+t._s(t.formatNumberString(t.publicBetaTestCase.manualCaseNum))+\" \"),a(\"br\"),a(\"span\",{staticClass:\"ant-font-2\",attrs:{slot:\"term\"},slot:\"term\"},[t._v(\"自动化\")]),t._v(\" \"+t._s(t.formatNumberString(t.publicBetaTestCase.autoCaseNum))+\" \"),a(\"a-progress\",{staticStyle:{position:\"absolute\",right:\"0\",bottom:\"0px\"},attrs:{type:\"circle\",percent:t.formatPercentString(100*t.publicBetaTestCase.autoProportion),width:90,format:function(t){return\"自动化占比\"+t+\"% \"},strokeWidth:10}})],1),a(\"template\",{slot:\"footer\"},[a(\"span\",{staticStyle:{\"margin-right\":\"16px\"}})])],2)],1)],1),a(\"a-card\",{attrs:{loading:t.loading,bordered:!1,\"body-style\":{padding:\"30px\"}}},[a(\"div\",{staticClass:\"salesCard\"},[a(\"a-tabs\",{attrs:{\"default-active-key\":\"RD\",activeKey:t.currentTab,size:\"large\",\"tab-bar-style\":{marginBottom:\"24px\",paddingLeft:\"16px\"}},on:{change:t.handleTabChange}},[a(\"a-tab-pane\",{key:\"RD\",attrs:{forceRender:!0,tab:\"RD\"}},[a(\"div\",{staticClass:\"ant-table-wrapper\"},[a(\"a-table\",{attrs:{\"row-key\":\"index\",size:\"middle\",columns:t.rdTableColumns,dataSource:t.rdData,pagination:{pageSize:10},loading:t.loadingRD,scroll:{scrollToFirstRowOnChange:!1}},scopedSlots:t._u([{key:\"codeVsbugComparison\",fn:function(e){return a(\"span\",{},[t._v(\" \"+t._s(e)+\"‰ \")])}},{key:\"unresolvedBugProbability\",fn:function(e){return a(\"span\",{},[t._v(\" \"+t._s(e)+\"% \")])}}])})],1)]),a(\"a-tab-pane\",{key:\"QA\",attrs:{forceRender:!0,tab:\"QA\"}},[a(\"div\",{staticClass:\"ant-table-wrapper\"},[a(\"a-table\",{attrs:{\"row-key\":\"index\",size:\"middle\",columns:t.qaTableColumns,dataSource:t.qaData,pagination:{pageSize:10},loading:t.loadingQA,scroll:{scrollToFirstRowOnChange:!1}},scopedSlots:t._u([{key:\"missBugProbability\",fn:function(e){return a(\"span\",{},[t._v(\" \"+t._s(e)+\"% \")])}}])})],1)]),a(\"a-auto-complete\",{staticClass:\"global-search\",staticStyle:{width:\"100%\"},attrs:{slot:\"tabBarExtraContent\",size:\"large\",placeholder:\"输入姓名\",\"option-label-prop\":\"value\",\"allow-clear\":\"\"},on:{select:t.onSelect,search:t.handleSearch},slot:\"tabBarExtraContent\",model:{value:t.searchWord,callback:function(e){t.searchWord=e},expression:\"searchWord\"}},[a(\"template\",{slot:\"dataSource\"},t._l(t.keywords,(function(e){return a(\"a-select-option\",{key:e,attrs:{value:e}},[t._v(\" \"+t._s(e)+\" \")])})),1),a(\"a-input\",[a(\"a-icon\",{attrs:{slot:\"prefix\",type:\"search\"},slot:\"prefix\"})],1)],2)],1)],1)])],1)},i=[],n=(a(\"4de4\"),a(\"4160\"),a(\"a630\"),a(\"c975\"),a(\"b0c0\"),a(\"a9e3\"),a(\"b680\"),a(\"d3b7\"),a(\"6062\"),a(\"3ca3\"),a(\"159b\"),a(\"ddb0\"),a(\"b775\")),s=a(\"2af9\"),o=a(\"432b\"),u=a(\"2b0e\"),l=a(\"c1df\"),d=a.n(l),c=a(\"2ef0\"),h=a.n(c),m=[{dataIndex:\"index\",title:\"序号\",width:90},{dataIndex:\"name\",title:\"姓名\",width:150},{dataIndex:\"functionNum\",title:\"项目数量\",align:\"right\",sorter:function(t,e){return t.functionNum-e.functionNum}},{dataIndex:\"addCodeNum\",title:\"新增代码行数\",align:\"right\",sorter:function(t,e){return t.codeNum-e.codeNum}},{dataIndex:\"delCodeNum\",title:\"删除代码行数\",align:\"right\",sorter:function(t,e){return t.codeNum-e.codeNum}},{dataIndex:\"bugNum\",title:\"BUG总数\",align:\"right\",sorter:function(t,e){return t.bugNum-e.bugNum}},{dataIndex:\"codeVsbugComparison\",title:\"千行代码BUG率\",align:\"right\",sorter:function(t,e){return t.codeVsbugComparison-e.codeVsbugComparison},scopedSlots:{customRender:\"codeVsbugComparison\"}},{dataIndex:\"unresolvedBug\",title:\"遗留bug数\",align:\"right\",sorter:function(t,e){return t.unresolvedBug-e.unresolvedBug}},{dataIndex:\"unresolvedBugProbability\",title:\"遗留bug率\",align:\"right\",sorter:function(t,e){return t.unresolvedBugProbability-e.unresolvedBugProbability},scopedSlots:{customRender:\"unresolvedBugProbability\"}}],g=[{dataIndex:\"index\",title:\"序号\",width:90},{dataIndex:\"name\",title:\"姓名\",width:150},{dataIndex:\"functionNum\",title:\"项目数量\",align:\"right\",sorter:function(t,e){return t.functionNum-e.functionNum}},{dataIndex:\"writeCaseNum\",title:\"case编写数量\",align:\"right\",sorter:function(t,e){return t.writeCaseNum-e.writeCaseNum}},{dataIndex:\"executeCaseNum\",title:\"case执行数量\",align:\"right\",sorter:function(t,e){return t.executeCaseNum-e.executeCaseNum}},{dataIndex:\"submitBugNum\",title:\"提交bug数\",align:\"right\",sorter:function(t,e){return t.range-e.range}},{dataIndex:\"missBugNum\",title:\"漏测bug数\",align:\"right\",sorter:function(t,e){return t.missBugNum-e.missBugNum}},{dataIndex:\"missBugProbability\",title:\"漏测bug率\",align:\"right\",sorter:function(t,e){return t.missBugProbability-e.missBugProbability},scopedSlots:{customRender:\"missBugProbability\"}}],f={all:\"all\",year:\"year\",quarter:\"quarter\",month:\"month\",lastMonth:\"lastMonth\",custom:\"custom\"},p={name:\"Analysis\",mixins:[o[\"a\"]],components:{ChartCard:s[\"b\"],MiniArea:s[\"c\"],MiniBar:s[\"d\"],MiniProgress:s[\"e\"],RankList:s[\"h\"],Bar:s[\"a\"],Trend:s[\"i\"],NumberInfo:s[\"g\"],MiniSmoothArea:s[\"f\"]},data:function(){return{keywords:new Set,keywordsBackup:null,searchWord:\"\",timePeriod:f,affixed:!1,loading:!0,loadingQA:!0,loadingRD:!0,rdTableColumns:m,rdData:[],rdDataBackup:[],qaTableColumns:g,qaData:[],qaDataBackup:[],currentTab:\"RD\",currentType:\"all\",currentStartTime:this.getFirstDayOfMonth(),currentEndTime:this.getEndOfMonth(),currentPeriod:this.dayjs().date()<10?f.lastMonth:f.month,dateRange:[],reletiveText:\"月环比\",codeAnalysis:{codeNum:0,addCodeNum:0,delCodeNum:0,addProportion:0,comparison:0,comparisonDirection:\"up\"},newCaseCount:{sum:0,trend:\"hide\",ratio:0},publicBetaTestCase:{caseNum:0,manualCaseNum:0,autoCaseNum:0,autoProportion:0},typeOptions:[{name:\"全部\",value:\"all\"},{name:\"营收产品\",value:\"products\"},{name:\"营收活动\",value:\"activity\"},{name:\"SC\",value:\"SC\"},{name:\"增长\",value:\"increase\"},{name:\"社交&基础\",value:\"social\"},{name:\"媒体\",value:\"basic\"}],timeOptions:[{name:\"上月\",value:f.lastMonth},{name:\"本月\",value:f.month},{name:\"本季度\",value:f.quarter},{name:\"本年\",value:f.year}]}},watch:{currentPeriod:function(t){t==this.timePeriod.month?this.reletiveText=\"月环比\":t==this.timePeriod.quarter?this.reletiveText=\"季环比\":t==this.timePeriod.year&&(this.reletiveText=\"年环比\")}},created:function(){this.init()},methods:{init:function(){var t=this;this.changeTime(this.currentPeriod),this.initCodeAnalysis(),this.initPublicBetaTestCase(),this.initQAData(),this.initRDData(),this.getNewCaseCount(),this.$nextTick((function(){t.loading=!1}))},refreshData:function(){this.loadingQA=!0,this.initQAData(),this.loadingRD=!0,this.initRDData(),this.initCodeAnalysis(),this.initPublicBetaTestCase(),this.getNewCaseCount()},initQAData:function(){var t=this;n[\"b\"].post(\"/QAPersonalController/getQAPersonalDetails\",{projectName:this.currentType,stime:this.currentStartTime,etime:this.getEndOfMonth(),period:this.currentPeriod}).then((function(e){for(var a=e.result,r=0;r<a.length;r++)a[r].index=r+1,a[r].missBugProbability=Math.round(1e4*Number(a[r].missBugProbability))/100;t.$nextTick((function(){t.qaData=a})),t.qaDataBackup=a,a.forEach((function(e){return t.keywords.add(e.name)})),t.keywordsBackup=t.keywords,t.loadingQA=!1})).catch((function(e){t.loadingQA=!1,t.$message.error(\"QA表格数据获取失败\")}))},initRDData:function(){var t=this;n[\"b\"].post(\"/RDPersonalController/getRDPersonalDetails\",{projectName:this.currentType,stime:this.currentStartTime,etime:this.getEndOfMonth(),period:this.currentPeriod}).then((function(e){for(var a=e.data,r=0;r<a.length;r++){for(var i in a[r].index=r+1,a[r])null==a[r][i]&&(a[r][i]=0);a[r].unresolvedBugProbability=Math.round(1e4*Number(a[r].unresolvedBugProbability))/100,a[r].codeVsbugComparison=Math.round(1e5*Number(a[r].codeVsbugComparison))/100}t.$nextTick((function(){t.rdData=a})),t.rdDataBackup=a,a.forEach((function(e){return t.keywords.add(e.name)})),t.loadingRD=!1})).catch((function(e){t.loadingRD=!1,t.$message.error(\"RD表格数据获取失败\")}))},initCodeAnalysis:function(){var t=this;n[\"b\"].post(\"/RDPersonalController/getCodeAnalysis\",{projectName:this.currentType,stime:this.currentStartTime,etime:this.getEndOfMonth(),period:this.currentPeriod}).then((function(e){t.codeAnalysis=e.data})).catch((function(e){t.$message.error(\"代码行数数据获取失败\")}))},initPublicBetaTestCase:function(){var t=this;n[\"b\"].post(\"/QAPersonalController/getPublicBetaTestCase\",{stime:this.currentStartTime,etime:this.getEndOfMonth(),period:this.currentPeriod}).then((function(e){t.publicBetaTestCase=e.data})).catch((function(e){t.$message.error(\"公测包case数据获取失败\")}))},getNewCaseCount:function(){var t=this;n[\"b\"].post(\"/QAPersonalController/getNewCaseCount\",{stime:this.currentStartTime,etime:this.getEndOfMonth(),period:this.currentPeriod,projectName:this.currentType}).then((function(e){t.newCaseCount=e.data,u[\"a\"].set(t.newCaseCount,\"trend\",e.data.trend)})).catch((function(e){t.$message.error(\"新需求case数据获取失败\")}))},handleTabChange:function(t){this.currentTab=t},handleTypeChange:function(t){this.currentType=t,this.refreshData()},handleTimeChange:function(t){var e=t.target.value;this.changeTime(e),this.refreshData()},changeTime:function(t){switch(t){case\"lastMonth\":this.currentStartTime=this.getFirstDayOfLastMonth(),this.currentEndTime=this.getEndOfLastMonth(),this.currentPeriod=this.timePeriod.lastMonth,this.dateRange=this.getDateRange();break;case\"month\":this.currentStartTime=this.getFirstDayOfMonth(),this.currentEndTime=this.getEndOfMonth(),this.currentPeriod=this.timePeriod.month,this.dateRange=this.getDateRange();break;case\"year\":this.currentStartTime=this.getFirstDayOfYear(),this.currentEndTime=this.getEndOfMonth(),this.currentPeriod=this.timePeriod.year,this.dateRange=this.getDateRange();break;case\"quarter\":this.currentStartTime=this.getFirstDayOfQuarter(),this.currentEndTime=this.getEndOfMonth(),this.currentPeriod=this.timePeriod.quarter,this.dateRange=this.getDateRange();break;case\"all\":this.currentStartTime=this.getFirstDayOfYear(),this.currentEndTime=this.getEndOfMonth(),this.currentPeriod=this.timePeriod.all,this.dateRange=this.getDateRange();break;default:}},handleDateRangeChange:function(t){this.currentStartTime=this.dayjs(t[0].valueOf()).startOf(\"day\").format(\"YYYY-MM-DD HH:mm:ss\"),this.currentEndTime=this.dayjs(t[1].valueOf()).endOf(\"day\").format(\"YYYY-MM-DD HH:mm:ss\"),this.currentPeriod=f.custom,this.refreshData()},onSelect:function(t){this.filterData(t),this.searchWord=t},handleSearch:function(t){h.a.isEmpty(t)&&(this.qaData=this.qaDataBackup,this.rdData=this.rdDataBackup,this.keywords=this.keywordsBackup),this.filterData(t)},filterData:function(t){this.keywords=Array.from(this.keywordsBackup).filter((function(e){return e.indexOf(t)>=0})),this.qaData=this.qaDataBackup.filter((function(e){return e.name.indexOf(t)>=0})),this.rdData=this.rdDataBackup.filter((function(e){return e.name.indexOf(t)>=0})),0==this.qaData.length&&this.rdData.length>0&&(this.currentTab=\"RD\"),this.qaData.length>0&&0==this.rdData.length&&(this.currentTab=\"QA\")},getFirstDayOfMonth:function(){return this.dayjs().startOf(\"month\").format(\"YYYY-MM-DD HH:mm:ss\")},getFirstDayOfQuarter:function(){return this.dayjs().startOf(\"quarter\").format(\"YYYY-MM-DD HH:mm:ss\")},getFirstDayOfYear:function(){return this.dayjs().startOf(\"year\").format(\"YYYY-MM-DD HH:mm:ss\")},getEndOfMonth:function(){return this.dayjs().endOf(\"month\").format(\"YYYY-MM-DD HH:mm:ss\")},getFirstDayOfLastMonth:function(){return this.dayjs().subtract(1,\"month\").startOf(\"month\").format(\"YYYY-MM-DD HH:mm:ss\")},getEndOfLastMonth:function(){return this.dayjs().subtract(1,\"month\").endOf(\"month\").format(\"YYYY-MM-DD HH:mm:ss\")},getDateRange:function(){return[d()(this.currentStartTime,this.dateFormat),d()(this.currentEndTime,this.dateFormat)]},formatNumberString:function(t){return Number(t).toLocaleString(\"en\")},formatPercentString:function(t){return null==t?t:Number(Number(t).toFixed(2))},affixChanged:function(){this.affixed=!this.affixed},disabledDate:function(t){return t&&t>d()().endOf(\"day\")}}},b=p,y=(a(\"b6ea\"),a(\"2877\")),C=Object(y[\"a\"])(b,r,i,!1,null,\"0e694e60\",null);e[\"default\"]=C.exports}}]);","extractedComments":[]}
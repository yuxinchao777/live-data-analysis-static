{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"user\"],{1037:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-result\",{attrs:{isSuccess:!0,content:!1,title:e.email,\"sub-title\":e.description},scopedSlots:e._u([{key:\"extra\",fn:function(){return[a(\"a-button\",{attrs:{size:\"large\",type:\"primary\"}},[e._v(\"查看邮箱\")]),a(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{size:\"large\"},on:{click:e.goHomeHandle}},[e._v(\"返回首页\")])]},proxy:!0}])})},s=[],i={name:\"RegisterResult\",data:function(){return{description:\"激活邮件已发送到你的邮箱中，邮件有效期为24小时。请及时登录邮箱，点击邮件中的链接激活帐户。\",form:{}}},computed:{email:function(){var e=this.form&&this.form.email||\"xxx\";return\"你的账户：\".concat(e,\" 注册成功\")}},created:function(){this.form=this.$route.params},methods:{goHomeHandle:function(){this.$router.push({name:\"login\"})}}},o=i,n=a(\"2877\"),l=Object(n[\"a\"])(o,r,s,!1,null,\"4a6c53ae\",null);t[\"default\"]=l.exports},1348:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"main user-layout-register\"},[e._m(0),a(\"a-form\",{ref:\"formRegister\",attrs:{form:e.form,id:\"formRegister\"}},[a(\"a-form-item\",[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"email\",{rules:[{required:!0,type:\"email\",message:\"请输入邮箱地址\"}],validateTrigger:[\"change\",\"blur\"]}],expression:\"['email', {rules: [{ required: true, type: 'email', message: '请输入邮箱地址' }], validateTrigger: ['change', 'blur']}]\"}],attrs:{size:\"large\",type:\"text\",placeholder:\"邮箱\"}})],1),a(\"a-popover\",{attrs:{placement:\"rightTop\",trigger:[\"focus\"],getPopupContainer:function(e){return e.parentElement}},model:{value:e.state.passwordLevelChecked,callback:function(t){e.$set(e.state,\"passwordLevelChecked\",t)},expression:\"state.passwordLevelChecked\"}},[a(\"template\",{slot:\"content\"},[a(\"div\",{style:{width:\"240px\"}},[a(\"div\",{class:[\"user-register\",e.passwordLevelClass]},[e._v(\"强度：\"),a(\"span\",[e._v(e._s(e.passwordLevelName))])]),a(\"a-progress\",{attrs:{percent:e.state.percent,showInfo:!1,strokeColor:e.passwordLevelColor}}),a(\"div\",{staticStyle:{\"margin-top\":\"10px\"}},[a(\"span\",[e._v(\"请至少输入 6 个字符。请不要使用容易被猜到的密码。\")])])],1)]),a(\"a-form-item\",[a(\"a-input-password\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"password\",{rules:[{required:!0,message:\"至少6位密码，区分大小写\"},{validator:this.handlePasswordLevel}],validateTrigger:[\"change\",\"blur\"]}],expression:\"['password', {rules: [{ required: true, message: '至少6位密码，区分大小写'}, { validator: this.handlePasswordLevel }], validateTrigger: ['change', 'blur']}]\"}],attrs:{size:\"large\",placeholder:\"至少6位密码，区分大小写\"},on:{click:e.handlePasswordInputClick}})],1)],2),a(\"a-form-item\",[a(\"a-input-password\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"password2\",{rules:[{required:!0,message:\"至少6位密码，区分大小写\"},{validator:this.handlePasswordCheck}],validateTrigger:[\"change\",\"blur\"]}],expression:\"['password2', {rules: [{ required: true, message: '至少6位密码，区分大小写' }, { validator: this.handlePasswordCheck }], validateTrigger: ['change', 'blur']}]\"}],attrs:{size:\"large\",placeholder:\"确认密码\"}})],1),a(\"a-form-item\",[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"mobile\",{rules:[{required:!0,message:\"请输入正确的手机号\",pattern:/^1[3456789]\\d{9}$/},{validator:this.handlePhoneCheck}],validateTrigger:[\"change\",\"blur\"]}],expression:\"['mobile', {rules: [{ required: true, message: '请输入正确的手机号', pattern: /^1[3456789]\\\\d{9}$/ }, { validator: this.handlePhoneCheck } ], validateTrigger: ['change', 'blur'] }]\"}],attrs:{size:\"large\",placeholder:\"11 位手机号\"}},[a(\"a-select\",{attrs:{slot:\"addonBefore\",size:\"large\",defaultValue:\"+86\"},slot:\"addonBefore\"},[a(\"a-select-option\",{attrs:{value:\"+86\"}},[e._v(\"+86\")]),a(\"a-select-option\",{attrs:{value:\"+87\"}},[e._v(\"+87\")])],1)],1)],1),a(\"a-row\",{attrs:{gutter:16}},[a(\"a-col\",{staticClass:\"gutter-row\",attrs:{span:16}},[a(\"a-form-item\",[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"captcha\",{rules:[{required:!0,message:\"请输入验证码\"}],validateTrigger:\"blur\"}],expression:\"['captcha', {rules: [{ required: true, message: '请输入验证码' }], validateTrigger: 'blur'}]\"}],attrs:{size:\"large\",type:\"text\",placeholder:\"验证码\"}},[a(\"a-icon\",{style:{color:\"rgba(0,0,0,.25)\"},attrs:{slot:\"prefix\",type:\"mail\"},slot:\"prefix\"})],1)],1)],1),a(\"a-col\",{staticClass:\"gutter-row\",attrs:{span:8}},[a(\"a-button\",{staticClass:\"getCaptcha\",attrs:{size:\"large\",disabled:e.state.smsSendBtn},domProps:{textContent:e._s(e.state.smsSendBtn?e.state.time+\" s\":\"获取验证码\")},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.getCaptcha.apply(null,arguments)}}})],1)],1),a(\"a-form-item\",[a(\"a-button\",{staticClass:\"register-button\",attrs:{size:\"large\",type:\"primary\",htmlType:\"submit\",loading:e.registerBtn,disabled:e.registerBtn},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[e._v(\"注册 \")]),a(\"router-link\",{staticClass:\"login\",attrs:{to:{name:\"login\"}}},[e._v(\"使用已有账户登录\")])],1)],1)],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"h3\",[a(\"span\",[e._v(\"注册\")])])}],i=a(\"5530\"),o=(a(\"498a\"),a(\"7ded\")),n={0:\"低\",1:\"低\",2:\"中\",3:\"强\"},l={0:\"error\",1:\"error\",2:\"warning\",3:\"success\"},c={0:\"#ff0000\",1:\"#ff0000\",2:\"#ff7e05\",3:\"#52c41a\"},d={name:\"Register\",components:{},mixins:[],data:function(){return{form:this.$form.createForm(this),state:{time:60,smsSendBtn:!1,passwordLevel:0,passwordLevelChecked:!1,percent:10,progressColor:\"#FF0000\"},registerBtn:!1}},computed:{passwordLevelClass:function(){return l[this.state.passwordLevel]},passwordLevelName:function(){return n[this.state.passwordLevel]},passwordLevelColor:function(){return c[this.state.passwordLevel]}},methods:{handlePasswordLevel:function(e,t,a){var r=0;/[0-9]/.test(t)&&r++,/[a-zA-Z]/.test(t)&&r++,/[^0-9a-zA-Z_]/.test(t)&&r++,this.state.passwordLevel=r,this.state.percent=30*r,r>=2?(r>=3&&(this.state.percent=100),a()):(0===r&&(this.state.percent=10),a(new Error(\"密码强度不够\")))},handlePasswordCheck:function(e,t,a){var r=this.form.getFieldValue(\"password\");void 0===t&&a(new Error(\"请输入密码\")),t&&r&&t.trim()!==r.trim()&&a(new Error(\"两次密码不一致\")),a()},handlePhoneCheck:function(e,t,a){a()},handlePasswordInputClick:function(){this.isMobile()?this.state.passwordLevelChecked=!1:this.state.passwordLevelChecked=!0},handleSubmit:function(){var e=this.form.validateFields,t=this.state,a=this.$router;e({force:!0},(function(e,r){e||(t.passwordLevelChecked=!1,a.push({name:\"registerResult\",params:Object(i[\"a\"])({},r)}))}))},getCaptcha:function(e){var t=this;e.preventDefault();var a=this.form.validateFields,r=this.state,s=this.$message,i=this.$notification;a([\"mobile\"],{force:!0},(function(e,a){if(!e){r.smsSendBtn=!0;var n=window.setInterval((function(){r.time--<=0&&(r.time=60,r.smsSendBtn=!1,window.clearInterval(n))}),1e3),l=s.loading(\"验证码发送中..\",0);Object(o[\"b\"])({mobile:a.mobile}).then((function(e){setTimeout(l,2500),i[\"success\"]({message:\"提示\",description:\"验证码获取成功，您的验证码为：\"+e.result.captcha,duration:8})})).catch((function(e){setTimeout(l,1),clearInterval(n),r.time=60,r.smsSendBtn=!1,t.requestFailed(e)}))}}))},requestFailed:function(e){this.$notification[\"error\"]({message:\"错误\",description:((e.response||{}).data||{}).message||\"请求出现错误，请稍后再试\",duration:4}),this.registerBtn=!1}},watch:{\"state.passwordLevel\":function(e){}}},u=d,p=(a(\"5d18\"),a(\"4d77\"),a(\"2877\")),m=Object(p[\"a\"])(u,r,s,!1,null,\"5a99c3ec\",null);t[\"default\"]=m.exports},3101:function(e,t,a){},\"4d77\":function(e,t,a){\"use strict\";a(\"6558\")},\"5d18\":function(e,t,a){\"use strict\";a(\"eeab\")},6558:function(e,t,a){},\"735d\":function(e,t,a){\"use strict\";a(\"3101\")},\"9ed6\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"div\",{staticClass:\"login-container\"},[a(\"a-form\",{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"auto-complete\":\"on\",\"label-position\":\"left\"}},[a(\"h3\",{staticClass:\"title\"},[e._v(\"TestLab\")]),a(\"a-form-item\",[a(\"a-button\",{staticStyle:{width:\"100%\"},attrs:{type:\"primary\"}},[a(\"a\",{attrs:{href:\"http://aegis.momo.com/sso/login/\"+e.aegisKey}},[e._v(\"Aegis登录\")])])],1)],1)],1)])},s=[],i=(a(\"ac1f\"),a(\"1276\"),a(\"4360\")),o={data:function(){return{aegisKey:\"\",isLogined:!1}},name:\"Login\",created:function(){var e=this;this.aegisKey=i[\"a\"].getters.aegisKey;var t=decodeURIComponent(window.location.href);if(-1!=t.indexOf(\"token\")){var a=t.split(\"?\")[2],r=a.split(\"&\")[0],s=r.split(\"=\")[1];this.$store.dispatch(\"Login\",s).then((function(){e.loading=!1,e.$router.push({path:\"/\"})})).catch((function(){e.loading=!1}))}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{}},n=o,l=(a(\"735d\"),a(\"b137\"),a(\"2877\")),c=Object(l[\"a\"])(n,r,s,!1,null,\"d47a2700\",null);t[\"default\"]=c.exports},b137:function(e,t,a){\"use strict\";a(\"f42a\")},eeab:function(e,t,a){},f42a:function(e,t,a){}}]);","extractedComments":[]}
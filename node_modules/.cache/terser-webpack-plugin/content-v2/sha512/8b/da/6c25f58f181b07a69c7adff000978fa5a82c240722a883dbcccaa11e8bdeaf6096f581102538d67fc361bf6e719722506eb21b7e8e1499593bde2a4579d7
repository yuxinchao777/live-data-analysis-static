{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-080e7c68\"],{\"3ed0\":function(t,e,a){},\"9fc2\":function(t,e,a){\"use strict\";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"a-card\",{attrs:{loading:t.loading,bordered:!1,\"body-style\":{padding:\"0\"}}},[a(\"div\",{staticClass:\"salesCard\"},[a(\"a-tabs\",{attrs:{\"default-active-key\":\"1\",size:\"large\",\"tab-bar-style\":{marginBottom:\"24px\",paddingLeft:\"16px\"}}},[a(\"div\",{staticClass:\"extra-wrapper\",attrs:{slot:\"tabBarExtraContent\"},slot:\"tabBarExtraContent\"},[a(\"a-affix\",{attrs:{\"offset-top\":10},on:{change:t.affixChanged}},[a(\"div\",{class:t.affixed?\"affixed\":\"affix\"},[a(\"div\",{staticClass:\"extra-item\"},[a(\"a-radio-group\",{staticClass:\"timeRadioGroup\",attrs:{value:t.currentPeriod},on:{change:t.handleTimeChange}},t._l(t.timeOptions,(function(e,r){return a(\"a-radio-button\",{key:r,staticClass:\"timeRadioButtons\",attrs:{value:e.value}},[t._v(\" \"+t._s(e.name)+\" \")])})),1)],1),a(\"a-range-picker\",{style:{width:\"256px\",\"margin-right\":\"24px\"},attrs:{\"disabled-date\":t.disabledDate,value:t.dateRange},on:{change:t.handleDateRangeChange}})],1)])],1),a(\"a-tab-pane\",{key:\"1\",attrs:{tab:\"说明\"}},[a(\"a-card\",{staticClass:\"datacard\",staticStyle:{\"font-size\":\"16px\"},attrs:{bordered:!1}},[a(\"h3\",[t._v(\"超时升级机制\")]),a(\"span\",{staticStyle:{\"white-space\":\"pre-wrap\"}},[t._v(\" \"+t._s(\"一般问题：工作时间30分钟内响应。2小时内定位并解决。否则，升级到组长处理。\\n 重要问题：工作时间10分钟内响应，1小时内定位并解决。否则，升级到组长处理。\\n 紧急问题：1分钟响应，10分钟内止损。否则，进入故障应急流程。\\n\\n 故障应急流程：\\n\")+\" \")]),a(\"a\",{staticStyle:{\"font-size\":\"16px\",\"white-space\":\"pre-wrap\"},attrs:{href:\"https://moji.wemomo.com/doc#/detail/39621\",target:\"_blank\"}},[t._v(\" \"+t._s(\"\\t故障应急处理规范\"))]),a(\"br\"),a(\"a\",{staticStyle:{\"font-size\":\"16px\",\"white-space\":\"pre-wrap\"},attrs:{href:\"https://moji.wemomo.com/doc#/detail/146563\",target:\"_blank\"}},[t._v(\" \"+t._s(\"\\t线上问题处理规范\"))]),a(\"br\")])],1)],1)],1)]),a(\"br\"),a(\"div\",{staticClass:\"antd-pro-pages-dashboard-analysis-twoColLayout\",class:!t.isMobile&&\"desktop\"},[a(\"a-row\",{style:{marginTop:\"24px\"},attrs:{gutter:24,type:\"flex\"}},[a(\"a-col\",{attrs:{span:24}},[a(\"a-card\",{staticClass:\"antd-pro-pages-dashboard-analysis-salesCard\",style:{height:\"100%\"},attrs:{bordered:!1}},[a(\"div\",{staticClass:\"salesCard\"},[a(\"a-tabs\",{attrs:{\"default-active-key\":\"1\",size:\"large\",\"tab-bar-style\":{marginBottom:\"24px\",paddingLeft:\"16px\"}}},[a(\"a-tab-pane\",{key:\"1\",style:{padding:\"24px\"},attrs:{tab:\"工单响应数据\"}},[a(\"a-row\",{attrs:{gutter:48}},[a(\"a-col\",{attrs:{span:12}},[a(\"a-card\",{staticClass:\"datacard\",attrs:{bordered:!1,title:\"工单响应和处理时间\"}},[a(\"AntBar\",{attrs:{id:\"respondBar\"+t.respondKey,data:t.respondData,isStack:!0,isGroup:!1,xField:\"businessTeam\",yField:\"time\",seriesField:\"name\"}})],1)],1),a(\"a-col\",{attrs:{span:12}},[a(\"a-card\",{staticClass:\"datacard\",attrs:{bordered:!1,title:\"催单次数\"}},[a(\"AntBar\",{attrs:{id:\"hurryBar\"+t.hurryKey,data:t.hurryData,isStack:!1,isGroup:!0,xField:\"hurryUpCount\",yField:\"count\",seriesField:null}})],1)],1)],1)],1)],1)],1)])],1)],1)],1)],1)},i=[],s=(a(\"159b\"),a(\"d81d\"),a(\"a9e3\"),a(\"b775\")),n=a(\"c1df\"),o=a.n(n),d=a(\"2af9\"),u=a(\"432b\"),h=a(\"3225\"),c=a(\"4f3e\"),m=a(\"f47e\"),l=a(\"c280\"),f=a(\"bb19\"),g=(a(\"5c3a\"),{all:\"all\",year:\"year\",quarter:\"quarter\",month:\"month\",lastMonth:\"lastMonth\",custom:\"custom\"}),p={name:\"VipOrder\",mixins:[u[\"a\"]],components:{ChartCard:d[\"b\"],MiniArea:d[\"c\"],MiniBar:d[\"d\"],MiniProgress:d[\"e\"],Bar:d[\"a\"],Trend:d[\"i\"],NumberInfo:d[\"g\"],MiniSmoothArea:d[\"f\"],Pie:h[\"a\"],AntLine:c[\"a\"],AntBar:m[\"a\"],AntBullet:l[\"a\"],Bar2:f[\"a\"]},data:function(){return{timePeriod:g,loading:!0,affixed:!1,status:\"beta\",respondKey:0,hurryKey:0,functionsum:0,reletiveText:\"月环比\",respondData:[],hurryData:[],tableLoading:!0,currentEnv:\"beta\",currentType:\"all\",currentStartTime:this.getFirstDayOfMonth(),currentEndTime:this.getEndOfMonth(),dateFormat:\"YYYY-MM-DD HH:mm:ss\",dateRange:[],currentPeriod:g.month,typeOptions:[{name:\"全部\",value:\"all\"},{name:\"营收产品\",value:\"products\"},{name:\"营收活动\",value:\"activity\"},{name:\"PK\",value:\"pk\"},{name:\"增长\",value:\"increase\"},{name:\"社交&内容\",value:\"social\"},{name:\"基础\",value:\"basic\"}],timeOptions:[{name:\"上月\",value:g.lastMonth},{name:\"本月\",value:g.month},{name:\"本季度\",value:g.quarter},{name:\"本年\",value:g.year}]}},watch:{currentPeriod:function(t){t!=this.timePeriod.month&&t!=this.timePeriod.lastMonth||(this.reletiveText=\"月环比\"),t==this.timePeriod.quarter&&(this.reletiveText=\"季环比\"),t==this.timePeriod.year&&(this.reletiveText=\"年环比\")}},created:function(){this.init(),this.loading=!1},mounted:function(){},methods:{init:function(){var t=this.$store.state.app.period;this.currentPeriod=t.period,this.changeTime(this.currentPeriod),null!==t.start&&null!==t.end&&(this.currentStartTime=t.start,this.currentEndTime=t.end),this.dateRange=this.getDateRange(),this.getVipOrderDuration(),this.getVipOrderHurryCount()},refreshData:function(){this.tableLoading=!0,this.getVipOrderDuration(),this.getVipOrderHurryCount(),this.$store.commit(\"RECORD_PERIOD\",{period:this.currentPeriod,start:this.currentStartTime,end:this.currentEndTime})},getVipOrderDuration:function(){var t=this;s[\"b\"].post(\"VipOrderController/getVipOrderDuration\",{stime:this.currentStartTime,etime:this.currentEndTime}).then((function(e){var a=[];e.data.forEach((function(t){a.push({businessTeam:t.businessTeam,time:t.duration,name:\"处理时间(小时)\"}),a.push({businessTeam:t.businessTeam,time:t.respond,name:\"响应时间(小时)\"})})),t.respondData=a,t.respondKey+=1})).catch((function(e){t.$message.error(\"工单响应时间获取失败\")}))},getVipOrderHurryCount:function(){var t=this;s[\"b\"].post(\"VipOrderController/getVipOrderHurryCount\",{stime:this.currentStartTime,etime:this.currentEndTime}).then((function(e){t.hurryData=e.data.map((function(t){return{hurryUpCount:t.hurryUpCount+\"次\",count:t.count}})),t.hurryKey+=1})).catch((function(e){t.$message.error(\"工单催单数量获取失败\")}))},handleTimeChange:function(t){var e=t.target.value;this.changeTime(e),this.refreshData()},changeTime:function(t){switch(t){case\"lastMonth\":this.currentStartTime=this.getFirstDayOfLastMonth(),this.currentEndTime=this.getEndOfLastMonth(),this.currentPeriod=this.timePeriod.lastMonth,this.dateRange=this.getDateRange();break;case\"month\":this.currentStartTime=this.getFirstDayOfMonth(),this.currentEndTime=this.getEndOfMonth(),this.currentPeriod=this.timePeriod.month,this.dateRange=this.getDateRange();break;case\"year\":this.currentStartTime=this.getFirstDayOfYear(),this.currentEndTime=this.getEndOfMonth(),this.currentPeriod=this.timePeriod.year,this.dateRange=this.getDateRange();break;case\"quarter\":this.currentStartTime=this.getFirstDayOfQuarter(),this.currentEndTime=this.getEndOfMonth(),this.currentPeriod=this.timePeriod.quarter,this.dateRange=this.getDateRange();break;case\"all\":this.currentStartTime=this.getFirstDayOfYear(),this.currentEndTime=this.getEndOfMonth(),this.currentPeriod=this.timePeriod.all,this.dateRange=this.getDateRange();break;default:}},handleDateRangeChange:function(t){this.currentStartTime=this.dayjs(t[0].valueOf()).startOf(\"day\").format(\"YYYY-MM-DD HH:mm:ss\"),this.currentEndTime=this.dayjs(t[1].valueOf()).endOf(\"day\").format(\"YYYY-MM-DD HH:mm:ss\"),this.currentPeriod=g.custom,this.refreshData()},getFirstDayOfMonth:function(){return this.dayjs().startOf(\"month\").format(\"YYYY-MM-DD HH:mm:ss\")},getFirstDayOfQuarter:function(){return this.dayjs().startOf(\"quarter\").format(\"YYYY-MM-DD HH:mm:ss\")},getFirstDayOfYear:function(){return this.dayjs().startOf(\"year\").format(\"YYYY-MM-DD HH:mm:ss\")},getEndOfMonth:function(){return this.dayjs().endOf(\"month\").format(\"YYYY-MM-DD HH:mm:ss\")},getFirstDayOfLastMonth:function(){return this.dayjs().subtract(1,\"month\").startOf(\"month\").format(\"YYYY-MM-DD HH:mm:ss\")},getEndOfLastMonth:function(){return this.dayjs().subtract(1,\"month\").endOf(\"month\").format(\"YYYY-MM-DD HH:mm:ss\")},formatNumberString:function(t){return Number(t).toLocaleString(\"en\")},affixChanged:function(){this.affixed=!this.affixed},disabledDate:function(t){return t&&t>o()().endOf(\"day\")},getPercent:function(t){Math.round(1e4*Number(t))},getDateRange:function(){return[o()(this.currentStartTime,this.dateFormat),o()(this.currentEndTime,this.dateFormat)]}},computed:{}},y=p,b=(a(\"b3f8\"),a(\"2877\")),D=Object(b[\"a\"])(y,r,i,!1,null,\"de29ad4c\",null);e[\"default\"]=D.exports},b3f8:function(t,e,a){\"use strict\";a(\"3ed0\")}}]);","extractedComments":[]}
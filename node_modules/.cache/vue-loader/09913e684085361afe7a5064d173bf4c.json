{"remainingRequest":"/Users/momo/code/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/momo/code/vue/live-data-analysis-static/src/views/dashboard/QualityDetail.vue?vue&type=style&index=0&id=af2153aa&lang=less&scoped=true&","dependencies":[{"path":"/Users/momo/code/vue/live-data-analysis-static/src/views/dashboard/QualityDetail.vue","mtime":1626864386000},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/css-loader/dist/cjs.js","mtime":1647586362967},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1647586368323},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/postcss-loader/src/index.js","mtime":1647586367416},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/less-loader/dist/cjs.js","mtime":1647586450216},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1647586199048},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js","mtime":1647586368323}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi53YXJuaW5nQ29sdW1uIHsKICBjb2xvcjogI2VmM2M1OTsKICBmb250LXdlaWdodDogYm9sZDsKICBwYWRkaW5nOiA1cHg7Cn0KLmV4dHJhLXdyYXBwZXIgewogIGxpbmUtaGVpZ2h0OiA1NXB4OwogIHBhZGRpbmctcmlnaHQ6IDI0cHg7CgogIC5leHRyYS1pdGVtIHsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIG1hcmdpbi1yaWdodDogMjRweDsKCiAgICBhIHsKICAgICAgbWFyZ2luLWxlZnQ6IDI0cHg7CiAgICB9CiAgfQp9CgouYW50ZC1wcm8tcGFnZXMtZGFzaGJvYXJkLWFuYWx5c2lzLXR3b0NvbExheW91dCB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGRpc3BsYXk6IGZsZXg7CiAgZGlzcGxheTogYmxvY2s7CiAgZmxleC1mbG93OiByb3cgd3JhcDsKfQoKLmFudGQtcHJvLXBhZ2VzLWRhc2hib2FyZC1hbmFseXNpcy1zYWxlc0NhcmQgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogY2FsYygxMDAlIC0gMjRweCk7CiAgLyogL2RlZXAvIC5hbnQtY2FyZC1oZWFkIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB9ICovCn0KCi5hbnQtY29sLTMgewogIHdpZHRoOiAzMyU7Cn0KCi5hbnQtZm9udC0yIHsKICBmb250LXNpemU6IDEzcHg7Cn0KLmRhc2hib2FyZC1hbmFseXNpcy1pY29uR3JvdXAgewogIGkgewogICAgbWFyZ2luLWxlZnQ6IDE2cHg7CiAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQ1KTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGNvbG9yIDAuMzJzOwogICAgY29sb3I6IGJsYWNrOwogIH0KfQouYW5hbHlzaXMtc2FsZXNUeXBlUmFkaW8gewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICByaWdodDogNTRweDsKICBib3R0b206IDEycHg7Cn0KCi50aW1lUmFkaW9Hcm91cCB7CiAgbWFyZ2luLWxlZnQ6IDU0cHg7Cn0KCi50aW1lUmFkaW9CdXR0b25zLmFudC1yYWRpby1idXR0b24td3JhcHBlcjo6YmVmb3JlIHsKICBkaXNwbGF5OiBub25lOwogIHZpc2liaWxpdHk6IGhpZGRlbjsKfQoudGltZVJhZGlvQnV0dG9ucyB7CiAgYm9yZGVyOiBub25lOwp9Ci50aW1lUmFkaW9Hcm91cCB7CiAgbWFyZ2luLWxlZnQ6IDU0cHg7CiAgYm9yZGVyOiBub25lOwp9Ci5hbnQtcmFkaW8tYnV0dG9uLXdyYXBwZXItY2hlY2tlZDpub3QoLmFudC1yYWRpby1idXR0b24td3JhcHBlci1kaXNhYmxlZCkgewogIHotaW5kZXg6IDE7CiAgY29sb3I6ICMxODkwZmY7CiAgYmFja2dyb3VuZDogI2ZmZjsKICBib3JkZXItY29sb3I6ICNmZmZmZmY7CiAgLXdlYmtpdC1ib3gtc2hhZG93OiAtMXB4IDAgMCAwICNmZmZmZmY7CiAgYm94LXNoYWRvdzogLTFweCAwIDAgMCAjZmZmZmZmOwp9Ci5hbnQtdGl0bGUgewogIGNvbG9yOiAjMTg5MGZmOwogIGZvbnQtc2l6ZTogMTZweDsKICBtYXJnaW4tYm90dG9tOiAyNHB4OwogIGZvbnQtd2VpZ2h0OiA1MDA7Cn0K"},{"version":3,"sources":["QualityDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"QualityDetail.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\n  <div>\n    <div class=\"ant-title\">{{ projectName }}详细数据</div>\n    <a-table\n      :pagination=\"pagination\"\n      row-key=\"index\"\n      :columns=\"qualityColumns\"\n      :data-source=\"loadQualityData\"\n      @change=\"handleTableChange\"\n      :loading=\"loading\"\n    >\n      <template slot=\"bugResolutionRate\" slot-scope=\"record\">\n        <div v-if=\"record.bugSum>0&&!inRange(record.bugResolutionRate, 90, 100)\">\n          <a-tooltip placement=\"top\" title=\"BUG解决率合格线为90%\">\n            <span class=\"warningColumn\">\n              {{ record.bugResolutionRate }}\n            </span>\n          </a-tooltip>\n        </div>\n        <div v-else>\n          {{ record.bugResolutionRate }}\n        </div>\n      </template>\n      <template slot=\"rdTestQuality\" slot-scope=\"record\">\n        <div v-if=\"!inRange(record.rdTestQuality, 90, 100)\">\n          <a-tooltip placement=\"top\" title=\"开发提测质量合格线为90%\">\n            <span class=\"warningColumn\">\n              {{ record.rdTestQuality }}\n            </span>\n          </a-tooltip>\n        </div>\n        <div v-else>\n          {{ record.rdTestQuality }}\n        </div>\n      </template>\n    </a-table>\n  </div>\n</template>\n\n<script>\nimport { axios } from '@/utils/request'\nimport Vue from 'vue'\n\nexport default {\n  components: {},\n  data() {\n    return {\n      loading: true,\n      pagination: {\n        current: 1,\n        total: 0,\n      },\n      projectName: this.$route.query.projectName,\n      qualityColumns: [\n        {\n          title: '序号',\n          dataIndex: 'index',\n          key: 'index',\n          width: 90,\n        },\n        {\n          title: '需求名称',\n          dataIndex: 'functionName',\n          key: 'functionName',\n          width: 400,\n        },\n        {\n          title: '内网BUG数',\n          dataIndex: 'bugSum',\n          key: 'bugSum',\n          align: 'right',\n        },\n        {\n          title: '遗留BUG数',\n          dataIndex: 'bugDeferred',\n          key: 'bugDeferred',\n          align: 'right',\n        },\n        {\n          title: 'BUG解决率',\n          key: 'bugResolutionRate',\n          align: 'right',\n          scopedSlots: { customRender: 'bugResolutionRate' },\n        },\n        {\n          title: '提测质量',\n          key: 'rdTestQuality',\n          align: 'right',\n          scopedSlots: { customRender: 'rdTestQuality' },\n        },\n      ],\n      loadQualityData: [],\n      dataCache: {},\n    }\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    init() {\n      this.getDataByPage()\n    },\n    getDataByPage() {\n      this.loading = true\n      axios\n        .post('/BusinessController/getFunctionByProductId', {\n          stime: this.$route.query.stime,\n          etime: this.$route.query.etime,\n          projectId: this.$route.query.projectId,\n          offset: (this.pagination.current - 1) * 10,\n        })\n        .then((res) => {\n          let data = res.data.list\n          for (let i = 0; i < data.length; i++) {\n            data[i].index = i + 1\n          }\n          this.loadQualityData = data\n          this.dataCache[this.pagination.current] = data\n          if (this.pagination.current == 1) {\n            Vue.set(this.pagination, 'total', res.data.total)\n          }\n          this.loading = false\n        })\n        .catch(function (error) {\n          this.loading = false\n          console.log(error)\n        })\n    },\n    onChange(page, pageSize) {\n      console.log('page', page, 'pageSize', pageSize)\n    },\n    handleTableChange(pagination, filters, sorter) {\n      this.pagination = pagination\n      if (pagination.current in this.dataCache) {\n        this.loadQualityData = this.dataCache[pagination.current]\n      } else {\n        this.getDataByPage()\n      }\n    },\n    getNumberFromPercentString(str) {\n      let numStr = str.slice(0, -1)\n      return Number(numStr)\n    },\n    isWarningColor(record, floor, ceil) {\n      if (record === '-') {\n        return 'normalColumn'\n      }\n      if (!this.inRange(record, floor, ceil)) {\n        return 'warningColumn'\n      }\n      return 'normalColumn'\n    },\n    inRange(record, floor, ceil) {\n      if (record === '-') {\n        return true\n      }\n      let stat = this.getNumberFromPercentString(record)\n      return stat >= floor && stat <= ceil\n    },\n  },\n  computed: {\n    title() {\n      return this.$route.meta.title\n    },\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.warningColumn {\n  color: #ef3c59;\n  font-weight: bold;\n  padding: 5px;\n}\n.extra-wrapper {\n  line-height: 55px;\n  padding-right: 24px;\n\n  .extra-item {\n    display: inline-block;\n    margin-right: 24px;\n\n    a {\n      margin-left: 24px;\n    }\n  }\n}\n\n.antd-pro-pages-dashboard-analysis-twoColLayout {\n  position: relative;\n  display: flex;\n  display: block;\n  flex-flow: row wrap;\n}\n\n.antd-pro-pages-dashboard-analysis-salesCard {\n  width: 100%;\n  height: calc(100% - 24px);\n  /* /deep/ .ant-card-head {\n    position: relative;\n  } */\n}\n\n.ant-col-3 {\n  width: 33%;\n}\n\n.ant-font-2 {\n  font-size: 13px;\n}\n.dashboard-analysis-iconGroup {\n  i {\n    margin-left: 16px;\n    color: rgba(0, 0, 0, 0.45);\n    cursor: pointer;\n    transition: color 0.32s;\n    color: black;\n  }\n}\n.analysis-salesTypeRadio {\n  position: absolute;\n  right: 54px;\n  bottom: 12px;\n}\n\n.timeRadioGroup {\n  margin-left: 54px;\n}\n\n.timeRadioButtons.ant-radio-button-wrapper::before {\n  display: none;\n  visibility: hidden;\n}\n.timeRadioButtons {\n  border: none;\n}\n.timeRadioGroup {\n  margin-left: 54px;\n  border: none;\n}\n.ant-radio-button-wrapper-checked:not(.ant-radio-button-wrapper-disabled) {\n  z-index: 1;\n  color: #1890ff;\n  background: #fff;\n  border-color: #ffffff;\n  -webkit-box-shadow: -1px 0 0 0 #ffffff;\n  box-shadow: -1px 0 0 0 #ffffff;\n}\n.ant-title {\n  color: #1890ff;\n  font-size: 16px;\n  margin-bottom: 24px;\n  font-weight: 500;\n}\n</style>\n"]}]}
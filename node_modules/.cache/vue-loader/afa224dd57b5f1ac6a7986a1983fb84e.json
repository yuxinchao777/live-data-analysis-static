{"remainingRequest":"/Users/momo/code/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/momo/code/vue/live-data-analysis-static/src/views/dashboard/BusinessAnalysis.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/momo/code/vue/live-data-analysis-static/src/views/dashboard/BusinessAnalysis.vue","mtime":1627383512000},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1647586199048},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/babel-loader/lib/index.js","mtime":1647848746451},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1647586199048},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js","mtime":1647848754116}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGF4aW9zIH0gZnJvbSAnQC91dGlscy9yZXF1ZXN0JwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcKaW1wb3J0IHsgQ2hhcnRDYXJkLCBNaW5pQXJlYSwgTWluaUJhciwgTWluaVByb2dyZXNzLCBCYXIsIFRyZW5kLCBOdW1iZXJJbmZvLCBNaW5pU21vb3RoQXJlYSB9IGZyb20gJ0AvY29tcG9uZW50cycKaW1wb3J0IHsgYmFzZU1peGluIH0gZnJvbSAnQC9zdG9yZS9hcHAtbWl4aW4nCmltcG9ydCBQaWUgZnJvbSAnQC9jb21wb25lbnRzL0NoYXJ0cy9QaWUnCmltcG9ydCBBbnRMaW5lIGZyb20gJ0AvY29tcG9uZW50cy9DaGFydHMvQW50TGluZScKaW1wb3J0IEFudEJhciBmcm9tICdAL2NvbXBvbmVudHMvQ2hhcnRzL0FudEJhcicKaW1wb3J0IEFudEJ1bGxldCBmcm9tICdAL2NvbXBvbmVudHMvQ2hhcnRzL0FudEJ1bGxldCcKaW1wb3J0IGJhcjIgZnJvbSAnQC9jb21wb25lbnRzL0NoYXJ0cy9CYXIyJwppbXBvcnQgJ21vbWVudC9sb2NhbGUvemgtY24nCgpjb25zdCB0aW1lUGVyaW9kID0gewogIGFsbDogJ2FsbCcsCiAgeWVhcjogJ3llYXInLAogIHF1YXJ0ZXI6ICdxdWFydGVyJywKICBtb250aDogJ21vbnRoJywKICBsYXN0TW9udGg6ICdsYXN0TW9udGgnLAogIGN1c3RvbTogJ2N1c3RvbScsCn0KCmNvbnN0IGZ1bmN0aW9uQ29sdW1ucyA9IFsKICB7CiAgICB0aXRsZTogJ+S4muWKoee6vycsCiAgICBkYXRhSW5kZXg6ICdwcm9qZWN0TmFtZScsCiAgICBrZXk6ICdwcm9qZWN0TmFtZScsCiAgICB3aWR0aDogMTAwLAogIH0sCiAgewogICAgdGl0bGU6ICfpobnnm67mlbAnLAogICAgZGF0YUluZGV4OiAnZnVuY3Rpb25TdW0nLAogICAga2V5OiAnZnVuY3Rpb25TdW0nLAogIH0sCiAgewogICAgdGl0bGU6ICflvIDlj5Hkurrml6UnLAogICAga2V5OiAncmRTdW1Kb2JEYXlzJywKICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ3JkU3VtSm9iRGF5cycgfSwKICB9LAogIHsKICAgIHRpdGxlOiAn5rWL6K+V5Lq65pelJywKICAgIGtleTogJ3FhU3VtSm9iRGF5cycsCiAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICdxYVN1bUpvYkRheXMnIH0sCiAgfSwKICB7CiAgICB0aXRsZTogJ0Nhc2XmlbAnLAogICAgZGF0YUluZGV4OiAnY2FzZUNvdW50JywKICAgIGtleTogJ2Nhc2VDb3VudCcsCiAgfSwKICAvLyB7CiAgLy8gICB0aXRsZTogJ+W7tuacn+aPkOa1i+mhueebruWNoOavlCcsCiAgLy8gICBrZXk6ICdwcm9wb3J0aW9PZkRlbGF5ZWQnLAogIC8vICAgYWxpZ246ICdjZW50ZXInLAogIC8vICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAncHJvcG9ydGlvT2ZEZWxheWVkJyB9LAogIC8vIH0sCiAgewogICAgdGl0bGU6ICfor6bmg4UnLAogICAga2V5OiAncHJvamVjdGRldGFpbCcsCiAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICdwcm9qZWN0ZGV0YWlsJyB9LAogICAgYWxpZ246ICdjZW50ZXInLAogIH0sCl0KY29uc3QgcXVhbGl0eUNvbHVtbnMgPSBbCiAgewogICAgdGl0bGU6ICfkuJrliqHnur8nLAogICAgZGF0YUluZGV4OiAncHJvamVjdE5hbWUnLAogICAga2V5OiAncHJvamVjdE5hbWUnLAogICAgd2lkdGg6IDEwMCwKICB9LAogIHsKICAgIHRpdGxlOiAn5YaF572RQlVH5pWwJywKICAgIGRhdGFJbmRleDogJ3N1bUJ1ZycsCiAgICBrZXk6ICdzdW1CdWcnLAogICAgYWxpZ246ICdjZW50ZXInLAogIH0sCiAgewogICAgdGl0bGU6ICdCVUfop6PlhrPnjocnLAogICAga2V5OiAnYnVnUmVzb2x1dGlvblJhdGUnLAogICAgYWxpZ246ICdjZW50ZXInLAogICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAnYnVnUmVzb2x1dGlvblJhdGUnIH0sCiAgfSwKICB7CiAgICB0aXRsZTogJ0JVR+eOhycsCiAgICBkYXRhSW5kZXg6ICdidWdSYXRlJywKICAgIGtleTogJ2J1Z1JhdGUnLAogICAgYWxpZ246ICdjZW50ZXInLAogIH0sCiAgewogICAgdGl0bGU6ICfnur/kuIpCVUfmlbAnLAogICAgZGF0YUluZGV4OiAnb25saW5lQnVnJywKICAgIGtleTogJ29ubGluZUJ1ZycsCiAgICBhbGlnbjogJ2NlbnRlcicsCiAgfSwKICB7CiAgICB0aXRsZTogJ+aPkOa1i+i0qOmHjycsCiAgICBrZXk6ICdyZFRlc3RRdWFsaXR5JywKICAgIGFsaWduOiAnY2VudGVyJywKICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ3JkVGVzdFF1YWxpdHknIH0sCiAgfSwKICB7CiAgICB0aXRsZTogJ+ivpuaDhScsCiAgICBrZXk6ICdxdWFsaXR5ZGV0YWlsJywKICAgIGFsaWduOiAnY2VudGVyJywKICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ3F1YWxpdHlkZXRhaWwnIH0sCiAgfSwKXQoKY29uc3Qgc2VhcmNoVXNlckRhdGEgPSBbXQpmb3IgKGxldCBpID0gMDsgaSA8IDc7IGkrKykgewogIHNlYXJjaFVzZXJEYXRhLnB1c2goewogICAgeDogbW9tZW50KCkuYWRkKGksICdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJyksCiAgICB5OiBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDEwKSwKICB9KQp9CmNvbnN0IHNlYXJjaFVzZXJTY2FsZSA9IFsKICB7CiAgICBkYXRhS2V5OiAneCcsCiAgICBhbGlhczogJ+aXtumXtCcsCiAgfSwKICB7CiAgICBkYXRhS2V5OiAneScsCiAgICBhbGlhczogJ+eUqOaIt+aVsCcsCiAgICBtaW46IDAsCiAgICBtYXg6IDEwLAogIH0sCl0KCmNvbnN0IHNlYXJjaFRhYmxlQ29sdW1ucyA9IFsKICB7CiAgICBkYXRhSW5kZXg6ICdpbmRleCcsCiAgICB0aXRsZTogJycsCiAgICB3aWR0aDogOTAsCiAgfSwKICB7CiAgICBkYXRhSW5kZXg6ICdrZXl3b3JkJywKICAgIHRpdGxlOiAn5pCc57Si5YWz6ZSu6K+NJywKICB9LAogIHsKICAgIGRhdGFJbmRleDogJ2NvdW50JywKICAgIHRpdGxlOiAn55So5oi35pWwJywKICB9LAogIHsKICAgIGRhdGFJbmRleDogJ3JhbmdlJywKICAgIHRpdGxlOiAn5ZGo5rao5bmFJywKICAgIGFsaWduOiAncmlnaHQnLAogICAgc29ydGVyOiAoYSwgYikgPT4gYS5yYW5nZSAtIGIucmFuZ2UsCiAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICdyYW5nZScgfSwKICB9LApdCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0J1c2luZXNzQW5hbHlzaXMnLAogIG1peGluczogW2Jhc2VNaXhpbl0sCiAgY29tcG9uZW50czogewogICAgQ2hhcnRDYXJkLAogICAgTWluaUFyZWEsCiAgICBNaW5pQmFyLAogICAgTWluaVByb2dyZXNzLAogICAgQmFyLAogICAgVHJlbmQsCiAgICBOdW1iZXJJbmZvLAogICAgTWluaVNtb290aEFyZWEsCiAgICBQaWUsCiAgICBBbnRMaW5lLAogICAgQW50QmFyLAogICAgQW50QnVsbGV0LAogICAgYmFyMiwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aW1lUGVyaW9kLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBhZmZpeGVkOiBmYWxzZSwKICAgICAgc3RhdHVzOiAnYmV0YScsCiAgICAgIHBpZUtleTogMCwKICAgICAgYnVzaW5lc3NLZXk6IDAsCiAgICAgIGZ1bmN0aW9uRGF0YTogW10sCiAgICAgIGZhdWx0RGF0YTogW10sCiAgICAgIGZ1bmN0aW9uQ29sdW1ucywKICAgICAgcXVhbGl0eURhdGE6IFtdLAogICAgICBxdWFsaXR5Q29sdW1ucywKICAgICAgZnVuY3Rpb25zdW06IDAsCiAgICAgIHJlbGV0aXZlVGV4dDogJ+aciOeOr+avlCcsCiAgICAgIHBpZVN0eWxlOiB7CiAgICAgICAgc3Ryb2tlOiAnI2ZmZicsCiAgICAgICAgbGluZVdpZHRoOiAxLAogICAgICB9LAogICAgICBmdW5jdGlvblJhbms6IHsKICAgICAgICBBMTogMCwKICAgICAgICBBMjogMCwKICAgICAgICBBMzogMCwKICAgICAgICBBNDogMCwKICAgICAgICBzdW1GdW5jaXRvbjogMCwKICAgICAgICBsYXN0TnVtU3VtOiAwLAogICAgICAgIEZ1bmN0aW9uQ2hhaW5Db21wYXJpc29uOiAnMCUnLAogICAgICAgIHRyZW5kOiAndXAnLAogICAgICB9LAogICAgICByZFNhdHVyYXRpb246IHsKICAgICAgICByZGpvYkRheXM6IDAsCiAgICAgICAgd29ya0RheXM6IDAsCiAgICAgICAgcmRMaXN0czogMCwKICAgICAgICByZFNhdHVyYXRpb246ICcwLjAwJScsCiAgICAgICAgbHJkU2F0dXJhdGlvbjogMCwKICAgICAgICB0cmVuZDogJ3VwJywKICAgICAgICBjaGFuZ2VTYXR1cmF0aW9uOiAnMC4wMCUnLAogICAgICAgIHJkU2F0dXJhdGlvbk51bTogMCwKICAgICAgfSwKICAgICAgcWFTYXR1cmF0aW9uOiB7CiAgICAgICAgcWFqb2JEYXlzOiAwLAogICAgICAgIHdvcmtEYXlzOiAwLAogICAgICAgIHFhTGlzdHM6IDAsCiAgICAgICAgcWFTYXR1cmF0aW9uOiAnMC4wMCUnLAogICAgICAgIHRyZW5kOiAndXAnLAogICAgICAgIGxxYVNhdHVyYXRpb246IDAuMCwKICAgICAgICBjaGFuZ2VTYXR1cmF0aW9uOiAnMC4wMCUnLAogICAgICAgIHFhU2F0dXJhdGlvbk51bTogMCwKICAgICAgfSwKICAgICAgYnVzaW5lc3NEYXRhOiBbXSwKICAgICAgZGV2ZWxvcG1lbnRIb3VyczogW10sCiAgICAgIGJldGFCdWdEYXRhOiBbXSwKICAgICAgcHJvZEJ1Z0RhdGE6IFtdLAogICAgICBwaWVEYXRhOiBbCiAgICAgICAgeyB4OiAn5aqS5L2TJywgeTogMCB9LAogICAgICAgIHsgeDogJ+ekvuS6pCbln7rnoYAnLCB5OiAwIH0sCiAgICAgICAgeyB4OiAn6KeG6aKRU0Pnu4QnLCB5OiAwIH0sCiAgICAgICAgeyB4OiAn6JCl5pS25Lqn5ZOBJywgeTogMCB9LAogICAgICAgIHsgeDogJ+iQpeaUtua0u+WKqCcsIHk6IDAgfSwKICAgICAgICB7IHg6ICflop7plb8nLCB5OiAwIH0sCiAgICAgIF0sCiAgICAgIGJ1bGxldERhdGE6IFtdLAogICAgICB0YWJsZUxvYWRpbmc6IHRydWUsCiAgICAgIGN1cnJlbnRFbnY6ICdiZXRhJywKICAgICAgY3VycmVudFR5cGU6ICdhbGwnLAogICAgICBjdXJyZW50U3RhcnRUaW1lOiB0aGlzLmdldEZpcnN0RGF5T2ZNb250aCgpLAogICAgICBjdXJyZW50RW5kVGltZTogdGhpcy5nZXRFbmRPZk1vbnRoKCksCiAgICAgIGRhdGVGb3JtYXQ6ICdZWVlZLU1NLUREIEhIOm1tOnNzJywKICAgICAgZGF0ZVJhbmdlOiBbXSwKICAgICAgY3VycmVudFBlcmlvZDogdGltZVBlcmlvZC5tb250aCwKICAgICAgdHlwZU9wdGlvbnM6IFsKICAgICAgICB7IG5hbWU6ICflhajpg6gnLCB2YWx1ZTogJ2FsbCcgfSwKICAgICAgICB7IG5hbWU6ICfokKXmlLbkuqflk4EnLCB2YWx1ZTogJ3Byb2R1Y3RzJyB9LAogICAgICAgIHsgbmFtZTogJ+iQpeaUtua0u+WKqCcsIHZhbHVlOiAnYWN0aXZpdHknIH0sCiAgICAgICAgeyBuYW1lOiAnUEsnLCB2YWx1ZTogJ3BrJyB9LAogICAgICAgIHsgbmFtZTogJ+WinumVvycsIHZhbHVlOiAnaW5jcmVhc2UnIH0sCiAgICAgICAgeyBuYW1lOiAn56S+5LqkJuWGheWuuScsIHZhbHVlOiAnc29jaWFsJyB9LAogICAgICAgIHsgbmFtZTogJ+WfuuehgCcsIHZhbHVlOiAnYmFzaWMnIH0sCiAgICAgIF0sCiAgICAgIHRpbWVPcHRpb25zOiBbCiAgICAgICAgeyBuYW1lOiAn5LiK5pyIJywgdmFsdWU6IHRpbWVQZXJpb2QubGFzdE1vbnRoIH0sCiAgICAgICAgeyBuYW1lOiAn5pys5pyIJywgdmFsdWU6IHRpbWVQZXJpb2QubW9udGggfSwKICAgICAgICB7IG5hbWU6ICfmnKzlraPluqYnLCB2YWx1ZTogdGltZVBlcmlvZC5xdWFydGVyIH0sCiAgICAgICAgeyBuYW1lOiAn5pys5bm0JywgdmFsdWU6IHRpbWVQZXJpb2QueWVhciB9LAogICAgICBdLAogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGN1cnJlbnRQZXJpb2Q6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgY29uc29sZS5sb2coJ2N1cnJlbnRQZXJpb2Qgd2F0Y2gnLCB2YWwpCiAgICAgIGlmICh2YWwgPT0gdGhpcy50aW1lUGVyaW9kLm1vbnRoIHx8IHZhbCA9PSB0aGlzLnRpbWVQZXJpb2QubGFzdE1vbnRoKSB7CiAgICAgICAgdGhpcy5yZWxldGl2ZVRleHQgPSAn5pyI546v5q+UJwogICAgICB9CiAgICAgIGlmICh2YWwgPT0gdGhpcy50aW1lUGVyaW9kLnF1YXJ0ZXIpIHsKICAgICAgICB0aGlzLnJlbGV0aXZlVGV4dCA9ICflraPnjq/mr5QnCiAgICAgIH0KICAgICAgaWYgKHZhbCA9PSB0aGlzLnRpbWVQZXJpb2QueWVhcikgewogICAgICAgIHRoaXMucmVsZXRpdmVUZXh0ID0gJ+W5tOeOr+avlCcKICAgICAgfQogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKQogICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICB9LAogIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBpbml0KCkgewogICAgICBsZXQgcGVyaW9kID0gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnBlcmlvZAogICAgICB0aGlzLmN1cnJlbnRQZXJpb2QgPSBwZXJpb2QucGVyaW9kCiAgICAgIHRoaXMuY2hhbmdlVGltZSh0aGlzLmN1cnJlbnRQZXJpb2QpCiAgICAgIGlmIChwZXJpb2Quc3RhcnQgIT09IG51bGwgJiYgcGVyaW9kLmVuZCAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuY3VycmVudFN0YXJ0VGltZSA9IHBlcmlvZC5zdGFydAogICAgICAgIHRoaXMuY3VycmVudEVuZFRpbWUgPSBwZXJpb2QuZW5kCiAgICAgIH0KICAgICAgdGhpcy5kYXRlUmFuZ2UgPSB0aGlzLmdldERhdGVSYW5nZSgpCiAgICAgIHRoaXMuZ2V0QnVzaW5lc3NDb3VudCgpCiAgICAgIHRoaXMuZ2V0RGV2ZWxvcG1lbnRIb3VycygpCiAgICAgIHRoaXMuZ2V0QmV0YUJ1Z0NvdW50KCkKICAgICAgdGhpcy5nZXRQcm9kQnVnc0NvdW50KCkKICAgICAgdGhpcy5nZXRRdWFsaXR5RGF0YSgpCiAgICAgIHRoaXMuZ2V0RnVuY3Rpb25EYXRhKCkKICAgICAgdGhpcy5mdW5jaXRvblRvdGFsKCkKICAgICAgdGhpcy5nZXRPdmVydmlld0FuYWx5c2lzKCkKICAgICAgdGhpcy5nZXRGYXVsdERhdGEoKQogICAgfSwKICAgIHJlZnJlc2hEYXRhKCkgewogICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IHRydWUKICAgICAgY29uc29sZS5sb2coCiAgICAgICAgYHJlZnJlc2hEYXRhOiB0eXBlID0gJHt0aGlzLmN1cnJlbnRUeXBlfSwgc3RpbWUgPSAke3RoaXMuY3VycmVudFN0YXJ0VGltZX0sIGV0aW1lID0gJHt0aGlzLmN1cnJlbnRFbmRUaW1lfSwgcGVyaW9kID0gJHt0aGlzLmN1cnJlbnRQZXJpb2R9YAogICAgICApCiAgICAgIHRoaXMuZ2V0QnVzaW5lc3NDb3VudCgpCiAgICAgIHRoaXMuZ2V0RGV2ZWxvcG1lbnRIb3VycygpCiAgICAgIHRoaXMuZ2V0QmV0YUJ1Z0NvdW50KCkKICAgICAgdGhpcy5nZXRQcm9kQnVnc0NvdW50KCkKICAgICAgdGhpcy5nZXRPdmVydmlld0FuYWx5c2lzKCkKICAgICAgdGhpcy5nZXRGYXVsdERhdGEoKQogICAgICB0aGlzLmdldFF1YWxpdHlEYXRhKCkKICAgICAgdGhpcy5nZXRGdW5jdGlvbkRhdGEoKQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1JFQ09SRF9QRVJJT0QnLCB7CiAgICAgICAgcGVyaW9kOiB0aGlzLmN1cnJlbnRQZXJpb2QsCiAgICAgICAgc3RhcnQ6IHRoaXMuY3VycmVudFN0YXJ0VGltZSwKICAgICAgICBlbmQ6IHRoaXMuY3VycmVudEVuZFRpbWUsCiAgICAgIH0pCiAgICB9LAogICAgLy/orqHnrpfpobnnm67mgLvmlbAKICAgIGZ1bmNpdG9uVG90YWwoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoJy9CdXNpbmVzc0NvbnRyb2xsZXIvZ2V0QnVzaW5lc3NWb2x1bWUnLCB7CiAgICAgICAgICBzdGltZTogdGhpcy5jdXJyZW50U3RhcnRUaW1lLAogICAgICAgICAgZXRpbWU6IHRoaXMuY3VycmVudEVuZFRpbWUsCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHZhciBmdW5jdGlvbnN1bSA9IDAKICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaCgoZSkgPT4gewogICAgICAgICAgICBmdW5jdGlvbnN1bSA9IGZ1bmN0aW9uc3VtICsgZS5mdW5jdGlvbkNvdW50CiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5mdW5jdGlvbnN1bSA9IGZ1bmN0aW9uc3VtCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iuoeeul+mhueebruaAu+aVsOmUmeivrycpCiAgICAgICAgfSkKICAgIH0sCiAgICAvL+i3s+i9rOi0qOmHj+aVsOaNruivpue7humhtemdogogICAgY2hlY2tRdWFsaXR5RGV0YWlsKHByb2plY3RJZCwgcHJvamVjdE5hbWUpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvZGFzaGJvYXJkL3F1YWxpdHlkZXRhaWwnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBzdGltZTogdGhpcy5jdXJyZW50U3RhcnRUaW1lLAogICAgICAgICAgZXRpbWU6IHRoaXMuY3VycmVudEVuZFRpbWUsCiAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCwKICAgICAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0TmFtZSwKICAgICAgICB9LAogICAgICB9KQogICAgfSwKICAgIC8v6Lez6L2s6aG555uu5pWw5o2u6K+m57uG6aG16Z2iCiAgICBjaGVja1Byb2plY3REZXRhaWwocHJvamVjdElkLCBwcm9qZWN0TmFtZSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9kYXNoYm9hcmQvcHJvamVjdGRldGFpbCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHN0aW1lOiB0aGlzLmN1cnJlbnRTdGFydFRpbWUsCiAgICAgICAgICBldGltZTogdGhpcy5jdXJyZW50RW5kVGltZSwKICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLAogICAgICAgICAgcHJvamVjdE5hbWU6IHByb2plY3ROYW1lLAogICAgICAgIH0sCiAgICAgIH0pCiAgICB9LAogICAgZ2V0RnVuY3Rpb25EYXRhKCkgewogICAgICBheGlvcwogICAgICAgIC5wb3N0KCcvQnVzaW5lc3NDb250cm9sbGVyL2dldFF1YWxpdHlEYXRhJywgewogICAgICAgICAgc3RpbWU6IHRoaXMuY3VycmVudFN0YXJ0VGltZSwKICAgICAgICAgIGV0aW1lOiB0aGlzLmN1cnJlbnRFbmRUaW1lLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLmZ1bmN0aW9uRGF0YSA9IHJlc3BvbnNlLmRhdGEKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Lia5Yqh5pWw5o2u6I635Y+W5aSx6LSlJykKICAgICAgICB9KQogICAgfSwKICAgIC8qKgogICAgICog6aG555uu5oC75pWwCiAgICAgKiDlvIDlj5HppbHlkozluqYKICAgICAqIOa1i+ivlemlseWSjOW6pgogICAgICovCiAgICBnZXRPdmVydmlld0FuYWx5c2lzKCkgewogICAgICBheGlvcwogICAgICAgIC5wb3N0KCcvQnVzaW5lc3NDb250cm9sbGVyL292ZXJ2aWV3QW5hbHlzaXMnLCB7CiAgICAgICAgICBzdGltZTogdGhpcy5jdXJyZW50U3RhcnRUaW1lLAogICAgICAgICAgZXRpbWU6IHRoaXMuY3VycmVudEVuZFRpbWUsCiAgICAgICAgICBwZXJpb2Q6IHRoaXMuY3VycmVudFBlcmlvZCwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgIHRoaXMuZnVuY3Rpb25SYW5rID0gcmVzWzBdCiAgICAgICAgICB0aGlzLnJkU2F0dXJhdGlvbiA9IHJlc1sxXQogICAgICAgICAgdGhpcy5xYVNhdHVyYXRpb24gPSByZXNbMl0KICAgICAgICAgIHRoaXMucmRTYXR1cmF0aW9uLnJkU2F0dXJhdGlvbk51bSA9IHBhcnNlSW50KHRoaXMucmRTYXR1cmF0aW9uLnJkU2F0dXJhdGlvbikKICAgICAgICAgIHRoaXMucWFTYXR1cmF0aW9uLnFhU2F0dXJhdGlvbk51bSA9IHBhcnNlSW50KHRoaXMucWFTYXR1cmF0aW9uLnFhU2F0dXJhdGlvbikKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5mdW5jdGlvblJhbmsgPSByZXNbMF0KICAgICAgICAgICAgdGhpcy5yZFNhdHVyYXRpb24gPSByZXNbMV0KICAgICAgICAgICAgdGhpcy5xYVNhdHVyYXRpb24gPSByZXNbMl0KICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+mhueebruaAu+aVsOOAgeW8gOWPkemlseWSjOW6puOAgea1i+ivlemlseWSjOW6puiOt+WPluWksei0pScpCiAgICAgICAgfSkKICAgIH0sCiAgICBnZXRRdWFsaXR5RGF0YSgpIHsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgnL0J1c2luZXNzQ29udHJvbGxlci9nZXRCZXRhQnVnQ291bnQnLCB7CiAgICAgICAgICBzdGltZTogdGhpcy5jdXJyZW50U3RhcnRUaW1lLAogICAgICAgICAgZXRpbWU6IHRoaXMuY3VycmVudEVuZFRpbWUsCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgZGF0YS5mb3JFYWNoKChlKSA9PiB7CiAgICAgICAgICAgIGlmICghKCdvbmxpbmVCdWcnIGluIGUpKSB7CiAgICAgICAgICAgICAgZS5vbmxpbmVCdWcgPSAwCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLnF1YWxpdHlEYXRhID0gcmVzcG9uc2UuZGF0YQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfotKjph4/mlbDmja7ojrflj5blpLHotKUnKQogICAgICAgIH0pCiAgICB9LAogICAgLyoqCiAgICAgKiDojrflj5bkuJrliqHnur/kuIvnmoTpnIDmsYLmlbDph4/lkozlu7bmnJ/mj5DmtYvpnIDmsYLmlbDph48KICAgICAqIOmhueebruaVsOmHjy3pobnnm67nu5/orqEt5p+x5b2i5Zu+CiAgICAgKi8KICAgIGdldEJ1c2luZXNzQ291bnQoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoJy9CdXNpbmVzc0NvbnRyb2xsZXIvZ2V0QnVzaW5lc3NWb2x1bWUnLCB7CiAgICAgICAgICBzdGltZTogdGhpcy5jdXJyZW50U3RhcnRUaW1lLAogICAgICAgICAgZXRpbWU6IHRoaXMuY3VycmVudEVuZFRpbWUsCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gW10KICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaCgoZSkgPT4gewogICAgICAgICAgICBkYXRhLnB1c2goewogICAgICAgICAgICAgIG5hbWU6ICfpobnnm67mlbDph48nLAogICAgICAgICAgICAgIHByb2plY3Q6IGUucHJvamVjdF9uYW1lLAogICAgICAgICAgICAgIGNvdW50OiBlLmZ1bmN0aW9uQ291bnQsCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGRhdGEucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogJ+W7tuacn+aPkOa1i+mhueebruaVsOmHjycsCiAgICAgICAgICAgICAgcHJvamVjdDogZS5wcm9qZWN0X25hbWUsCiAgICAgICAgICAgICAgY291bnQ6IGUuZGVsYXlDb3VudCwKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmJ1c2luZXNzRGF0YSA9IGRhdGEKICAgICAgICAgIHRoaXMuYnVzaW5lc3NLZXkgKz0gMQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfpobnnm67nu5/orqHmlbDmja7ojrflj5blpLHotKUnKQogICAgICAgIH0pCiAgICB9LAogICAgLyoqCiAgICAgKiDlkITkuKrkuJrliqHnur/kuIvlr7nlupTlvIDlj5HmtYvor5Xkurrml6UKICAgICAqIOmhueebruaVsOmHjy3kurrlipvnu5/orqEt5oqY57q/5Zu+CiAgICAgKi8KICAgIGdldERldmVsb3BtZW50SG91cnMoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoJy9CdXNpbmVzc0NvbnRyb2xsZXIvZ2V0RGV2ZWxvcG1lbnRIb3VycycsIHsKICAgICAgICAgIHN0aW1lOiB0aGlzLmN1cnJlbnRTdGFydFRpbWUsCiAgICAgICAgICBldGltZTogdGhpcy5jdXJyZW50RW5kVGltZSwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSBbXQogICAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKChlKSA9PiB7CiAgICAgICAgICAgIGRhdGEucHVzaCh7CiAgICAgICAgICAgICAgdGFza1R5cGU6ICflvIDlj5Hkurrml6UnLAogICAgICAgICAgICAgIHByb2plY3ROYW1lOiBlLlByb2plY3ROYW1lLAogICAgICAgICAgICAgIGpvYkRheXM6IGUucmRqb2JEYXlzLAogICAgICAgICAgICB9KQogICAgICAgICAgICBkYXRhLnB1c2goewogICAgICAgICAgICAgIHRhc2tUeXBlOiAn5rWL6K+V5Lq65pelJywKICAgICAgICAgICAgICBwcm9qZWN0TmFtZTogZS5Qcm9qZWN0TmFtZSwKICAgICAgICAgICAgICBqb2JEYXlzOiBlLnFham9iRGF5cywKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmRldmVsb3BtZW50SG91cnMgPSBkYXRhCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S6uuWKm+e7n+iuoeaVsOaNruiOt+WPluWksei0pScpCiAgICAgICAgfSkKICAgIH0sCiAgICAvKioKICAgICAqIOi0qOmHj+aVsOaNri3lhoXnvZFidWfmlbAKICAgICAqIOabtOaWsOihqOagvOWSjOmlvOW9ouWbvgogICAgICovCiAgICBnZXRCZXRhQnVnQ291bnQoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoJy9CdXNpbmVzc0NvbnRyb2xsZXIvZ2V0QmV0YUJ1Z0NvdW50JywgewogICAgICAgICAgc3RpbWU6IHRoaXMuY3VycmVudFN0YXJ0VGltZSwKICAgICAgICAgIGV0aW1lOiB0aGlzLmN1cnJlbnRFbmRUaW1lLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGEubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgIHJldHVybiB7IHg6IGl0ZW0ucHJvamVjdE5hbWUsIHk6IGl0ZW0uc3VtQnVnIH0KICAgICAgICAgIH0pCiAgICAgICAgICBkYXRhID0gZGF0YS5zb3J0KChhLCBiKSA9PiBhLngubG9jYWxlQ29tcGFyZShiLngsICd6aC1DTicpKQogICAgICAgICAgdGhpcy5iZXRhQnVnRGF0YSA9IGRhdGEKICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRFbnYgPT0gJ2JldGEnKSB7CiAgICAgICAgICAgIHRoaXMucGllRGF0YSA9IGRhdGEKICAgICAgICAgICAgLy8g6aW85Zu+57uR5a6a55qEa2V55aKe5YqgMe+8jOW8uuWItnJlLXJlbmRlcgogICAgICAgICAgICB0aGlzLnBpZUtleSArPSAxCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WGhee9kWJ1Z+aVsOaNruiOt+WPluWksei0pScpCiAgICAgICAgfSkKICAgIH0sCiAgICAvKioKICAgICAqIOi0qOmHj+aVsOaNri3lpJbnvZFidWfmlbAKICAgICAqIOS7heabtOaWsOmlvOW9ouWbvgogICAgICovCiAgICBnZXRQcm9kQnVnc0NvdW50KCkgewogICAgICBheGlvcwogICAgICAgIC5wb3N0KCcvVmlwT3JkZXJDb250cm9sbGVyL2dldFZpcE9yZGVyJywgewogICAgICAgICAgc3RpbWU6IHRoaXMuY3VycmVudFN0YXJ0VGltZSwKICAgICAgICAgIGV0aW1lOiB0aGlzLmN1cnJlbnRFbmRUaW1lLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGEubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgIHJldHVybiB7IHg6IGl0ZW0ubmFtZSwgeTogTnVtYmVyKGl0ZW0udmFsdWUpIH0KICAgICAgICAgIH0pCiAgICAgICAgICBkYXRhID0gZGF0YS5zb3J0KChhLCBiKSA9PiBhLngubG9jYWxlQ29tcGFyZShiLngsICd6aC1DTicpKQogICAgICAgICAgdGhpcy5wcm9kQnVnRGF0YSA9IGRhdGEKICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRFbnYgPT0gJ3Byb2QnKSB7CiAgICAgICAgICAgIHRoaXMucGllRGF0YSA9IGRhdGEKICAgICAgICAgICAgLy8g6aW85Zu+57uR5a6a55qEa2V55aKe5YqgMe+8jOW8uuWItnJlLXJlbmRlcgogICAgICAgICAgICB0aGlzLnBpZUtleSArPSAxCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+Wklue9kWJ1Z+aVsOaNruiOt+WPluWksei0pScpCiAgICAgICAgfSkKICAgIH0sCiAgICBnZXRWaXBPcmRlckR1cmF0aW9uKCkgewogICAgICBheGlvcwogICAgICAgIC5wb3N0KCdWaXBPcmRlckNvbnRyb2xsZXIvZ2V0VmlwT3JkZXJEdXJhdGlvbicsIHsKICAgICAgICAgIHN0aW1lOiB0aGlzLmN1cnJlbnRTdGFydFRpbWUsCiAgICAgICAgICBldGltZTogdGhpcy5jdXJyZW50RW5kVGltZSwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSByZXNwb25zZS5kYXRhLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGJ1c2luZXNzVGVhbTogaXRlbS5idXNpbmVzc1RlYW0sCiAgICAgICAgICAgICAgbWVhc3VyZXM6IFtOdW1iZXIoaXRlbS5yZXNwb25kKSwgTnVtYmVyKGl0ZW0uZHVyYXRpb24pXSwKICAgICAgICAgICAgICByYW5nZXM6IFsyNCwgNDgsIDcyXSwKICAgICAgICAgICAgICAvLyByYW5nZXM6IFsyLCA4LCAxMl0sCiAgICAgICAgICAgICAgdGFyZ2V0OiAxMiwKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIGRhdGEgPSBkYXRhLnNvcnQoKGEsIGIpID0+IGEuYnVzaW5lc3NUZWFtLmxvY2FsZUNvbXBhcmUoYi5idXNpbmVzc1RlYW0sICd6aC1DTicpKQogICAgICAgICAgdGhpcy5idWxsZXREYXRhID0gZGF0YQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflpJbnvZFidWfmlbDmja7ojrflj5blpLHotKUnKQogICAgICAgIH0pCiAgICB9LAogICAgLyoqCiAgICAgKiDotKjph4/mlbDmja4KICAgICAqIOaVhemanOWghuWPoOWbvgogICAgICovCiAgICBnZXRGYXVsdERhdGEoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoJy9CdWdUaWNrZXRDb250cm9sbGVyL2dldEJ1Z1RpY2tldFN1bW1hcnknLCB7CiAgICAgICAgICBzdGltZTogdGhpcy5jdXJyZW50U3RhcnRUaW1lLAogICAgICAgICAgZXRpbWU6IHRoaXMuY3VycmVudEVuZFRpbWUsCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gW10KICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaCgoZSkgPT4gewogICAgICAgICAgICBkYXRhLnB1c2goewogICAgICAgICAgICAgIHN1bUJ1ZzogZS5zdW1CdWcsCiAgICAgICAgICAgICAgcHJvamVjdE5hbWU6IGUucHJvamVjdE5hbWUsCiAgICAgICAgICAgICAgbGV2ZWw6IGUubGV2ZWwsCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgICAgZGF0YSA9IGRhdGEuc29ydCgoYSwgYikgPT4gYS5sZXZlbC5sb2NhbGVDb21wYXJlKGIubGV2ZWwsICdlbi1VUycpKQogICAgICAgICAgdGhpcy5mYXVsdERhdGEgPSBkYXRhCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aVhemanOaVsOaNruiOt+WPluWksei0pScpCiAgICAgICAgfSkKICAgIH0sCiAgICAvKiog5pe26Ze05q615Y+Y5pu044CC5b2T5pyI44CB5b2T5a2j5bqm562JICovCiAgICBoYW5kbGVUaW1lQ2hhbmdlKHNjb3BlKSB7CiAgICAgIGxldCB0aW1lID0gc2NvcGUudGFyZ2V0LnZhbHVlCiAgICAgIHRoaXMuY2hhbmdlVGltZSh0aW1lKQogICAgICBjb25zb2xlLmxvZygndGltZSBjaGFuZ2VkICcgKyB0aW1lKQogICAgICB0aGlzLnJlZnJlc2hEYXRhKCkKICAgIH0sCiAgICBjaGFuZ2VUaW1lKHRpbWUpIHsKICAgICAgc3dpdGNoICh0aW1lKSB7CiAgICAgICAgY2FzZSAnbGFzdE1vbnRoJzoKICAgICAgICAgIHRoaXMuY3VycmVudFN0YXJ0VGltZSA9IHRoaXMuZ2V0Rmlyc3REYXlPZkxhc3RNb250aCgpCiAgICAgICAgICB0aGlzLmN1cnJlbnRFbmRUaW1lID0gdGhpcy5nZXRFbmRPZkxhc3RNb250aCgpCiAgICAgICAgICB0aGlzLmN1cnJlbnRQZXJpb2QgPSB0aGlzLnRpbWVQZXJpb2QubGFzdE1vbnRoCiAgICAgICAgICB0aGlzLmRhdGVSYW5nZSA9IHRoaXMuZ2V0RGF0ZVJhbmdlKCkKICAgICAgICAgIGJyZWFrCiAgICAgICAgY2FzZSAnbW9udGgnOgogICAgICAgICAgdGhpcy5jdXJyZW50U3RhcnRUaW1lID0gdGhpcy5nZXRGaXJzdERheU9mTW9udGgoKQogICAgICAgICAgdGhpcy5jdXJyZW50RW5kVGltZSA9IHRoaXMuZ2V0RW5kT2ZNb250aCgpCiAgICAgICAgICB0aGlzLmN1cnJlbnRQZXJpb2QgPSB0aGlzLnRpbWVQZXJpb2QubW9udGgKICAgICAgICAgIHRoaXMuZGF0ZVJhbmdlID0gdGhpcy5nZXREYXRlUmFuZ2UoKQogICAgICAgICAgYnJlYWsKICAgICAgICBjYXNlICd5ZWFyJzoKICAgICAgICAgIHRoaXMuY3VycmVudFN0YXJ0VGltZSA9IHRoaXMuZ2V0Rmlyc3REYXlPZlllYXIoKQogICAgICAgICAgdGhpcy5jdXJyZW50RW5kVGltZSA9IHRoaXMuZ2V0RW5kT2ZNb250aCgpCiAgICAgICAgICB0aGlzLmN1cnJlbnRQZXJpb2QgPSB0aGlzLnRpbWVQZXJpb2QueWVhcgogICAgICAgICAgdGhpcy5kYXRlUmFuZ2UgPSB0aGlzLmdldERhdGVSYW5nZSgpCiAgICAgICAgICBicmVhawogICAgICAgIGNhc2UgJ3F1YXJ0ZXInOgogICAgICAgICAgdGhpcy5jdXJyZW50U3RhcnRUaW1lID0gdGhpcy5nZXRGaXJzdERheU9mUXVhcnRlcigpCiAgICAgICAgICB0aGlzLmN1cnJlbnRFbmRUaW1lID0gdGhpcy5nZXRFbmRPZk1vbnRoKCkKICAgICAgICAgIHRoaXMuY3VycmVudFBlcmlvZCA9IHRoaXMudGltZVBlcmlvZC5xdWFydGVyCiAgICAgICAgICB0aGlzLmRhdGVSYW5nZSA9IHRoaXMuZ2V0RGF0ZVJhbmdlKCkKICAgICAgICAgIGJyZWFrCiAgICAgICAgLy8gVE9ETzogYWxs55qE5pe26Ze05q615piv5aSa5bCR77yfCiAgICAgICAgY2FzZSAnYWxsJzoKICAgICAgICAgIHRoaXMuY3VycmVudFN0YXJ0VGltZSA9IHRoaXMuZ2V0Rmlyc3REYXlPZlllYXIoKQogICAgICAgICAgdGhpcy5jdXJyZW50RW5kVGltZSA9IHRoaXMuZ2V0RW5kT2ZNb250aCgpCiAgICAgICAgICB0aGlzLmN1cnJlbnRQZXJpb2QgPSB0aGlzLnRpbWVQZXJpb2QuYWxsCiAgICAgICAgICB0aGlzLmRhdGVSYW5nZSA9IHRoaXMuZ2V0RGF0ZVJhbmdlKCkKICAgICAgICAgIGJyZWFrCiAgICAgICAgZGVmYXVsdDoKICAgICAgfQogICAgfSwKICAgIC8qKiBidWfnjq/looPlj5jljJYgKi8KICAgIGhhbmRsZUJ1Z0VudkNoYW5nZShlbnYpIHsKICAgICAgdGhpcy5jdXJyZW50RW52ID0gZW52LnRhcmdldC52YWx1ZQogICAgICBjb25zb2xlLmxvZygnY3VycmVudEVudicsIHRoaXMuY3VycmVudEVudikKICAgICAgaWYgKGVudi50YXJnZXQudmFsdWUgPT09ICdiZXRhJykgewogICAgICAgIHRoaXMucGllRGF0YSA9IHRoaXMuYmV0YUJ1Z0RhdGEKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBpZURhdGEgPSB0aGlzLnByb2RCdWdEYXRhCiAgICAgIH0KICAgICAgdGhpcy5waWVLZXkgKz0gMQogICAgfSwKICAgIC8qKiDml6XmnJ/pgInmi6nlmajojIPlm7Tlj5jljJYgKi8KICAgIGhhbmRsZURhdGVSYW5nZUNoYW5nZShyYW5nZSkgewogICAgICB0aGlzLmN1cnJlbnRTdGFydFRpbWUgPSB0aGlzLmRheWpzKHJhbmdlWzBdLnZhbHVlT2YoKSkuc3RhcnRPZignZGF5JykuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJykKICAgICAgdGhpcy5jdXJyZW50RW5kVGltZSA9IHRoaXMuZGF5anMocmFuZ2VbMV0udmFsdWVPZigpKS5lbmRPZignZGF5JykuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJykKICAgICAgdGhpcy5jdXJyZW50UGVyaW9kID0gdGltZVBlcmlvZC5jdXN0b20KICAgICAgdGhpcy5yZWZyZXNoRGF0YSgpCiAgICB9LAogICAgLy8g6I635Y+W5Yid5aeL5pe26Ze077yM5Y+C6ICDIGh0dHBzOi8vZGF5LmpzLm9yZy9kb2NzL2VuL21hbmlwdWxhdGUvc3RhcnQtb2YKICAgIC8qKiDojrflj5blvZPmnIjnrKzkuIDlpKnnmoTmoLzlvI/ljJbml7bpl7TmiLMgKi8KICAgIGdldEZpcnN0RGF5T2ZNb250aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF5anMoKS5zdGFydE9mKCdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpCiAgICB9LAogICAgLyoqIOiOt+WPluW9k+Wto+W6puesrOS4gOWkqeeahOagvOW8j+WMluaXtumXtOaIsyAqLwogICAgZ2V0Rmlyc3REYXlPZlF1YXJ0ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLmRheWpzKCkuc3RhcnRPZigncXVhcnRlcicpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpCiAgICB9LAogICAgLyoqIOiOt+WPluW9k+iHqueEtuW5tOesrOS4gOWkqeeahOagvOW8j+WMluaXtumXtOaIsyAqLwogICAgZ2V0Rmlyc3REYXlPZlllYXIoKSB7CiAgICAgIHJldHVybiB0aGlzLmRheWpzKCkuc3RhcnRPZigneWVhcicpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpCiAgICB9LAogICAgLyoqIOiOt+WPluW9k+Wkqee7k+adn+aXtumXtOeahOagvOW8j+WMluaXtumXtOaIsyAqLwogICAgZ2V0RW5kT2ZNb250aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF5anMoKS5lbmRPZignbW9udGgnKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKQogICAgfSwKICAgIGdldEZpcnN0RGF5T2ZMYXN0TW9udGgoKSB7CiAgICAgIHJldHVybiB0aGlzLmRheWpzKCkuc3VidHJhY3QoMSwgJ21vbnRoJykuc3RhcnRPZignbW9udGgnKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKQogICAgfSwKICAgIGdldEVuZE9mTGFzdE1vbnRoKCkgewogICAgICByZXR1cm4gdGhpcy5kYXlqcygpLnN1YnRyYWN0KDEsICdtb250aCcpLmVuZE9mKCdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpCiAgICB9LAogICAgZm9ybWF0TnVtYmVyU3RyaW5nKG51bWJlcikgewogICAgICByZXR1cm4gTnVtYmVyKG51bWJlcikudG9Mb2NhbGVTdHJpbmcoJ2VuJykKICAgIH0sCiAgICBhZmZpeENoYW5nZWQoKSB7CiAgICAgIHRoaXMuYWZmaXhlZCA9ICF0aGlzLmFmZml4ZWQKICAgIH0sCiAgICBkaXNhYmxlZERhdGUoY3VycmVudCkgewogICAgICAvLyDkuI3og73pgInmi6nku4rlpKnkuYvlkI7nmoTml6XmnJ8KICAgICAgcmV0dXJuIGN1cnJlbnQgJiYgY3VycmVudCA+IG1vbWVudCgpLmVuZE9mKCdkYXknKQogICAgfSwKICAgIGdldEZpeGVkTnVtYmVyKGRheSkgewogICAgICByZXR1cm4gTWF0aC5yb3VuZChOdW1iZXIoZGF5KSAqIDEwMCkgLyAxMDAKICAgIH0sCiAgICBnZXREYXRlUmFuZ2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdnZXREYXRlUmFuZ2UnLCB0aGlzLmN1cnJlbnRTdGFydFRpbWUsIHRoaXMuY3VycmVudEVuZFRpbWUpCiAgICAgIHJldHVybiBbbW9tZW50KHRoaXMuY3VycmVudFN0YXJ0VGltZSwgdGhpcy5kYXRlRm9ybWF0KSwgbW9tZW50KHRoaXMuY3VycmVudEVuZFRpbWUsIHRoaXMuZGF0ZUZvcm1hdCldCiAgICB9LAogICAgZ2V0TnVtYmVyRnJvbVBlcmNlbnRTdHJpbmcoc3RyKSB7CiAgICAgIGxldCBudW1TdHIgPSBzdHIuc2xpY2UoMCwgLTEpCiAgICAgIHJldHVybiBOdW1iZXIobnVtU3RyKQogICAgfSwKICAgIGlzV2FybmluZ0NvbG9yKHJlY29yZCwgZmxvb3IsIGNlaWwpIHsKICAgICAgaWYgKHJlY29yZCA9PT0gJy0nKSB7CiAgICAgICAgcmV0dXJuICdub3JtYWxDb2x1bW4nCiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmluUmFuZ2UocmVjb3JkLCBmbG9vciwgY2VpbCkpIHsKICAgICAgICByZXR1cm4gJ3dhcm5pbmdDb2x1bW4nCiAgICAgIH0KICAgICAgcmV0dXJuICdub3JtYWxDb2x1bW4nCiAgICB9LAogICAgaW5SYW5nZShyZWNvcmQsIGZsb29yLCBjZWlsKSB7CiAgICAgIGlmIChyZWNvcmQgPT09ICctJykgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KICAgICAgbGV0IHN0YXQgPSB0aGlzLmdldE51bWJlckZyb21QZXJjZW50U3RyaW5nKHJlY29yZCkKICAgICAgcmV0dXJuIHN0YXQgPj0gZmxvb3IgJiYgc3RhdCA8PSBjZWlsCiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHt9LAp9Cg=="},{"version":3,"sources":["BusinessAnalysis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BusinessAnalysis.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\n  <div>\n    <!-- 项目数量 -->\n    <a-card :loading=\"loading\" :bordered=\"false\" :body-style=\"{ padding: '0' }\">\n      <div class=\"salesCard\">\n        <a-tabs default-active-key=\"1\" size=\"large\" :tab-bar-style=\"{ marginBottom: '24px', paddingLeft: '16px' }\">\n          <div class=\"extra-wrapper\" slot=\"tabBarExtraContent\">\n            <a-affix :offset-top=\"10\" @change=\"affixChanged\">\n              <div :class=\"affixed ? 'affixed' : 'affix'\">\n                <div class=\"extra-item\">\n                  <a-radio-group :value=\"currentPeriod\" class=\"timeRadioGroup\" @change=\"handleTimeChange\">\n                    <a-radio-button\n                      v-for=\"(time, index) in timeOptions\"\n                      :key=\"index\"\n                      :value=\"time.value\"\n                      class=\"timeRadioButtons\"\n                    >\n                      {{ time.name }}\n                    </a-radio-button>\n                  </a-radio-group>\n                </div>\n                <a-range-picker\n                  :disabled-date=\"disabledDate\"\n                  @change=\"handleDateRangeChange\"\n                  :style=\"{ width: '256px', 'margin-right': '24px' }\"\n                  :value=\"dateRange\"\n                />\n              </div>\n            </a-affix>\n          </div>\n          <a-tab-pane tab=\"项目数量\" key=\"1\">\n            <a-row>\n              <!-- 必须保证相同类型组件的ID为字符串且不一致，否则组件内render渲染会有问题！！！ -->\n              <a-col :span=\"12\">\n                <a-card :bordered=\"false\" class=\"datacard\" title=\"项目统计\">\n                  <AntBar\n                    :id=\"'busiBar' + businessKey\"\n                    :data=\"businessData\"\n                    :isStack=\"false\"\n                    :isGroup=\"true\"\n                    xField=\"project\"\n                    yField=\"count\"\n                    seriesField=\"name\"\n                  />\n                </a-card>\n              </a-col>\n              <a-col :span=\"12\">\n                <a-card :bordered=\"false\" class=\"datacard\" title=\"人力统计\">\n                  <AntLine\n                    id=\"development\"\n                    :data=\"developmentHours\"\n                    xField=\"projectName\"\n                    yField=\"jobDays\"\n                    seriesField=\"taskType\"\n                  />\n                </a-card>\n              </a-col>\n            </a-row>\n          </a-tab-pane>\n        </a-tabs>\n      </div>\n    </a-card>\n    <br />\n\n    <!-- 业务数据 -->\n    <a-card :loading=\"loading\" :bordered=\"false\" :body-style=\"{ paddingLeft: '16px' }\">\n      <div class=\"salesCard\">\n        <a-tabs default-active-key=\"1\" size=\"large\" :tab-bar-style=\"{ marginBottom: '24px', paddingLeft: '16px' }\">\n          <a-tab-pane tab=\"业务数据\" key=\"1\">\n            <a-row :gutter=\"36\">\n              <a-col :style=\"{ marginBottom: '24px' }\" :span=\"7\">\n                <chart-card :loading=\"loading\" title=\"项目总数\" :total=\"functionRank.sumFunciton\">\n                  <a-tooltip title=\"所有业务线需求总数\" slot=\"action\">\n                    <a-icon type=\"info-circle-o\" />\n                  </a-tooltip>\n                  <div>\n                    <span slot=\"term\" style=\"color: #ff0000\"\n                      >A1:{{ functionRank.A1 }} A2:{{ functionRank.A2 }} A3:{{ functionRank.A3 }} A4:{{\n                        functionRank.A4\n                      }}\n                    </span>\n                  </div>\n                  <template slot=\"footer\">\n                    <trend\n                      :flag=\"functionRank.trend === 'up' ? 'up' : 'down'\"\n                      :style=\"{\n                        visibility: functionRank.trend == 'hide' ? 'hidden' : 'visible',\n                        'margin-right': '16px',\n                      }\"\n                    >\n                      <span slot=\"term\">{{ reletiveText }}</span>\n                      {{ functionRank.FunctionChainComparison }}\n                    </trend>\n                  </template>\n                </chart-card>\n              </a-col>\n              <a-col :span=\"7\" :style=\"{ marginBottom: '24px' }\">\n                <chart-card :loading=\"loading\" title=\"开发饱和度\" :total=\"rdSaturation.rdSaturation\">\n                  <a-tooltip placement=\"topLeft\" title=\"需求开发工时总和/(工作日*测试人数)\" slot=\"action\">\n                    <a-icon type=\"info-circle-o\" />\n                  </a-tooltip>\n                  <div>\n                    <mini-progress\n                      color=\"rgb(19, 194, 194)\"\n                      :target=\"100\"\n                      :percentage=\"rdSaturation.rdSaturationNum\"\n                      height=\"8px\"\n                    />\n                  </div>\n                  <template slot=\"footer\">\n                    <trend\n                      :flag=\"rdSaturation.trend === 'up' ? 'up' : 'down'\"\n                      :style=\"{\n                        visibility: rdSaturation.trend == 'hide' ? 'hidden' : 'visible',\n                        'margin-right': '16px',\n                      }\"\n                    >\n                      <span slot=\"term\">{{ reletiveText }}</span>\n                      {{ rdSaturation.changeSaturation }}\n                    </trend>\n                  </template>\n                </chart-card>\n              </a-col>\n              <a-col :style=\"{ marginBottom: '24px' }\" :span=\"7\">\n                <chart-card :loading=\"loading\" title=\"测试饱和度\" :total=\"qaSaturation.qaSaturation\">\n                  <a-tooltip placement=\"topLeft\" title=\"项目累计测试人日/(工作日*测试人数)\" slot=\"action\">\n                    <a-icon type=\"info-circle-o\" />\n                  </a-tooltip>\n                  <div>\n                    <mini-progress\n                      color=\"rgb(19, 194, 194)\"\n                      :target=\"100\"\n                      :percentage=\"qaSaturation.qaSaturationNum\"\n                      height=\"8px\"\n                    />\n                  </div>\n                  <template slot=\"footer\">\n                    <trend\n                      :flag=\"qaSaturation.trend === 'up' ? 'up' : 'down'\"\n                      :style=\"{\n                        visibility: qaSaturation.trend == 'hide' ? 'hidden' : 'visible',\n                        'margin-right': '16px',\n                      }\"\n                    >\n                      <span slot=\"term\">{{ reletiveText }}</span>\n                      {{ qaSaturation.changeSaturation }}\n                    </trend>\n                  </template>\n                </chart-card>\n              </a-col>\n            </a-row>\n            <!-- 业务线表格 -->\n            <a-row>\n              <a-col :span=\"21\">\n                <div class=\"ant-table-wrapper\" style=\"margin-left: 40px\">\n                  <a-table\n                    row-key=\"projectName\"\n                    :columns=\"functionColumns\"\n                    :data-source=\"functionData\"\n                    :pagination=\"false\"\n                  >\n                    <template slot=\"rdSumJobDays\" slot-scope=\"record\">\n                      <span>\n                        {{ getFixedNumber(record.rdSumJobDays) }}\n                      </span>\n                    </template>\n                    <template slot=\"qaSumJobDays\" slot-scope=\"record\">\n                      <span>\n                        {{ getFixedNumber(record.qaSumJobDays) }}\n                      </span>\n                    </template>\n                    <template slot=\"proportioOfDelayed\" slot-scope=\"record\">\n                      <div v-if=\"!inRange(record.proportioOfDelayed, 0, 0)\">\n                        <a-tooltip placement=\"top\" title=\"延期提测比例合格线为0%\">\n                          <span class=\"warningColumn\">\n                            {{ record.proportioOfDelayed }}\n                          </span>\n                        </a-tooltip>\n                      </div>\n                      <div v-else>\n                        {{ record.proportioOfDelayed }}\n                      </div>\n                    </template>\n                    <template slot=\"projectdetail\" slot-scope=\"record\">\n                      <a-button\n                        type=\"link\"\n                        style=\"color: #40a9ff\"\n                        @click=\"checkProjectDetail(record.projectId, record.projectName)\"\n                        >点击查看全部项目信息</a-button\n                      >\n                    </template>\n                  </a-table>\n                </div>\n              </a-col>\n            </a-row>\n          </a-tab-pane>\n        </a-tabs>\n      </div>\n    </a-card>\n\n    <div class=\"antd-pro-pages-dashboard-analysis-twoColLayout\" :class=\"!isMobile && 'desktop'\">\n      <a-row :gutter=\"24\" type=\"flex\" :style=\"{ marginTop: '24px' }\">\n        <a-col :span=\"24\">\n          <a-card class=\"antd-pro-pages-dashboard-analysis-salesCard\" :bordered=\"false\" :style=\"{ height: '100%' }\">\n            <div class=\"salesCard\">\n              <a-tabs\n                default-active-key=\"1\"\n                size=\"large\"\n                :tab-bar-style=\"{ marginBottom: '24px', paddingLeft: '16px' }\"\n              >\n                <a-tab-pane tab=\"质量数据\" key=\"1\" :style=\"{ paddingRight: '24px', paddingLeft: '24px' }\">\n                  <a-row :gutter=\"48\">\n                    <a-col :span=\"12\">\n                      <div>\n                        <a-radio-group\n                          v-model=\"status\"\n                          default-value=\"beta\"\n                          button-style=\"solid\"\n                          @change=\"handleBugEnvChange\"\n                        >\n                          <a-radio-button value=\"beta\">内网BUG数</a-radio-button>\n                          <a-radio-button value=\"prod\">外网BUG数</a-radio-button>\n                        </a-radio-group>\n                      </div>\n                      <br />\n                      <div style=\"padding-top: 72px\">\n                        <!-- 绑定key，修改key后强制刷新pie component 参考https://michaelnthiessen.com/force-re-render/-->\n                        <a-spin :spinning=\"tableLoading\">\n                          <pie\n                            :key=\"pieKey\"\n                            :data=\"pieData\"\n                            :height=\"248\"\n                            :lineWidth=\"30\"\n                            hasLegend\n                            :total=\"() => pieData.reduce((acc, item) => (acc += item.y), 0)\"\n                            :subTitle=\"currentEnv == 'beta' ? '内网BUG' : '外网BUG'\"\n                          />\n                        </a-spin>\n                      </div>\n                    </a-col>\n                    <a-col :span=\"12\">\n                      <a-card title=\"外网BUG级别汇总\" :bordered=\"false\">\n                        <bar2\n                          id=\"fault\"\n                          :data=\"faultData\"\n                          xField=\"projectName\"\n                          yField=\"sumBug\"\n                          seriesField=\"level\"\n                          :style=\"{ paddingBottom: '24px' }\"\n                      /></a-card>\n                    </a-col>\n                  </a-row>\n                  <!-- 测试质量表格 -->\n                  <a-row>\n                    <a-col :span=\"21\">\n                      <div class=\"ant-table-wrapper\" style=\"margin-left: 5px\">\n                        <a-table\n                          row-key=\"projectName\"\n                          :columns=\"qualityColumns\"\n                          :data-source=\"qualityData\"\n                          :pagination=\"false\"\n                          :loading=\"tableLoading\"\n                        >\n                          <template slot=\"rdTestQuality\" slot-scope=\"record\">\n                            <div v-if=\"!inRange(record.rdTestQuality, 90, 100)\">\n                              <a-tooltip placement=\"top\" title=\"开发提测质量合格线为90%\">\n                                <span class=\"warningColumn\">\n                                  {{ record.rdTestQuality }}\n                                </span>\n                              </a-tooltip>\n                            </div>\n                            <div v-else>\n                              {{ record.rdTestQuality }}\n                            </div>\n                          </template>\n                          <template slot=\"bugResolutionRate\" slot-scope=\"record\">\n                              <div v-if=\"!inRange(record.bugResolutionRate, 90, 100)\">\n                              <a-tooltip placement=\"top\" title=\"BUG解决率合格线为90%\">\n                                <span class=\"warningColumn\">\n                                  {{ record.bugResolutionRate }}\n                                </span>\n                              </a-tooltip>\n                            </div>\n                            <div v-else>\n                              {{ record.bugResolutionRate }}\n                            </div>\n                          </template>\n                          <template slot=\"qualitydetail\" slot-scope=\"record\">\n                            <a-button\n                              type=\"link\"\n                              style=\"color: #40a9ff\"\n                              @click=\"checkQualityDetail(record.projectId, record.projectName)\"\n                              >点击查看全部项目信息</a-button\n                            >\n                          </template>\n                        </a-table>\n                      </div>\n                    </a-col>\n                  </a-row>\n                </a-tab-pane>\n              </a-tabs>\n            </div>\n          </a-card>\n        </a-col>\n      </a-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { axios } from '@/utils/request'\nimport moment from 'moment'\nimport { ChartCard, MiniArea, MiniBar, MiniProgress, Bar, Trend, NumberInfo, MiniSmoothArea } from '@/components'\nimport { baseMixin } from '@/store/app-mixin'\nimport Pie from '@/components/Charts/Pie'\nimport AntLine from '@/components/Charts/AntLine'\nimport AntBar from '@/components/Charts/AntBar'\nimport AntBullet from '@/components/Charts/AntBullet'\nimport bar2 from '@/components/Charts/Bar2'\nimport 'moment/locale/zh-cn'\n\nconst timePeriod = {\n  all: 'all',\n  year: 'year',\n  quarter: 'quarter',\n  month: 'month',\n  lastMonth: 'lastMonth',\n  custom: 'custom',\n}\n\nconst functionColumns = [\n  {\n    title: '业务线',\n    dataIndex: 'projectName',\n    key: 'projectName',\n    width: 100,\n  },\n  {\n    title: '项目数',\n    dataIndex: 'functionSum',\n    key: 'functionSum',\n  },\n  {\n    title: '开发人日',\n    key: 'rdSumJobDays',\n    scopedSlots: { customRender: 'rdSumJobDays' },\n  },\n  {\n    title: '测试人日',\n    key: 'qaSumJobDays',\n    scopedSlots: { customRender: 'qaSumJobDays' },\n  },\n  {\n    title: 'Case数',\n    dataIndex: 'caseCount',\n    key: 'caseCount',\n  },\n  // {\n  //   title: '延期提测项目占比',\n  //   key: 'proportioOfDelayed',\n  //   align: 'center',\n  //   scopedSlots: { customRender: 'proportioOfDelayed' },\n  // },\n  {\n    title: '详情',\n    key: 'projectdetail',\n    scopedSlots: { customRender: 'projectdetail' },\n    align: 'center',\n  },\n]\nconst qualityColumns = [\n  {\n    title: '业务线',\n    dataIndex: 'projectName',\n    key: 'projectName',\n    width: 100,\n  },\n  {\n    title: '内网BUG数',\n    dataIndex: 'sumBug',\n    key: 'sumBug',\n    align: 'center',\n  },\n  {\n    title: 'BUG解决率',\n    key: 'bugResolutionRate',\n    align: 'center',\n    scopedSlots: { customRender: 'bugResolutionRate' },\n  },\n  {\n    title: 'BUG率',\n    dataIndex: 'bugRate',\n    key: 'bugRate',\n    align: 'center',\n  },\n  {\n    title: '线上BUG数',\n    dataIndex: 'onlineBug',\n    key: 'onlineBug',\n    align: 'center',\n  },\n  {\n    title: '提测质量',\n    key: 'rdTestQuality',\n    align: 'center',\n    scopedSlots: { customRender: 'rdTestQuality' },\n  },\n  {\n    title: '详情',\n    key: 'qualitydetail',\n    align: 'center',\n    scopedSlots: { customRender: 'qualitydetail' },\n  },\n]\n\nconst searchUserData = []\nfor (let i = 0; i < 7; i++) {\n  searchUserData.push({\n    x: moment().add(i, 'days').format('YYYY-MM-DD'),\n    y: Math.ceil(Math.random() * 10),\n  })\n}\nconst searchUserScale = [\n  {\n    dataKey: 'x',\n    alias: '时间',\n  },\n  {\n    dataKey: 'y',\n    alias: '用户数',\n    min: 0,\n    max: 10,\n  },\n]\n\nconst searchTableColumns = [\n  {\n    dataIndex: 'index',\n    title: '',\n    width: 90,\n  },\n  {\n    dataIndex: 'keyword',\n    title: '搜索关键词',\n  },\n  {\n    dataIndex: 'count',\n    title: '用户数',\n  },\n  {\n    dataIndex: 'range',\n    title: '周涨幅',\n    align: 'right',\n    sorter: (a, b) => a.range - b.range,\n    scopedSlots: { customRender: 'range' },\n  },\n]\n\nexport default {\n  name: 'BusinessAnalysis',\n  mixins: [baseMixin],\n  components: {\n    ChartCard,\n    MiniArea,\n    MiniBar,\n    MiniProgress,\n    Bar,\n    Trend,\n    NumberInfo,\n    MiniSmoothArea,\n    Pie,\n    AntLine,\n    AntBar,\n    AntBullet,\n    bar2,\n  },\n  data() {\n    return {\n      timePeriod,\n      loading: true,\n      affixed: false,\n      status: 'beta',\n      pieKey: 0,\n      businessKey: 0,\n      functionData: [],\n      faultData: [],\n      functionColumns,\n      qualityData: [],\n      qualityColumns,\n      functionsum: 0,\n      reletiveText: '月环比',\n      pieStyle: {\n        stroke: '#fff',\n        lineWidth: 1,\n      },\n      functionRank: {\n        A1: 0,\n        A2: 0,\n        A3: 0,\n        A4: 0,\n        sumFunciton: 0,\n        lastNumSum: 0,\n        FunctionChainComparison: '0%',\n        trend: 'up',\n      },\n      rdSaturation: {\n        rdjobDays: 0,\n        workDays: 0,\n        rdLists: 0,\n        rdSaturation: '0.00%',\n        lrdSaturation: 0,\n        trend: 'up',\n        changeSaturation: '0.00%',\n        rdSaturationNum: 0,\n      },\n      qaSaturation: {\n        qajobDays: 0,\n        workDays: 0,\n        qaLists: 0,\n        qaSaturation: '0.00%',\n        trend: 'up',\n        lqaSaturation: 0.0,\n        changeSaturation: '0.00%',\n        qaSaturationNum: 0,\n      },\n      businessData: [],\n      developmentHours: [],\n      betaBugData: [],\n      prodBugData: [],\n      pieData: [\n        { x: '媒体', y: 0 },\n        { x: '社交&基础', y: 0 },\n        { x: '视频SC组', y: 0 },\n        { x: '营收产品', y: 0 },\n        { x: '营收活动', y: 0 },\n        { x: '增长', y: 0 },\n      ],\n      bulletData: [],\n      tableLoading: true,\n      currentEnv: 'beta',\n      currentType: 'all',\n      currentStartTime: this.getFirstDayOfMonth(),\n      currentEndTime: this.getEndOfMonth(),\n      dateFormat: 'YYYY-MM-DD HH:mm:ss',\n      dateRange: [],\n      currentPeriod: timePeriod.month,\n      typeOptions: [\n        { name: '全部', value: 'all' },\n        { name: '营收产品', value: 'products' },\n        { name: '营收活动', value: 'activity' },\n        { name: 'PK', value: 'pk' },\n        { name: '增长', value: 'increase' },\n        { name: '社交&内容', value: 'social' },\n        { name: '基础', value: 'basic' },\n      ],\n      timeOptions: [\n        { name: '上月', value: timePeriod.lastMonth },\n        { name: '本月', value: timePeriod.month },\n        { name: '本季度', value: timePeriod.quarter },\n        { name: '本年', value: timePeriod.year },\n      ],\n    }\n  },\n  watch: {\n    currentPeriod: function (val) {\n      console.log('currentPeriod watch', val)\n      if (val == this.timePeriod.month || val == this.timePeriod.lastMonth) {\n        this.reletiveText = '月环比'\n      }\n      if (val == this.timePeriod.quarter) {\n        this.reletiveText = '季环比'\n      }\n      if (val == this.timePeriod.year) {\n        this.reletiveText = '年环比'\n      }\n    },\n  },\n  created() {\n    this.init()\n    this.loading = false\n  },\n  mounted() {},\n  methods: {\n    init() {\n      let period = this.$store.state.app.period\n      this.currentPeriod = period.period\n      this.changeTime(this.currentPeriod)\n      if (period.start !== null && period.end !== null) {\n        this.currentStartTime = period.start\n        this.currentEndTime = period.end\n      }\n      this.dateRange = this.getDateRange()\n      this.getBusinessCount()\n      this.getDevelopmentHours()\n      this.getBetaBugCount()\n      this.getProdBugsCount()\n      this.getQualityData()\n      this.getFunctionData()\n      this.funcitonTotal()\n      this.getOverviewAnalysis()\n      this.getFaultData()\n    },\n    refreshData() {\n      this.tableLoading = true\n      console.log(\n        `refreshData: type = ${this.currentType}, stime = ${this.currentStartTime}, etime = ${this.currentEndTime}, period = ${this.currentPeriod}`\n      )\n      this.getBusinessCount()\n      this.getDevelopmentHours()\n      this.getBetaBugCount()\n      this.getProdBugsCount()\n      this.getOverviewAnalysis()\n      this.getFaultData()\n      this.getQualityData()\n      this.getFunctionData()\n      this.$store.commit('RECORD_PERIOD', {\n        period: this.currentPeriod,\n        start: this.currentStartTime,\n        end: this.currentEndTime,\n      })\n    },\n    //计算项目总数\n    funcitonTotal() {\n      axios\n        .post('/BusinessController/getBusinessVolume', {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n        })\n        .then((response) => {\n          var functionsum = 0\n          response.data.forEach((e) => {\n            functionsum = functionsum + e.functionCount\n          })\n          this.functionsum = functionsum\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$message.error('计算项目总数错误')\n        })\n    },\n    //跳转质量数据详细页面\n    checkQualityDetail(projectId, projectName) {\n      this.$router.push({\n        path: '/dashboard/qualitydetail',\n        query: {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n          projectId: projectId,\n          projectName: projectName,\n        },\n      })\n    },\n    //跳转项目数据详细页面\n    checkProjectDetail(projectId, projectName) {\n      this.$router.push({\n        path: '/dashboard/projectdetail',\n        query: {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n          projectId: projectId,\n          projectName: projectName,\n        },\n      })\n    },\n    getFunctionData() {\n      axios\n        .post('/BusinessController/getQualityData', {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n        })\n        .then((response) => {\n          this.functionData = response.data\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$message.error('业务数据获取失败')\n        })\n    },\n    /**\n     * 项目总数\n     * 开发饱和度\n     * 测试饱和度\n     */\n    getOverviewAnalysis() {\n      axios\n        .post('/BusinessController/overviewAnalysis', {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n          period: this.currentPeriod,\n        })\n        .then((response) => {\n          var res = response.data\n          this.functionRank = res[0]\n          this.rdSaturation = res[1]\n          this.qaSaturation = res[2]\n          this.rdSaturation.rdSaturationNum = parseInt(this.rdSaturation.rdSaturation)\n          this.qaSaturation.qaSaturationNum = parseInt(this.qaSaturation.qaSaturation)\n          this.$nextTick(() => {\n            this.functionRank = res[0]\n            this.rdSaturation = res[1]\n            this.qaSaturation = res[2]\n          })\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$message.error('项目总数、开发饱和度、测试饱和度获取失败')\n        })\n    },\n    getQualityData() {\n      axios\n        .post('/BusinessController/getBetaBugCount', {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n        })\n        .then((response) => {\n          let data = response.data\n          data.forEach((e) => {\n            if (!('onlineBug' in e)) {\n              e.onlineBug = 0\n            }\n          })\n          this.qualityData = response.data\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$message.error('质量数据获取失败')\n        })\n    },\n    /**\n     * 获取业务线下的需求数量和延期提测需求数量\n     * 项目数量-项目统计-柱形图\n     */\n    getBusinessCount() {\n      axios\n        .post('/BusinessController/getBusinessVolume', {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n        })\n        .then((response) => {\n          let data = []\n          response.data.forEach((e) => {\n            data.push({\n              name: '项目数量',\n              project: e.project_name,\n              count: e.functionCount,\n            })\n            data.push({\n              name: '延期提测项目数量',\n              project: e.project_name,\n              count: e.delayCount,\n            })\n          })\n          this.businessData = data\n          this.businessKey += 1\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$message.error('项目统计数据获取失败')\n        })\n    },\n    /**\n     * 各个业务线下对应开发测试人日\n     * 项目数量-人力统计-折线图\n     */\n    getDevelopmentHours() {\n      axios\n        .post('/BusinessController/getDevelopmentHours', {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n        })\n        .then((response) => {\n          let data = []\n          response.data.forEach((e) => {\n            data.push({\n              taskType: '开发人日',\n              projectName: e.ProjectName,\n              jobDays: e.rdjobDays,\n            })\n            data.push({\n              taskType: '测试人日',\n              projectName: e.ProjectName,\n              jobDays: e.qajobDays,\n            })\n          })\n          this.developmentHours = data\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$message.error('人力统计数据获取失败')\n        })\n    },\n    /**\n     * 质量数据-内网bug数\n     * 更新表格和饼形图\n     */\n    getBetaBugCount() {\n      axios\n        .post('/BusinessController/getBetaBugCount', {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n        })\n        .then((response) => {\n          this.tableLoading = false\n          let data = response.data.map((item) => {\n            return { x: item.projectName, y: item.sumBug }\n          })\n          data = data.sort((a, b) => a.x.localeCompare(b.x, 'zh-CN'))\n          this.betaBugData = data\n          if (this.currentEnv == 'beta') {\n            this.pieData = data\n            // 饼图绑定的key增加1，强制re-render\n            this.pieKey += 1\n          }\n        })\n        .catch((error) => {\n          this.tableLoading = false\n          console.log(error)\n          this.$message.error('内网bug数据获取失败')\n        })\n    },\n    /**\n     * 质量数据-外网bug数\n     * 仅更新饼形图\n     */\n    getProdBugsCount() {\n      axios\n        .post('/VipOrderController/getVipOrder', {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n        })\n        .then((response) => {\n          let data = response.data.map((item) => {\n            return { x: item.name, y: Number(item.value) }\n          })\n          data = data.sort((a, b) => a.x.localeCompare(b.x, 'zh-CN'))\n          this.prodBugData = data\n          if (this.currentEnv == 'prod') {\n            this.pieData = data\n            // 饼图绑定的key增加1，强制re-render\n            this.pieKey += 1\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$message.error('外网bug数据获取失败')\n        })\n    },\n    getVipOrderDuration() {\n      axios\n        .post('VipOrderController/getVipOrderDuration', {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n        })\n        .then((response) => {\n          let data = response.data.map((item) => {\n            return {\n              businessTeam: item.businessTeam,\n              measures: [Number(item.respond), Number(item.duration)],\n              ranges: [24, 48, 72],\n              // ranges: [2, 8, 12],\n              target: 12,\n            }\n          })\n          data = data.sort((a, b) => a.businessTeam.localeCompare(b.businessTeam, 'zh-CN'))\n          this.bulletData = data\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$message.error('外网bug数据获取失败')\n        })\n    },\n    /**\n     * 质量数据\n     * 故障堆叠图\n     */\n    getFaultData() {\n      axios\n        .post('/BugTicketController/getBugTicketSummary', {\n          stime: this.currentStartTime,\n          etime: this.currentEndTime,\n        })\n        .then((response) => {\n          let data = []\n          response.data.forEach((e) => {\n            data.push({\n              sumBug: e.sumBug,\n              projectName: e.projectName,\n              level: e.level,\n            })\n          })\n          data = data.sort((a, b) => a.level.localeCompare(b.level, 'en-US'))\n          this.faultData = data\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$message.error('故障数据获取失败')\n        })\n    },\n    /** 时间段变更。当月、当季度等 */\n    handleTimeChange(scope) {\n      let time = scope.target.value\n      this.changeTime(time)\n      console.log('time changed ' + time)\n      this.refreshData()\n    },\n    changeTime(time) {\n      switch (time) {\n        case 'lastMonth':\n          this.currentStartTime = this.getFirstDayOfLastMonth()\n          this.currentEndTime = this.getEndOfLastMonth()\n          this.currentPeriod = this.timePeriod.lastMonth\n          this.dateRange = this.getDateRange()\n          break\n        case 'month':\n          this.currentStartTime = this.getFirstDayOfMonth()\n          this.currentEndTime = this.getEndOfMonth()\n          this.currentPeriod = this.timePeriod.month\n          this.dateRange = this.getDateRange()\n          break\n        case 'year':\n          this.currentStartTime = this.getFirstDayOfYear()\n          this.currentEndTime = this.getEndOfMonth()\n          this.currentPeriod = this.timePeriod.year\n          this.dateRange = this.getDateRange()\n          break\n        case 'quarter':\n          this.currentStartTime = this.getFirstDayOfQuarter()\n          this.currentEndTime = this.getEndOfMonth()\n          this.currentPeriod = this.timePeriod.quarter\n          this.dateRange = this.getDateRange()\n          break\n        // TODO: all的时间段是多少？\n        case 'all':\n          this.currentStartTime = this.getFirstDayOfYear()\n          this.currentEndTime = this.getEndOfMonth()\n          this.currentPeriod = this.timePeriod.all\n          this.dateRange = this.getDateRange()\n          break\n        default:\n      }\n    },\n    /** bug环境变化 */\n    handleBugEnvChange(env) {\n      this.currentEnv = env.target.value\n      console.log('currentEnv', this.currentEnv)\n      if (env.target.value === 'beta') {\n        this.pieData = this.betaBugData\n      } else {\n        this.pieData = this.prodBugData\n      }\n      this.pieKey += 1\n    },\n    /** 日期选择器范围变化 */\n    handleDateRangeChange(range) {\n      this.currentStartTime = this.dayjs(range[0].valueOf()).startOf('day').format('YYYY-MM-DD HH:mm:ss')\n      this.currentEndTime = this.dayjs(range[1].valueOf()).endOf('day').format('YYYY-MM-DD HH:mm:ss')\n      this.currentPeriod = timePeriod.custom\n      this.refreshData()\n    },\n    // 获取初始时间，参考 https://day.js.org/docs/en/manipulate/start-of\n    /** 获取当月第一天的格式化时间戳 */\n    getFirstDayOfMonth() {\n      return this.dayjs().startOf('month').format('YYYY-MM-DD HH:mm:ss')\n    },\n    /** 获取当季度第一天的格式化时间戳 */\n    getFirstDayOfQuarter() {\n      return this.dayjs().startOf('quarter').format('YYYY-MM-DD HH:mm:ss')\n    },\n    /** 获取当自然年第一天的格式化时间戳 */\n    getFirstDayOfYear() {\n      return this.dayjs().startOf('year').format('YYYY-MM-DD HH:mm:ss')\n    },\n    /** 获取当天结束时间的格式化时间戳 */\n    getEndOfMonth() {\n      return this.dayjs().endOf('month').format('YYYY-MM-DD HH:mm:ss')\n    },\n    getFirstDayOfLastMonth() {\n      return this.dayjs().subtract(1, 'month').startOf('month').format('YYYY-MM-DD HH:mm:ss')\n    },\n    getEndOfLastMonth() {\n      return this.dayjs().subtract(1, 'month').endOf('month').format('YYYY-MM-DD HH:mm:ss')\n    },\n    formatNumberString(number) {\n      return Number(number).toLocaleString('en')\n    },\n    affixChanged() {\n      this.affixed = !this.affixed\n    },\n    disabledDate(current) {\n      // 不能选择今天之后的日期\n      return current && current > moment().endOf('day')\n    },\n    getFixedNumber(day) {\n      return Math.round(Number(day) * 100) / 100\n    },\n    getDateRange() {\n      console.log('getDateRange', this.currentStartTime, this.currentEndTime)\n      return [moment(this.currentStartTime, this.dateFormat), moment(this.currentEndTime, this.dateFormat)]\n    },\n    getNumberFromPercentString(str) {\n      let numStr = str.slice(0, -1)\n      return Number(numStr)\n    },\n    isWarningColor(record, floor, ceil) {\n      if (record === '-') {\n        return 'normalColumn'\n      }\n      if (!this.inRange(record, floor, ceil)) {\n        return 'warningColumn'\n      }\n      return 'normalColumn'\n    },\n    inRange(record, floor, ceil) {\n      if (record === '-') {\n        return true\n      }\n      let stat = this.getNumberFromPercentString(record)\n      return stat >= floor && stat <= ceil\n    },\n  },\n  computed: {},\n}\n</script>\n\n<style lang=\"less\" scoped>\n.warningColumn {\n  color: #ef3c59;\n  font-weight: bold;\n  padding: 5px;\n}\n.extra-wrapper {\n  line-height: 55px;\n  padding-right: 24px;\n\n  .extra-item {\n    display: inline-block;\n    margin-right: 24px;\n\n    a {\n      margin-left: 24px;\n    }\n  }\n}\n\n.affix {\n  padding-right: 24px;\n}\n\n.antd-pro-pages-dashboard-analysis-twoColLayout {\n  position: relative;\n  display: flex;\n  display: block;\n  flex-flow: row wrap;\n}\n\n.antd-pro-pages-dashboard-analysis-salesCard {\n  width: 100%;\n  height: calc(100% - 24px);\n  /* /deep/ .ant-card-head {\n    position: relative;\n  } */\n}\n\n.ant-col-3 {\n  width: 33%;\n}\n\n.dashboard-analysis-iconGroup {\n  i {\n    margin-left: 16px;\n    color: rgba(0, 0, 0, 0.45);\n    cursor: pointer;\n    transition: color 0.32s;\n    color: black;\n  }\n}\n.analysis-salesTypeRadio {\n  position: absolute;\n  right: 54px;\n  bottom: 12px;\n}\n\n.timeRadioButtons.ant-radio-button-wrapper::before {\n  display: none;\n  visibility: hidden;\n}\n.timeRadioButtons {\n  border: none;\n}\n.timeRadioGroup {\n  margin-left: 54px;\n  border: none;\n}\n.timeRadioButtons.ant-radio-button-wrapper-checked:not(.ant-radio-button-wrapper-disabled) {\n  z-index: 1;\n  color: #1890ff;\n  background: #fff;\n  border-color: #ffffff;\n  -webkit-box-shadow: -1px 0 0 0 #ffffff;\n  box-shadow: -1px 0 0 0 #ffffff;\n}\n\n.affixed {\n  background-color: #e6f7ff;\n  -webkit-transition: background-color 300ms linear;\n  -ms-transition: background-color 300ms linear;\n  transition: background-color 300ms linear;\n}\n.affix {\n  background-color: white;\n  -webkit-transition: background-color 300ms linear;\n  -ms-transition: background-color 300ms linear;\n  transition: background-color 300ms linear;\n}\n.datacard {\n  padding: 20px;\n}\n</style>\n"]}]}
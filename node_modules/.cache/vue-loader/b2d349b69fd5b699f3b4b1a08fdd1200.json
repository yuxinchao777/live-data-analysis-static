{"remainingRequest":"/Users/momo/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/momo/vue/live-data-analysis-static/src/views/temp.vue?vue&type=style&index=0&id=4cdd88ee&scoped=true&lang=css&","dependencies":[{"path":"/Users/momo/vue/live-data-analysis-static/src/views/temp.vue","mtime":1629349879627},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/css-loader/dist/cjs.js","mtime":1626939589967},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1626939590555},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/postcss-loader/src/index.js","mtime":1626939590514},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1626939577620},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js","mtime":1626939590555}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmEtcmFuZ2UtcGlja2VyewogIG1hcmdpbi1sZWZ0OiAyMHB4OwogIG1hcmdpbi1yaWdodDogMjBweDsKfQoKCg=="},{"version":3,"sources":["temp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;AACA;AACA","file":"temp.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div>\n      <!--部门下拉框-->\n      部门<a-select default-value=\"全部\" style=\"width: 100px;margin-left: 5px\">\n      <a-select-option v-for='apartment in qadatas.data.apartments' :key='apartment.id' :value=\"apartment.name\" @click='setapartmentid(apartment.id)' >\n        {{apartment.name}}\n      </a-select-option>\n    </a-select>\n      <!--时间选择框-->\n      <a-range-picker class='a-range-picker' style='width:400px' show-time v-model:value = \"dateRange\">\n        <template slot='renderExtraFooter' >\n          日期选择\n        </template>\n      </a-range-picker>\n      <a-button type='primary' icon='search' @click='getneedtimelist(dateRange)'>\n        Search\n      </a-button>\n    </div>\n    <a-table :columns='columns' :data-source='qadatas.data.infos' :scroll='{ x: 150, y: 300 }' style='margin-top: 20px'>\n      <a slot='action' slot-scope='text,record'>\n<!--        {{record.details}}-->\n        <a-dropdown>\n          <a class=\"ant-dropdown-link\">\n            查看详情 <a-icon type=\"down\" />\n          </a>\n          <a-menu slot=\"overlay\" >\n            <a-menu-item v-for='detail in record.details' @click='jumpto(detail.href)'>\n              <h4 style='size: A4; color: #096dd9'> {{detail.pro_name}}</h4>\n            </a-menu-item>\n\n          </a-menu>\n        </a-dropdown>\n      </a>\n    </a-table>\n  </div>\n</template>\n\n<script>\nimport { axios } from '@/utils/request'\n\nconst columns = [\n  { title: '姓名', width: 50, dataIndex: 'name', key: 'name'},\n  { title: 'use_time', width: 50, dataIndex: 'use_time', key: 'use_time'},\n  { title: 'case数', dataIndex: 'case_num', key: 'case_num', width: 50 },\n  { title: 'bug数', dataIndex: 'bug_name', key: 'bug_name', width: 50 },\n  {\n    title: '详情',\n    key: 'details',\n    width: 100,\n    scopedSlots: { customRender: 'action' }\n  }\n]\n\n\nconst qadatas = {\n  statuscode : 200,\n  data : {\n    apartments :[\n      {id:1,name:\"部门1\"},\n      {id:2,name:\"部门2\"},\n      {id:3,name:\"部门3\"}\n    ],\n    infos:[\n      { name:\"姓名1\", use_time: \"工时1\" ,case_num:1,bug_name:1,details:[{pro_id:1,pro_name:\"项目11111111111111111111111111111111222222222222333333345\",href:\"http://www.baidu.com\"},{pro_id:2,pro_name:\"项目2\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名2\", use_time: \"工时2\" ,case_num:2,bug_name:2,details:[{pro_id:1,pro_name:\"项目2\",href:\"http://www.baidu.com\"},{pro_id:3,pro_name:\"项目3\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名3\", use_time: \"工时3\" ,case_num:3,bug_name:3,details:[{pro_id:1,pro_name:\"项目3\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名4\", use_time: \"工时1\" ,case_num:4,bug_name:4,details:[{pro_id:1,pro_name:\"项目4\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名5\", use_time: \"工时2\" ,case_num:5,bug_name:5,details:[{pro_id:1,pro_name:\"项目5\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名1\", use_time: \"工时1\" ,case_num:1,bug_name:1,details:[{pro_id:1,pro_name:\"项目1\",href:\"http://www.baidu.com\"},{pro_id:2,pro_name:\"项目2\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名2\", use_time: \"工时2\" ,case_num:2,bug_name:2,details:[{pro_id:1,pro_name:\"项目2\",href:\"http://www.baidu.com\"},{pro_id:3,pro_name:\"项目3\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名3\", use_time: \"工时3\" ,case_num:3,bug_name:3,details:[{pro_id:1,pro_name:\"项目3\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名4\", use_time: \"工时1\" ,case_num:4,bug_name:4,details:[{pro_id:1,pro_name:\"项目4\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名5\", use_time: \"工时2\" ,case_num:5,bug_name:5,details:[{pro_id:1,pro_name:\"项目5\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名1\", use_time: \"工时1\" ,case_num:1,bug_name:1,details:[{pro_id:1,pro_name:\"项目1\",href:\"http://www.baidu.com\"},{pro_id:2,pro_name:\"项目2\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名2\", use_time: \"工时2\" ,case_num:2,bug_name:2,details:[{pro_id:1,pro_name:\"项目2\",href:\"http://www.baidu.com\"},{pro_id:3,pro_name:\"项目3\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名3\", use_time: \"工时3\" ,case_num:3,bug_name:3,details:[{pro_id:1,pro_name:\"项目3\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名4\", use_time: \"工时1\" ,case_num:4,bug_name:4,details:[{pro_id:1,pro_name:\"项目4\",href:\"http://www.baidu.com\"}]},\n      { name:\"姓名5\", use_time: \"工时2\" ,case_num:5,bug_name:5,details:[{pro_id:1,pro_name:\"项目5\",href:\"http://www.baidu.com\"}]},\n    ]\n  }\n}\n\nexport default {\n  data() {\n    return {\n      columns,\n      qadatas,\n      dateRange: [],\n      visible: false,\n      apartmentid:0,\n    }\n  },\n\n  methods:{\n    init(){\n      this.dateRange =[this.dayjs().startOf('week').add(1,\"day\").format('dddd MMM DD YYYY HH:mm:ss ZZ'),\n        this.dayjs().endOf('week').add(1,\"day\").format('dddd MMM DD YYYY HH:mm:ss ZZ')]\n      this.getqadate(this.dateRange[0],this.dateRange[1])\n    },\n    getqadate(starttime,endtime){\n      axios\n        .post('/qaStatistics', {\n          stime: this.dateRange[0],\n          etime: this.currentEndTime,\n        })\n      .then((response)=>{\n        this.qadata = response.data\n        console.log(this.qadata)\n        }\n      ).catch((error) => {\n          this.tableLoading = false\n          this.$message.error('内网bug数据获取失败')\n        }\n      )\n    },\n    setapartmentid(apartmentid){\n      this.apartmentid=apartmentid\n    },\n    testtoast(){\n      // this.currentStartTime = this.dayjs(this.dateRange[0].startOf('day').valueOf()).format('YYYY-MM-DD HH:mm:ss')\n      // this.currentEndTime = this.dayjs(range[1].valueOf()).endOf('day').format('YYYY-MM-DD HH:mm:ss')\n      //格式化为时间戳\n      // var Time = new Date(this.currentStartTime);\n      // var timestemp = Time.getTime();\n      console.log(\"now\"+this.dayjs().startOf('week').format('dddd MMM DD YYYY HH:mm:ss ZZ'))\n      window.alert(this.dateRange[0].startOf('week'))\n    },\n    getneedtimelist(dateRange){\n      let currentStartTime = this.dayjs(dateRange[0].valueOf()).format('YYYY-MM-DD HH:mm:ss')\n      let currentEndTime = this.dayjs(dateRange[1].valueOf()).format('YYYY-MM-DD HH:mm:ss')\n      this.getqadate(currentStartTime,currentEndTime)\n    },\n    jumpto(hrefhost){\n      window.open(hrefhost)\n    },\n    getcurrenttime(rangetime){\n      const starttime = this.dayjs(rangetime[0]).format('YYYY-MM-DD HH:mm:ss')\n      const endtime = this.dayjs(rangetime[1]).format('YYYY-MM-DD HH:mm:ss')\n      window.alert([starttime,endtime])\n      return [starttime,endtime]\n    }\n  },\n  computed:{\n    testtest:function(){\n      const columns = [{ title: 'Full Name', width: 100, dataIndex: 'name', key: 'name', fixed: 'left' }]\n    }\n  },\n  created() {\n    this.init()\n  }\n}\n\n</script>\n\n<style scoped>\n.a-range-picker{\n  margin-left: 20px;\n  margin-right: 20px;\n}\n\n\n</style>"]}]}
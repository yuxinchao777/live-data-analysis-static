{"remainingRequest":"/Users/momo/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/momo/vue/live-data-analysis-static/src/views/qadata/qamember.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/momo/vue/live-data-analysis-static/src/views/qadata/qamember.vue","mtime":1635854526355},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1626939577620},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/babel-loader/lib/index.js","mtime":1640003217818},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1626939577620},{"path":"/Users/momo/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js","mtime":1640003225539}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGF4aW9zIH0gZnJvbSAnQC91dGlscy9yZXF1ZXN0JwppbXBvcnQgeyBtZXRob2QgfSBmcm9tICdsb2Rhc2gnCgpjb25zdCBjb2x1bW5zID0gWwogIHsgdGl0bGU6ICdpZCcsIHdpZHRoOiAzMCwgZGF0YUluZGV4OiAnaWQnLCBrZXk6ICdpZCcgfSwKICB7IHRpdGxlOiAn5aeT5ZCNJywgd2lkdGg6IDMwLCBkYXRhSW5kZXg6ICduYW1lJywga2V5OiAnbmFtZScgfSwKICB7IHRpdGxlOiAn5p2D6YeNJywgd2lkdGg6IDMwLCBkYXRhSW5kZXg6ICdvcmRlcklkJywga2V5OiAnb3JkZXJJZCcgfSwKICB7IHRpdGxlOiAn5YiX6KGo5pi+56S6Jywgd2lkdGg6IDMwLCBkYXRhSW5kZXg6ICd1c2VyVHlwZScsIGtleTogJ3VzZXJUeXBlJyB9LAogIHsKICAgIHRpdGxlOiAn5pON5L2cJywKICAgIGtleTogJ3Rhc2tEZXRhaWwnLAogICAgd2lkdGg6IDI1MCwKICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ2FjdGlvbicgfSwKICB9LApdCgoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb2x1bW5zLAogICAgICBxYWRhdGE6W10sCiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICBtb2RlbGlkOiIiLAogICAgICBtb2RlbG9yZGVyOiIiLAogICAgICBtb2RlbG5hbWU6IiIsCiAgICAgIG1vZGVsdXNlclR5cGU6dHJ1ZQogICAgfQogIH0sCiAgCiAgbWV0aG9kcyA6IHsKICAgIGluaXQoKXsKICAgICAgICB0aGlzLmdldG1lbWJlcmRhdGEoKQogICAgfSwKICAgIGdldG1lbWJlcmRhdGEoKXsKICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWUKICAgICAgICBsZXQgcGFyYW1zID0gbmV3IEZvcm1EYXRhKCkKICAgICAgICBwYXJhbXMuYXBwZW5kKCJEZXBhcnRtZW50IiwicWEiKQogICAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoJy9xdWVyeUVtcGxveWVlJywgcGFyYW1zLHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ319KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaChpdGVtPT57CiAgICAgICAgICAgICAgICBpZiAoaXRlbS51c2VyVHlwZT09PSIxIil7CiAgICAgICAgICAgICAgICAgICAgaXRlbS51c2VyVHlwZSA9ICLmmK8ifQogICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICBpdGVtLnVzZXJUeXBlID0gIuWQpiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMucWFkYXRhID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5YaF572R5pWw5o2u6I635Y+W5aSx6LSlJykKICAgICAgICB9KQogICAgfSwKCiAgICBzaG93TW9kYWwoaWQsbmFtZSx1c2VyVHlwZSxvcmRlcikgewogICAgICAgIHRoaXMubW9kZWxpZCA9IGlkCiAgICAgICAgdGhpcy5tb2RlbG5hbWUgPSBuYW1lCiAgICAgICAgdGhpcy5tb2RlbG9yZGVyPW9yZGVyCiAgICAgICAgaWYodXNlclR5cGUgPT09ICLmmK8iKXsKICAgICAgICAgICAgdGhpcy5tb2RlbHVzZXJUeXBlPTEKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgdGhpcy5tb2RlbHVzZXJUeXBlPTAKICAgICAgICB9CgogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSA9ICIiOwogICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlT2soKSB7CiAgICAgICAgbGV0IHBhcmFtcyA9IG5ldyBGb3JtRGF0YSgpCiAgICAgICAgcGFyYW1zLmFwcGVuZCgiaWQiLHRoaXMubW9kZWxpZCkKICAgICAgICBwYXJhbXMuYXBwZW5kKCJvcmRlcklkIix0aGlzLm1vZGVsb3JkZXIpCiAgICAgICAgcGFyYW1zLmFwcGVuZCgidXNlclR5cGUiLE51bWJlcih0aGlzLm1vZGVsdXNlclR5cGUpKQogICAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoJy9lZGl0RW1wbG95ZWUnLCBwYXJhbXMse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnfX0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmj5DkuqTmiJDlip8nKQogICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5pbml0KCkKICAgICAgICAgIH0KICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5o+Q5Lqk5aSx6LSlJykKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WGhee9keaVsOaNruiOt+WPluWksei0pScpCiAgICAgICAgfSkKICAgIH0sCiAgICBvbkNsb3NlKCkgewogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvd1kgPSAib3ZlcmxheSI7CiAgICB9LAogICAgb25DaGFuZ2UoY2hlY2tlZCkgewogICAgICAgIG1vZGVsdXNlclR5cGUgPSBjaGVja2VkCiAgICAgICAgCiAgICB9LAogICAgCgogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKQogIH0sCn0K"},{"version":3,"sources":["qamember.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA","file":"qamember.vue","sourceRoot":"src/views/qadata","sourcesContent":["<template>\n    <div>\n        <h1>qa人员配置</h1>\n        <a-table\n      :columns=\"columns\"\n      :data-source=\"qadata\"\n      style=\"margin-top: 20px;\"\n      :loading=\"isLoading\"\n      :pagination=\"{ defaultPageSize: 100 }\"\n    >\n      <div slot=\"action\" slot-scope=\"text, record\">\n        <div>\n            <a-button type=\"primary\" @click=\"showModal(record.id,record.name,record.userType,record.orderId)\">编辑</a-button>\n        </div>\n      </div>\n    </a-table>\n    <div>\n    <a-modal v-model=\"visible\" title=\"编辑\" @ok=\"handleOk\"  :afterClose=\"onClose\">\n                <p>姓名: {{modelname}}</p>\n                <p>权重: <a-input-number\n                        placeholder=\"权重\" \n                        style=\"width:80px;\" \n                        v-model=modelorder\n                        /> </p>\n                <p>显示: <a-switch v-model=modeluserType @change=\"onChange\"  /></p>\n    </a-modal>\n    </div>\n    </div>\n</template>\n<script>\nimport { axios } from '@/utils/request'\nimport { method } from 'lodash'\n\nconst columns = [\n  { title: 'id', width: 30, dataIndex: 'id', key: 'id' },\n  { title: '姓名', width: 30, dataIndex: 'name', key: 'name' },\n  { title: '权重', width: 30, dataIndex: 'orderId', key: 'orderId' },\n  { title: '列表显示', width: 30, dataIndex: 'userType', key: 'userType' },\n  {\n    title: '操作',\n    key: 'taskDetail',\n    width: 250,\n    scopedSlots: { customRender: 'action' },\n  },\n]\n\n\nexport default {\n  data() {\n    return {\n      columns,\n      qadata:[],\n      visible: false,\n      modelid:\"\",\n      modelorder:\"\",\n      modelname:\"\",\n      modeluserType:true\n    }\n  },\n  \n  methods : {\n    init(){\n        this.getmemberdata()\n    },\n    getmemberdata(){\n        this.isLoading = true\n        let params = new FormData()\n        params.append(\"Department\",\"qa\")\n        axios\n        .post('/queryEmployee', params,{headers: {'Content-Type': 'multipart/form-data'}})\n        .then((response) => {\n          if (response.code === 200) {\n            this.isLoading = false\n            response.data.forEach(item=>{\n                if (item.userType===\"1\"){\n                    item.userType = \"是\"}\n                else{\n                    item.userType = \"否\"\n                }\n                })\n            this.qadata = response.data\n          }\n        })\n        .catch((error) => {\n          this.isLoading = false\n          this.$message.error('内网数据获取失败')\n        })\n    },\n\n    showModal(id,name,userType,order) {\n        this.modelid = id\n        this.modelname = name\n        this.modelorder=order\n        if(userType === \"是\"){\n            this.modeluserType=1\n        }\n        else{\n            this.modeluserType=0\n        }\n\n        document.documentElement.style = \"\";\n        this.visible = true;\n    },\n    handleOk() {\n        let params = new FormData()\n        params.append(\"id\",this.modelid)\n        params.append(\"orderId\",this.modelorder)\n        params.append(\"userType\",Number(this.modeluserType))\n        axios\n        .post('/editEmployee', params,{headers: {'Content-Type': 'multipart/form-data'}})\n        .then((response) => {\n          if (response.code === 200) {\n              this.$message.success('提交成功')\n            this.visible = false;\n            this.init()\n          }\n          else{\n              this.$message.error('提交失败')\n          }\n        })\n        .catch((error) => {\n          this.isLoading = false\n          this.$message.error('内网数据获取失败')\n        })\n    },\n    onClose() {\n        document.documentElement.style.overflowY = \"overlay\";\n    },\n    onChange(checked) {\n        modeluserType = checked\n        \n    },\n    \n\n  },\n  computed: {},\n  created() {\n    this.init()\n  },\n}\n</script>\n\n<style scoped>\n\n\n</style>\n"]}]}
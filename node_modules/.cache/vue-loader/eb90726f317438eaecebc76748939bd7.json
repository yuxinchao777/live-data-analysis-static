{"remainingRequest":"/Users/momo/code/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/momo/code/vue/live-data-analysis-static/src/views/qadata/qamemberdata.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/momo/code/vue/live-data-analysis-static/src/views/qadata/qamemberdata.vue","mtime":1649731909968},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1647586199048},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/babel-loader/lib/index.js","mtime":1647848746451},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/cache-loader/dist/cjs.js","mtime":1647586199048},{"path":"/Users/momo/code/vue/live-data-analysis-static/node_modules/vue-loader/lib/index.js","mtime":1647848754116}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwppbXBvcnQgJ21vbWVudC9sb2NhbGUvemgtY24nCmltcG9ydCB7IGF4aW9zIH0gZnJvbSAnQC91dGlscy9yZXF1ZXN0JwppbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSAnc3RvcmUvc3RvcmFnZXMvYWxsJwoKZXhwb3J0IGRlZmF1bHQgewogIC8v5o6S5pyf5pel5oql6aG16Z2iCiAgbmFtZTogJ3FhbWVtYmVyZGF0YScsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8v5bCP57uECiAgICAgIHFhZGF0YV9ncm91cHM6IFtdLAoKICAgICAgLy/kuJrliqHnur8KICAgICAgcWFkYXRhX3Byb2plY3RzOiBbXSwKCiAgICAgIC8v5bCP57uE5ZKM5Lia5Yqh57q/CiAgICAgIHFhZGF0YXM6IFtdLAoKICAgICAgLy/ml7bpl7TpgInmi6nmoYYKICAgICAgZGF0ZVJhbmdlOiBbXSwKCiAgICAgIC8v6aG555uuaWQKICAgICAgc2V0cHJvamVjdElkOiAwLAoKICAgICAgLy/orr7nva7pobnnm67lkI3np7AKICAgICAgc2V0cHJvamVjdG5hbWU6ICfmiYDmnInkuJrliqHnur8nLAoKICAgICAgLy/kuJrliqHnur9pZAogICAgICBzZXRncm91cElkOiAwLAoKICAgICAgLy/ooajlpLQKICAgICAgYWxsX2NvbHVtbnNfZGF0YTogW10sCgogICAgICAvL+WIl+ihqOmVv+W6pgogICAgICBjb2x1bW5zX2xlbjogMCwKCiAgICAgIC8v5YiX6KGo5pWw5o2uCiAgICAgIHFhZGF0YTogW10sCgogICAgICAvL+W8ueeql+aYr+WQpuaYvuekugogICAgICB2aXNpYmxlOiBmYWxzZSwKCiAgICAgIC8v5by556qX5Lit55qE5Lu75YqhCiAgICAgIGNvbnRlbnR0YXNrOiBbXSwKCiAgICAgIC8v5by556qX5Lu75Yqh5pel5pyfCiAgICAgIGVkaXR0YXNrZGF0ZTogJycsCgogICAgICAvL+W8ueeql+S6uueahGlkCiAgICAgIGVkaXR1c2VyaWQ6ICcnLAogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGluaXQoKSB7CiAgICAgIHRoaXMuZ2V0cHJvamVjdCgpCgogICAgICAvL+WRqOS4gCDlkajml6UKICAgICAgY29uc3QgbW9uZGF5ID0gdGhpcy5kYXlqcygpLnN0YXJ0T2YoJ3dlZWsnKS5hZGQoMSwgJ2RheScpCiAgICAgIGNvbnN0IHN1bmRheSA9IHRoaXMuZGF5anMoKS5lbmRPZignd2VlaycpLmFkZCgxLCAnZGF5JykKCiAgICAgIC8v5pe26Ze06L2sbW9tZW505a+56LGhCiAgICAgIHRoaXMuZGF0ZVJhbmdlID0gWwogICAgICAgIG1vbWVudChtb25kYXkuZm9ybWF0KCdkZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFpaJykpLAogICAgICAgIG1vbWVudChzdW5kYXkuZm9ybWF0KCdkZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFpaJykpLAogICAgICBdCiAgICAgIC8vbGV0IHRlbXB0aW1lID0gW21vbmRheS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSwgc3VuZGF5LmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXQoKICAgICAgdGhpcy5nZXRkYXRlKHRoaXMuZGF0ZVJhbmdlKQogICAgfSwKICAgIC8v6I635Y+W5YiX6KGo5pWw5o2uCiAgICBnZXRkYXRlKGRhdGVSYW5nZSkgewogICAgICBsZXQgdGVtcHRpbWUgPSBbCiAgICAgICAgdGhpcy5kYXlqcyhkYXRlUmFuZ2VbMF0udmFsdWVPZigpKS5mb3JtYXQoJ1lZWVkvTU0vREQgSEg6bW06c3MnKSwKICAgICAgICB0aGlzLmRheWpzKGRhdGVSYW5nZVsxXS52YWx1ZU9mKCkpLmZvcm1hdCgnWVlZWS9NTS9ERCBISDptbTpzcycpLAogICAgICBdCiAgICAgIHRoaXMuZ2V0X2NvbHVtbnModGVtcHRpbWUpCiAgICAgIHRoaXMuZ2V0bmVlZHRpbWVsaXN0KHRlbXB0aW1lKQogICAgfSwKCiAgICAvL+iuvue9ruafpeivouaKgOacr+mDqOeahGlkCiAgICBzZXRncm91cGlkKGdyb3VwaWQpIHsKICAgICAgdGhpcy5zZXRncm91cElkID0gZ3JvdXBpZAoKICAgICAgLy/pobnnm67lop7liqDmiYDmnInkuJrliqHnur8KICAgICAgdmFyIHRlbXAgPSBbeyBwcm9qZWN0SWQ6IDAsIHByb2plY3ROYW1lOiAn5omA5pyJ5Lia5Yqh57q/JyB9XQogICAgICB0aGlzLnFhZGF0YXMuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgIGlmIChncm91cGlkID09PSBpdGVtLmdyb3VwSWQpIHsKICAgICAgICAgIHRoaXMucWFkYXRhX3Byb2plY3RzID0gdGVtcC5jb25jYXQoaXRlbS5wcm9qZWN0TGlzdCkKICAgICAgICB9IGVsc2UgaWYgKGdyb3VwaWQgPT09IDApIHsKICAgICAgICAgIHRoaXMucWFkYXRhX3Byb2plY3RzID0gdGhpcy5hbGxwcm9qZWN0CiAgICAgICAgfQogICAgICB9KQoKICAgICAgLy/ph43nva7kuJrliqHnur/lkI3np7DlkoxpZAogICAgICB0aGlzLnNldHByb2plY3RuYW1lID0gJ+aJgOacieS4muWKoee6vycKICAgICAgdGhpcy5zZXRwcm9qZWN0SWQgPSAwCiAgICB9LAoKICAgIC8v6K6+572u5p+l6K+i5oqA5pyv6YOoaWQKICAgIHNldHByb2plY3RpZChwcm9qZWN0aWQpIHsKICAgICAgdGhpcy5zZXRwcm9qZWN0SWQgPSBwcm9qZWN0aWQKICAgICAgdGhpcy5xYWRhdGFfcHJvamVjdHMuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgIGlmIChwcm9qZWN0aWQgPT09IGl0ZW0ucHJvamVjdElkKSB7CiAgICAgICAgICB0aGlzLnNldHByb2plY3RuYW1lID0gaXRlbS5wcm9qZWN0TmFtZQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCgogICAgLy/ojrflj5bkuJrliqHnur/lkozpobnnm64KICAgIGdldHByb2plY3QoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgnL3Byb2plY3QvcXVlcnknKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLnFhZGF0YXMgPSByZXNwb25zZS5kYXRhCgogICAgICAgICAgICB2YXIgcWFkYXRhX2dyb3VwcyA9IG5ldyBBcnJheSgpCiAgICAgICAgICAgIHZhciBxYWRhdGFfcHJvamVjdHMgPSBuZXcgQXJyYXkoKQoKICAgICAgICAgICAgcWFkYXRhX2dyb3Vwcy5wdXNoKHsgZ3JvdXBJZDogMCwgZ3JvdXBOYW1lOiAn5ZWG5Lia5oqA5pyv6YOoJyB9KQoKICAgICAgICAgICAgcWFkYXRhX3Byb2plY3RzLnB1c2goeyBwcm9qZWN0SWQ6IDAsIHByb2plY3ROYW1lOiAn5omA5pyJ5Lia5Yqh57q/JyB9KQogICAgICAgICAgICAvL+iOt+WPluaJgOacieS4muWKoee6vwogICAgICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goKGdyb3VwaXRlbSkgPT4gewogICAgICAgICAgICAgIHFhZGF0YV9ncm91cHMucHVzaCh7IGdyb3VwSWQ6IGdyb3VwaXRlbS5ncm91cElkLCBncm91cE5hbWU6IGdyb3VwaXRlbS5ncm91cE5hbWUgfSkKCiAgICAgICAgICAgICAgLy/ojrflj5bmiYDmnInpobnnm64KICAgICAgICAgICAgICBncm91cGl0ZW0ucHJvamVjdExpc3QuZm9yRWFjaCgocHJvamVjdGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgIHFhZGF0YV9wcm9qZWN0cy5wdXNoKHsgcHJvamVjdElkOiBwcm9qZWN0aXRlbS5wcm9qZWN0SWQsIHByb2plY3ROYW1lOiBwcm9qZWN0aXRlbS5wcm9qZWN0TmFtZSB9KQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMucWFkYXRhX2dyb3VwcyA9IHFhZGF0YV9ncm91cHMKICAgICAgICAgICAgdGhpcy5xYWRhdGFfcHJvamVjdHMgPSBxYWRhdGFfcHJvamVjdHMKICAgICAgICAgICAgdGhpcy5hbGxwcm9qZWN0ID0gcWFkYXRhX3Byb2plY3RzCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflhoXnvZHmlbDmja7ojrflj5blpLHotKUnKQogICAgICAgIH0pCiAgICB9LAoKICAgIC8v54K55Ye75p+l6K+i6I635Y+W5YiX6KGo5pWw5o2uCiAgICBnZXRuZWVkdGltZWxpc3QoZGF0ZVJhbmdlKSB7CiAgICAgIGRhdGVSYW5nZVswXSA9IHRoaXMuZGF5anMoZGF0ZVJhbmdlWzBdLnZhbHVlT2YoKSkuZm9ybWF0KCdZWVlZLU1NLUREJykKICAgICAgZGF0ZVJhbmdlWzFdID0gdGhpcy5kYXlqcyhkYXRlUmFuZ2VbMV0udmFsdWVPZigpKS5mb3JtYXQoJ1lZWVktTU0tREQnKQogICAgICBheGlvcwogICAgICAgIC5wb3N0KCcvRGFpbHlXb3JrL3F1ZXJ5JywgewogICAgICAgICAgc3RhcnRUaW1lOiBkYXRlUmFuZ2VbMF0sCiAgICAgICAgICBlbmRUaW1lOiBkYXRlUmFuZ2VbMV0sCiAgICAgICAgICBwcm9qZWN0SWQ6IHRoaXMuc2V0cHJvamVjdElkLAogICAgICAgICAgZ3JvdXBJZDogdGhpcy5zZXRncm91cElkLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMucWFkYXRhID0gdGhpcy5zb3J0ZGF0YShyZXNwb25zZS5kYXRhKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5YaF572R5pWw5o2u6I635Y+W5aSx6LSlJykKICAgICAgICB9KQogICAgfSwKCiAgICAvL+agvOW8j+WMluaVsOaNrgogICAgc29ydGRhdGEoZGF0YSkgewogICAgICB2YXIgdGVtcCA9IG5ldyBBcnJheSgpCiAgICAgIHRlbXAgPSB0aGlzLmFsbF9jb2x1bW5zX2RhdGEuc2xpY2UoMikKICAgICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpdGVtW3RlbXBbaV0uY2hpbGRyZW5bMF0udGl0bGVdID0gaXRlbS5kYXRlV29ya1tpXQogICAgICAgIH0KICAgICAgfSkKICAgICAgZGF0YSA9IHRoaXMuY291bnRkYXlob3VycyhkYXRhKQogICAgICByZXR1cm4gZGF0YQogICAgfSwKCiAgICAvL+iuoeeul+afkOS6uuafkOaXpeaAu+aXtumVv+WSjOaYr+WQpuaYvuekuuWIhuWJsue6vwogICAgY291bnRkYXlob3VycyhkYXRhKSB7CiAgICAgIHZhciB0ZW1wID0gbmV3IEFycmF5KCkKICAgICAgdGVtcCA9IHRoaXMuYWxsX2NvbHVtbnNfZGF0YS5zbGljZSgyKQogICAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIC8v5q+P5aSp5oC75piv6ZW/CiAgICAgICAgICB2YXIgY291bnQgPSAwCgogICAgICAgICAgLy90YuS7u+WKoSB3b3Jr5Lu75Yqh5Lit6Ze055qE5YiG5Ymy57q/CiAgICAgICAgICB2YXIgbGluZV9zaG93ID0gdHJ1ZQoKICAgICAgICAgIC8vd29ya0NvbnRlbnRz5aSE55CGCiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGl0ZW1bdGVtcFtpXS5jaGlsZHJlblswXS50aXRsZV0ud29ya0NvbnRlbnRzICYmCiAgICAgICAgICAgIGl0ZW1bdGVtcFtpXS5jaGlsZHJlblswXS50aXRsZV0ud29ya0NvbnRlbnRzLmxlbmd0aCAhPT0gMAogICAgICAgICAgKSB7CiAgICAgICAgICAgIGl0ZW1bdGVtcFtpXS5jaGlsZHJlblswXS50aXRsZV0ud29ya0NvbnRlbnRzLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgICBpZiAoaXRlbS5ob3VyICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBjb3VudCA9IGNvdW50ICsgaXRlbS5ob3VyCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8v6K+35YGH5oiW5YGH5pyf6ZqQ6JeP5YiG5Ymy57q/CiAgICAgICAgICAgICAgaWYgKGl0ZW0ud29ya190eXBlID09PSAyIHx8IGl0ZW0ud29ya190eXBlID09PSAwKSB7CiAgICAgICAgICAgICAgICBsaW5lX3Nob3cgPSBmYWxzZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0KCiAgICAgICAgICAvL3RiV29ya0NvbnRlbnTlpITnkIYKICAgICAgICAgIGlmICgKICAgICAgICAgICAgaXRlbVt0ZW1wW2ldLmNoaWxkcmVuWzBdLnRpdGxlXS50YldvcmtDb250ZW50ICYmCiAgICAgICAgICAgIGl0ZW1bdGVtcFtpXS5jaGlsZHJlblswXS50aXRsZV0udGJXb3JrQ29udGVudC5sZW5ndGggIT09IDAKICAgICAgICAgICkgewogICAgICAgICAgICBpdGVtW3RlbXBbaV0uY2hpbGRyZW5bMF0udGl0bGVdLnRiV29ya0NvbnRlbnQuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgICAgIGlmIChpdGVtLmhvdXIgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgIGNvdW50ID0gY291bnQgKyBpdGVtLmhvdXIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CgogICAgICAgICAgaWYgKAogICAgICAgICAgICBpdGVtW3RlbXBbaV0uY2hpbGRyZW5bMF0udGl0bGVdLndvcmtDb250ZW50cyAmJgogICAgICAgICAgICBpdGVtW3RlbXBbaV0uY2hpbGRyZW5bMF0udGl0bGVdLndvcmtDb250ZW50cy5sZW5ndGggPT09IDAgJiYKICAgICAgICAgICAgaXRlbVt0ZW1wW2ldLmNoaWxkcmVuWzBdLnRpdGxlXS50YldvcmtDb250ZW50ICYmCiAgICAgICAgICAgIGl0ZW1bdGVtcFtpXS5jaGlsZHJlblswXS50aXRsZV0udGJXb3JrQ29udGVudC5sZW5ndGggPT09IDAKICAgICAgICAgICkgewogICAgICAgICAgICBsaW5lX3Nob3cgPSBmYWxzZQogICAgICAgICAgfQoKICAgICAgICAgIGl0ZW1bdGVtcFtpXS5jaGlsZHJlblswXS50aXRsZV0uY291bnQgPSBjb3VudAogICAgICAgICAgaXRlbVt0ZW1wW2ldLmNoaWxkcmVuWzBdLnRpdGxlXS5saW5lX3Nob3cgPSBsaW5lX3Nob3cKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHJldHVybiBkYXRhCiAgICB9LAoKICAgIC8v54K55Ye76Lez6L2sCiAgICBqdW1wdG8oaHJlZmhvc3QpIHsKICAgICAgaWYgKGhyZWZob3N0ICE9PSBudWxsICYmIGhyZWZob3N0ICE9PSAnJykgewogICAgICAgIHdpbmRvdy5vcGVuKGhyZWZob3N0KQogICAgICB9CiAgICB9LAoKICAgIC8v5omT5byA5by556qXCiAgICBzaG93TW9kYWwoZGF0YXRpbWUsIHRleHQsIHVzZXJpZCkgewogICAgICB0aGlzLmNvbnRlbnR0YXNrID0gdGV4dAogICAgICB0aGlzLmVkaXR0YXNrZGF0ZSA9IGRhdGF0aW1lCiAgICAgIHRoaXMuZWRpdHVzZXJpZCA9IHVzZXJpZAogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgPSAnJwogICAgICBpZiAodGhpcy5jb250ZW50dGFzay5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmNvbnRlbnR0YXNrID0gWwogICAgICAgICAgewogICAgICAgICAgICBjb250ZW50OiAnJywKICAgICAgICAgICAgaG91cjogMCwKICAgICAgICAgICAgdXJsOiBudWxsLAogICAgICAgICAgICB3b3JrX3R5cGU6IDEsCiAgICAgICAgICB9LAogICAgICAgIF0KICAgICAgfQogICAgICB0aGlzLnZpc2libGUgPSB0cnVlCiAgICB9LAoKICAgIC8v5Yig6Zmk5pWw57uE5YWD57SgCiAgICBkZWx0YXNrKG51bSkgewogICAgICB0aGlzLmNvbnRlbnR0YXNrLnNwbGljZShudW0sIDEpCiAgICB9LAoKICAgIC8v5paw5aKe5Lu75YqhCiAgICBhZGR0YXNrKCkgewogICAgICB0aGlzLmNvbnRlbnR0YXNrLnB1c2goewogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIGhvdXI6IG51bGwsCiAgICAgICAgdXJsOiBudWxsLAogICAgICAgIHdvcmtfdHlwZTogMSwKICAgICAgfSkKICAgIH0sCgogICAgLy/ngrnlh7vlvLnnqpfkv53lrZgKICAgIGhhbmRsZU9rKCkgewogICAgICB2YXIgdGVtcCA9IDEKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnR0YXNrLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuY29udGVudHRhc2tbaV0uY29udGVudCA9PT0gJycgfHwgdGhpcy5jb250ZW50dGFza1tpXS5ob3VyID09PSBudWxsKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflhoXlrrnlkozlt6Xml7bkuI3og73kuLrnqbonKQogICAgICAgICAgdGVtcCA9IDAKICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0ZW1wID09PSAxKSB7CiAgICAgICAgdGhpcy5jb250ZW50dGFzay5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICBpdGVtLndvcmtfdHlwZSA9IDEKICAgICAgICB9KQogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgnL0RhaWx5V29yay91cGRhdGUnLCB7CiAgICAgICAgICAgIHVzZXJJZDogdGhpcy5lZGl0dXNlcmlkLAogICAgICAgICAgICBkYXRlOiB0aGlzLmVkaXR0YXNrZGF0ZSwKICAgICAgICAgICAgd29ya0NvbnRlbnQ6IHRoaXMuY29udGVudHRhc2ssCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aPkOS6pOaIkOWKnycpCiAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICB0aGlzLmdldGRhdGUodGhpcy5kYXRlUmFuZ2UpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5o+Q5Lqk5aSx6LSlJykKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflhoXnvZHmlbDmja7ojrflj5blpLHotKUnKQogICAgICAgICAgfSkKICAgICAgfQogICAgfSwKCiAgICBxaW5namlhKCkgewogICAgICB2YXIgdGVtcF9jb250ZW50ID0gewogICAgICAgIGNvbnRlbnQ6ICfor7flgYcnLAogICAgICAgIGhvdXI6IDAsCiAgICAgICAgdXJsOiBudWxsLAogICAgICAgIHdvcmtfdHlwZTogMiwKICAgICAgfQogICAgICBheGlvcwogICAgICAgIC5wb3N0KCcvRGFpbHlXb3JrL3VwZGF0ZScsIHsgdXNlcklkOiB0aGlzLmVkaXR1c2VyaWQsIGRhdGU6IHRoaXMuZWRpdHRhc2tkYXRlLCB3b3JrQ29udGVudDogW3RlbXBfY29udGVudF0gfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmj5DkuqTmiJDlip8nKQogICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZQogICAgICAgICAgICB0aGlzLmdldGRhdGUodGhpcy5kYXRlUmFuZ2UpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmj5DkuqTlpLHotKUnKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5YaF572R5pWw5o2u6I635Y+W5aSx6LSlJykKICAgICAgICB9KQogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZQogICAgfSwKCiAgICAvL+WFs+mXreW8ueeqlwogICAgb25DbG9zZSgpIHsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93WSA9ICdvdmVybGF5JwogICAgfSwKCiAgICAvL+iOt+WPluihqOWktAogICAgZ2V0X2NvbHVtbnMoZGF0ZVJhbmdlKSB7CiAgICAgIC8vIHZhciBzdGFydCA9IHRoaXMuZGF5anMoZGF0ZVJhbmdlWzBdLnZhbHVlT2YoKSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJykKICAgICAgLy8gdmFyIHN0b3AgPSB0aGlzLmRheWpzKGRhdGVSYW5nZVsxXS52YWx1ZU9mKCkpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpCiAgICAgIHZhciBzdGFydCA9IGRhdGVSYW5nZVswXQogICAgICB2YXIgc3RvcCA9IGRhdGVSYW5nZVsxXQogICAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkoKQoKICAgICAgLy/mt7vliqDkuJrliqHnur8KICAgICAgYXJyYXkucHVzaCh7IHRpdGxlOiAn5Lia5Yqh57q/Jywga2V5OiAncHJvamVjdE5hbWUnLCBkYXRhSW5kZXg6ICdwcm9qZWN0TmFtZScsIHdpZHRoOiAzMCB9KQoKICAgICAgLy/mt7vliqDlp5PlkI0KICAgICAgYXJyYXkucHVzaCh7IHRpdGxlOiAn5aeT5ZCNJywga2V5OiAnbmFtZScsIGRhdGFJbmRleDogJ25hbWUnLCB3aWR0aDogMzAgfSkKICAgICAgdmFyIGN1cnJlbnQgPSBuZXcgRGF0ZShzdGFydCkKICAgICAgc3RvcCA9IG5ldyBEYXRlKHN0b3ApCiAgICAgIHdoaWxlIChjdXJyZW50IDw9IHN0b3ApIHsKICAgICAgICBpZiAoCiAgICAgICAgICB0aGlzLmdldF93ZWVrKHRoaXMuZGF5anMobmV3IERhdGUoY3VycmVudCkpLmRheSgpKSA9PT0gJ+aYn+acn+WFrScgfHwKICAgICAgICAgIHRoaXMuZ2V0X3dlZWsodGhpcy5kYXlqcyhuZXcgRGF0ZShjdXJyZW50KSkuZGF5KCkpID09PSAn5pif5pyf5pelJwogICAgICAgICkgewogICAgICAgICAgYXJyYXkucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiB0aGlzLmdldF93ZWVrKHRoaXMuZGF5anMobmV3IERhdGUoY3VycmVudCkpLmRheSgpKSwKICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5kYXlqcyhuZXcgRGF0ZShjdXJyZW50KSkuZm9ybWF0KCdZWVlZLU1NLUREJyksCiAgICAgICAgICAgICAgICBrZXk6IHRoaXMuZGF5anMobmV3IERhdGUoY3VycmVudCkpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLAogICAgICAgICAgICAgICAgZGF0YUluZGV4OiB0aGlzLmRheWpzKG5ldyBEYXRlKGN1cnJlbnQpKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwKICAgICAgICAgICAgICAgIHdpZHRoOiAzNSwKICAgICAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ2FjdGlvbicgfSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXJyYXkucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiB0aGlzLmdldF93ZWVrKHRoaXMuZGF5anMobmV3IERhdGUoY3VycmVudCkpLmRheSgpKSwKICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5kYXlqcyhuZXcgRGF0ZShjdXJyZW50KSkuZm9ybWF0KCdZWVlZLU1NLUREJyksCiAgICAgICAgICAgICAgICBrZXk6IHRoaXMuZGF5anMobmV3IERhdGUoY3VycmVudCkpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLAogICAgICAgICAgICAgICAgZGF0YUluZGV4OiB0aGlzLmRheWpzKG5ldyBEYXRlKGN1cnJlbnQpKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwKICAgICAgICAgICAgICAgIHdpZHRoOiA1MCwKICAgICAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ2FjdGlvbicgfSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSkKICAgICAgICB9CgogICAgICAgIGN1cnJlbnQuc2V0RGF0ZShjdXJyZW50LmdldERhdGUoKSArIDEpCiAgICAgIH0KICAgICAgdGhpcy5jb2x1bW5zX2xlbiA9IGFycmF5Lmxlbmd0aCAqIDEyMAogICAgICB0aGlzLmFsbF9jb2x1bW5zX2RhdGEgPSBhcnJheQogICAgfSwKCiAgICAvL+iOt+WPluaXpeacn+eahOaYn+acn+WHoAogICAgZ2V0X3dlZWsobnVtKSB7CiAgICAgIHZhciB3ZWVrcyA9IG5ldyBBcnJheSgn5pif5pyf5pelJywgJ+aYn+acn+S4gCcsICfmmJ/mnJ/kuownLCAn5pif5pyf5LiJJywgJ+aYn+acn+WbmycsICfmmJ/mnJ/kupQnLCAn5pif5pyf5YWtJykKICAgICAgdmFyIHdlZWsgPSB3ZWVrc1tudW1dCiAgICAgIHJldHVybiB3ZWVrCiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKQogIH0sCn0K"},{"version":3,"sources":["qamemberdata.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"qamemberdata.vue","sourceRoot":"src/views/qadata","sourcesContent":["<template>\n  <div class=\"qamember-wrapper\">\n    <div>\n      <!--业务线下拉框-->\n      <a-select \n        default-value=\"商业技术部\" \n        style=\"width: 150px; margin-left: 5px; \">\n        <a-select-option\n          v-for=\"group in qadata_groups\"\n          :key=\"group.groupId\"\n          :value=\"group.groupName\"\n          @click=\"setgroupid(group.groupId)\"\n        >\n          {{ group.groupName }}\n        </a-select-option>\n      </a-select>\n\n      <!--项目下拉框-->\n      <a-select \n        default-value=\"所有业务线\"\n        style=\"width: 150px; margin-left: 20px; \"\n        :value=\"setprojectname\"\n      >\n        <a-select-option\n          v-for=\"project in qadata_projects\"\n          :key=\"project.projectId\"\n          :value=\"project.projectName\"\n          @click=\"setprojectid(project.projectId)\"\n        >\n          {{ project.projectName }}\n        </a-select-option>\n      </a-select>\n\n      <!--时间选择框-->\n      <a-range-picker class=\"a-range-picker\" style=\"width: 400px\" show-time v-model=\"dateRange\">\n        <template slot=\"renderExtraFooter\"> 日期选择</template>\n      </a-range-picker>\n      <!--查询按钮-->\n      <a-button type=\"primary\" icon=\"search\" @click=\"getdate(dateRange)\"> 查询 </a-button>\n    </div>\n    <h6>（备注：绿色：等于8h，红色：大于8h，黑色：小于8h，橘色：请假，粉色：假期）</h6>\n    <a-table\n      :columns=\"all_columns_data\"\n      :data-source=\"qadata\"\n      style=\"margin-top: 20px\"\n      :scroll=\"{ x: columns_len }\"\n      bordered\n      :pagination=\"{ defaultPageSize: 100 }\"\n    >\n      <div slot=\"action\" slot-scope=\"text, record\">\n        <!--tb内容-->\n        <div v-if=\"text.tbWorkContent && text.tbWorkContent.length && text.line_show === true\">\n          <a v-for=\"(detail, index) in text.tbWorkContent\" :key=\"index\" @click=\"jumpto(detail && detail.url)\">\n            <span class=\"record-text\" style=\"margin-top: 20px; margin-bottom: 20px\">\n              <span v-if=\"text.count === 8\" style=\"color: rgb(106, 168, 79)\">[{{ detail.hour }}H]</span>\n              <span v-if=\"text.count > 8\" style=\"color: rgb(205, 51, 51)\">[{{ detail.hour }}H]</span>\n              <span v-if=\"text.count < 8\" style=\"color: rgb(0, 0, 0)\">[{{ detail.hour }}H]</span>\n\n              <span v-if=\"text.count === 8\" style=\"color: rgb(106, 168, 79)\">{{ detail.content }}</span>\n              <span v-else-if=\"text.count > 8\" style=\"color: rgb(205, 51, 51)\">{{ detail.content }}</span>\n              <span v-else-if=\"text.count < 8\" style=\"color: rgb(0, 0, 0)\">{{ detail.content }}</span>\n\n              <span v-else-if=\"detail.work_type === 0\" style=\"color: rgb(205, 149, 12)\">{{ detail.content }}</span>\n              <span v-else style=\"color: rgb(238, 99, 99)\">{{ detail.content }}</span>\n            </span>\n            <br />\n          </a>\n        </div>\n\n        <!-- 分割线 -->\n        <hr v-if=\"text.line_show\" />\n\n        <!--自定义内容-->\n        <div>\n          <div v-if=\"text.workContents && text.workContents.length\">\n            <a v-for=\"(detail, index) in text.workContents\" :key=\"index\" @click=\"jumpto(detail && detail.url)\">\n              <span class=\"record-text\" style=\"margin-top: 20px; margin-bottom: 20px\">\n                <span\n                  v-if=\"detail.work_type === 1 && text.count === 8 && detail.content !== ''\"\n                  style=\"color: rgb(106, 168, 79)\"\n                  >[{{ detail.hour }}H]</span\n                >\n                <span\n                  v-else-if=\"detail.work_type === 1 && text.count > 8 && detail.content !== ''\"\n                  style=\"color: rgb(205, 51, 51)\"\n                  >[{{ detail.hour }}H]</span\n                >\n                <span\n                  v-else-if=\"detail.work_type === 1 && text.count < 8 && detail.content !== ''\"\n                  style=\"color: rgb(0, 0, 0)\"\n                  >[{{ detail.hour }}H]</span\n                >\n\n                <span v-if=\"detail.work_type === 1 && text.count === 8\" style=\"color: rgb(106, 168, 79)\">{{\n                  detail.content\n                }}</span>\n                <span v-else-if=\"detail.work_type === 1 && text.count > 8\" style=\"color: rgb(205, 51, 51)\">{{\n                  detail.content\n                }}</span>\n                <span v-else-if=\"detail.work_type === 1 && text.count < 8\" style=\"color: rgb(0, 0, 0)\">{{\n                  detail.content\n                }}</span>\n\n                <span v-else-if=\"detail.work_type === 0\" style=\"color: rgb(255, 20, 147)\">{{ detail.content }}</span>\n\n                <span v-else style=\"color: rgb(255, 127, 0)\">{{ detail.content }}</span>\n              </span>\n              <br />\n            </a>\n          </div>\n          <div>\n            <div style=\"margin-top: 10px\">\n              <a-button id=\"editbutton\" size=\"small\" @click=\"showModal(text.date, text.workContents, record.id)\"\n                >编辑</a-button\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </a-table>\n\n    <!-- 弹窗 -->\n    <div>\n      <a-modal v-model=\"visible\" title=\"编辑\" @ok=\"handleOk\" :afterClose=\"onClose\" width=\"800px\">\n        <div v-for=\"(item, index) in contenttask\" :key=\"index\" style=\"margin-top: 5px\">\n          <span width=\"100px\">工作内容: <a-input class=\"editstyle\" v-model=\"item.content\" /></span>\n          <span>链接地址: <a-input class=\"editstyle\" v-model=\"item.url\" /></span>\n          <span>工时: <a-input class=\"editstyle\" v-model=\"item.hour\" style=\"width: 50px\" /></span>\n          <span><a-button type=\"danger\" @click=\"deltask(index)\" style=\"margin-left: 5px\">删除</a-button></span>\n        </div>\n\n        <div>\n          <span><a-button type=\"primary\" @click=\"addtask()\">新增</a-button></span>\n          <span\n            ><a-button style=\"margin-left: 50px; margin-top: 10px\" type=\"primary\" @click=\"qingjia()\"\n              >请假</a-button\n            ></span\n          >\n        </div>\n      </a-modal>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport 'moment/locale/zh-cn'\nimport { axios } from '@/utils/request'\nimport { forEach } from 'store/storages/all'\n\nexport default {\n  //排期日报页面\n  name: 'qamemberdata',\n  data() {\n    return {\n      //小组\n      qadata_groups: [],\n\n      //业务线\n      qadata_projects: [],\n\n      //小组和业务线\n      qadatas: [],\n\n      //时间选择框\n      dateRange: [],\n\n      //项目id\n      setprojectId: 0,\n\n      //设置项目名称\n      setprojectname: '所有业务线',\n\n      //业务线id\n      setgroupId: 0,\n\n      //表头\n      all_columns_data: [],\n\n      //列表长度\n      columns_len: 0,\n\n      //列表数据\n      qadata: [],\n\n      //弹窗是否显示\n      visible: false,\n\n      //弹窗中的任务\n      contenttask: [],\n\n      //弹窗任务日期\n      edittaskdate: '',\n\n      //弹窗人的id\n      edituserid: '',\n    }\n  },\n\n  methods: {\n    init() {\n      this.getproject()\n\n      //周一 周日\n      const monday = this.dayjs().startOf('week').add(1, 'day')\n      const sunday = this.dayjs().endOf('week').add(1, 'day')\n\n      //时间转moment对象\n      this.dateRange = [\n        moment(monday.format('dddd MMM DD YYYY HH:mm:ss ZZ')),\n        moment(sunday.format('dddd MMM DD YYYY HH:mm:ss ZZ')),\n      ]\n      //let temptime = [monday.format('YYYY-MM-DD HH:mm:ss'), sunday.format('YYYY-MM-DD HH:mm:ss')]\n\n      this.getdate(this.dateRange)\n    },\n    //获取列表数据\n    getdate(dateRange) {\n      let temptime = [\n        this.dayjs(dateRange[0].valueOf()).format('YYYY/MM/DD HH:mm:ss'),\n        this.dayjs(dateRange[1].valueOf()).format('YYYY/MM/DD HH:mm:ss'),\n      ]\n      this.get_columns(temptime)\n      this.getneedtimelist(temptime)\n    },\n\n    //设置查询技术部的id\n    setgroupid(groupid) {\n      this.setgroupId = groupid\n\n      //项目增加所有业务线\n      var temp = [{ projectId: 0, projectName: '所有业务线' }]\n      this.qadatas.forEach((item) => {\n        if (groupid === item.groupId) {\n          this.qadata_projects = temp.concat(item.projectList)\n        } else if (groupid === 0) {\n          this.qadata_projects = this.allproject\n        }\n      })\n\n      //重置业务线名称和id\n      this.setprojectname = '所有业务线'\n      this.setprojectId = 0\n    },\n\n    //设置查询技术部id\n    setprojectid(projectid) {\n      this.setprojectId = projectid\n      this.qadata_projects.forEach((item) => {\n        if (projectid === item.projectId) {\n          this.setprojectname = item.projectName\n        }\n      })\n    },\n\n    //获取业务线和项目\n    getproject() {\n      axios\n        .get('/project/query')\n        .then((response) => {\n          if (response.code === 200) {\n            this.qadatas = response.data\n\n            var qadata_groups = new Array()\n            var qadata_projects = new Array()\n\n            qadata_groups.push({ groupId: 0, groupName: '商业技术部' })\n\n            qadata_projects.push({ projectId: 0, projectName: '所有业务线' })\n            //获取所有业务线\n            response.data.forEach((groupitem) => {\n              qadata_groups.push({ groupId: groupitem.groupId, groupName: groupitem.groupName })\n\n              //获取所有项目\n              groupitem.projectList.forEach((projectitem) => {\n                qadata_projects.push({ projectId: projectitem.projectId, projectName: projectitem.projectName })\n              })\n            })\n            this.qadata_groups = qadata_groups\n            this.qadata_projects = qadata_projects\n            this.allproject = qadata_projects\n          }\n        })\n        .catch((error) => {\n          this.$message.error('内网数据获取失败')\n        })\n    },\n\n    //点击查询获取列表数据\n    getneedtimelist(dateRange) {\n      dateRange[0] = this.dayjs(dateRange[0].valueOf()).format('YYYY-MM-DD')\n      dateRange[1] = this.dayjs(dateRange[1].valueOf()).format('YYYY-MM-DD')\n      axios\n        .post('/DailyWork/query', {\n          startTime: dateRange[0],\n          endTime: dateRange[1],\n          projectId: this.setprojectId,\n          groupId: this.setgroupId,\n        })\n        .then((response) => {\n          if (response.code === 200) {\n            this.qadata = this.sortdata(response.data)\n          }\n        })\n        .catch((error) => {\n          this.$message.error('内网数据获取失败')\n        })\n    },\n\n    //格式化数据\n    sortdata(data) {\n      var temp = new Array()\n      temp = this.all_columns_data.slice(2)\n      data.forEach((item) => {\n        for (let i = 0; i < temp.length; i++) {\n          item[temp[i].children[0].title] = item.dateWork[i]\n        }\n      })\n      data = this.countdayhours(data)\n      return data\n    },\n\n    //计算某人某日总时长和是否显示分割线\n    countdayhours(data) {\n      var temp = new Array()\n      temp = this.all_columns_data.slice(2)\n      data.forEach((item) => {\n        for (var i = 0; i < temp.length; i++) {\n          //每天总是长\n          var count = 0\n\n          //tb任务 work任务中间的分割线\n          var line_show = true\n\n          //workContents处理\n          if (\n            item[temp[i].children[0].title].workContents &&\n            item[temp[i].children[0].title].workContents.length !== 0\n          ) {\n            item[temp[i].children[0].title].workContents.forEach((item) => {\n              if (item.hour !== null) {\n                count = count + item.hour\n              }\n              //请假或假期隐藏分割线\n              if (item.work_type === 2 || item.work_type === 0) {\n                line_show = false\n              }\n            })\n          }\n\n          //tbWorkContent处理\n          if (\n            item[temp[i].children[0].title].tbWorkContent &&\n            item[temp[i].children[0].title].tbWorkContent.length !== 0\n          ) {\n            item[temp[i].children[0].title].tbWorkContent.forEach((item) => {\n              if (item.hour !== null) {\n                count = count + item.hour\n              }\n            })\n          }\n\n          if (\n            item[temp[i].children[0].title].workContents &&\n            item[temp[i].children[0].title].workContents.length === 0 &&\n            item[temp[i].children[0].title].tbWorkContent &&\n            item[temp[i].children[0].title].tbWorkContent.length === 0\n          ) {\n            line_show = false\n          }\n\n          item[temp[i].children[0].title].count = count\n          item[temp[i].children[0].title].line_show = line_show\n        }\n      })\n      return data\n    },\n\n    //点击跳转\n    jumpto(hrefhost) {\n      if (hrefhost !== null && hrefhost !== '') {\n        window.open(hrefhost)\n      }\n    },\n\n    //打开弹窗\n    showModal(datatime, text, userid) {\n      this.contenttask = text\n      this.edittaskdate = datatime\n      this.edituserid = userid\n      document.documentElement.style = ''\n      if (this.contenttask.length === 0) {\n        this.contenttask = [\n          {\n            content: '',\n            hour: 0,\n            url: null,\n            work_type: 1,\n          },\n        ]\n      }\n      this.visible = true\n    },\n\n    //删除数组元素\n    deltask(num) {\n      this.contenttask.splice(num, 1)\n    },\n\n    //新增任务\n    addtask() {\n      this.contenttask.push({\n        content: '',\n        hour: null,\n        url: null,\n        work_type: 1,\n      })\n    },\n\n    //点击弹窗保存\n    handleOk() {\n      var temp = 1\n      for (var i = 0; i < this.contenttask.length; i++) {\n        if (this.contenttask[i].content === '' || this.contenttask[i].hour === null) {\n          this.$message.error('内容和工时不能为空')\n          temp = 0\n          break\n        }\n      }\n      if (temp === 1) {\n        this.contenttask.forEach((item) => {\n          item.work_type = 1\n        })\n        axios\n          .post('/DailyWork/update', {\n            userId: this.edituserid,\n            date: this.edittaskdate,\n            workContent: this.contenttask,\n          })\n          .then((response) => {\n            if (response.code === 200) {\n              this.$message.success('提交成功')\n              this.visible = false\n              this.getdate(this.dateRange)\n            } else {\n              this.$message.error('提交失败')\n            }\n          })\n          .catch((error) => {\n            this.isLoading = false\n            this.$message.error('内网数据获取失败')\n          })\n      }\n    },\n\n    qingjia() {\n      var temp_content = {\n        content: '请假',\n        hour: 0,\n        url: null,\n        work_type: 2,\n      }\n      axios\n        .post('/DailyWork/update', { userId: this.edituserid, date: this.edittaskdate, workContent: [temp_content] })\n        .then((response) => {\n          if (response.code === 200) {\n            this.$message.success('提交成功')\n            this.visible = false\n            this.getdate(this.dateRange)\n          } else {\n            this.$message.error('提交失败')\n          }\n        })\n        .catch((error) => {\n          this.isLoading = false\n          this.$message.error('内网数据获取失败')\n        })\n      this.visible = false\n    },\n\n    //关闭弹窗\n    onClose() {\n      document.documentElement.style.overflowY = 'overlay'\n    },\n\n    //获取表头\n    get_columns(dateRange) {\n      // var start = this.dayjs(dateRange[0].valueOf()).format('YYYY-MM-DD HH:mm:ss')\n      // var stop = this.dayjs(dateRange[1].valueOf()).format('YYYY-MM-DD HH:mm:ss')\n      var start = dateRange[0]\n      var stop = dateRange[1]\n      var array = new Array()\n\n      //添加业务线\n      array.push({ title: '业务线', key: 'projectName', dataIndex: 'projectName', width: 30 })\n\n      //添加姓名\n      array.push({ title: '姓名', key: 'name', dataIndex: 'name', width: 30 })\n      var current = new Date(start)\n      stop = new Date(stop)\n      while (current <= stop) {\n        if (\n          this.get_week(this.dayjs(new Date(current)).day()) === '星期六' ||\n          this.get_week(this.dayjs(new Date(current)).day()) === '星期日'\n        ) {\n          array.push({\n            title: this.get_week(this.dayjs(new Date(current)).day()),\n            children: [\n              {\n                title: this.dayjs(new Date(current)).format('YYYY-MM-DD'),\n                key: this.dayjs(new Date(current)).format('YYYY-MM-DD'),\n                dataIndex: this.dayjs(new Date(current)).format('YYYY-MM-DD'),\n                width: 35,\n                scopedSlots: { customRender: 'action' },\n              },\n            ],\n          })\n        } else {\n          array.push({\n            title: this.get_week(this.dayjs(new Date(current)).day()),\n            children: [\n              {\n                title: this.dayjs(new Date(current)).format('YYYY-MM-DD'),\n                key: this.dayjs(new Date(current)).format('YYYY-MM-DD'),\n                dataIndex: this.dayjs(new Date(current)).format('YYYY-MM-DD'),\n                width: 50,\n                scopedSlots: { customRender: 'action' },\n              },\n            ],\n          })\n        }\n\n        current.setDate(current.getDate() + 1)\n      }\n      this.columns_len = array.length * 120\n      this.all_columns_data = array\n    },\n\n    //获取日期的星期几\n    get_week(num) {\n      var weeks = new Array('星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六')\n      var week = weeks[num]\n      return week\n    },\n  },\n  computed: {},\n  created() {\n    this.init()\n  },\n}\n</script>\n\n\n<style scoped>\n\n\n.a-range-picker {\n  margin-left: 20px;\n  margin-right: 20px;\n}\n.ant-table td {\n  white-space: nowrap;\n}\n\n.editstyle {\n  width: 200px;\n  margin-bottom: 2px;\n}\n\n\n\n</style>"]}]}